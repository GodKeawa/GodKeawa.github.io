<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Else Heart.break()评测</title>
      <link href="/2024/04/04/game01/"/>
      <url>/2024/04/04/game01/</url>
      
        <content type="html"><![CDATA[<p>非常小众，整体上游玩体验并不算好，但是游戏理念非常有意思<br>总体评分3.5&#x2F;5左右，程序员游玩可以加分<br>故事剧情比较拉跨，网状叙事有点难掌握，主线没有完全的GE，但是可以通过代码实现<br>游戏性因人而异，需要自学游戏里的编程语言<br>美术风格非常独特复古，还有一层奇怪的滤镜，算是毕竟毕加索<br>音乐似乎没什么制作，毕竟是两人独立开发</p><p>就如游戏介绍里所说</p><blockquote><p>在一个奇特的城市，bit 取代了原子成为世界的基本单位。</p></blockquote><p>游戏创建了一个类似于黑客帝国的世界观，整个世界都成为了运行中的代码，而我们在度过了极其无聊的前期以后，就可以得到一个编辑器，这个编辑器可以编辑这个世界里的非常多东西，由此也能逐渐发现这个世界赛博朋克的一面</p><p>前期流程可以通过攻略通过<br><a href="https://www.riotbits.com/zh-TW/else-heart-break-full-walkthrough-guide-52214/">Else Heart.Break() 完整演練指南 (riotbits.com)</a><br>游戏没有汉化，没有引导，地图没有人物坐标标记，可以说很难入坑</p><p>在后续得到第二个编辑器后，就可以用编辑器编辑编辑器，让编辑器能够编辑世界上几乎所有东西</p><p>游戏非常有意思的地方也就在于这个世界里的非常多东西都可以自由编辑<br>同时也可以通过自己写程序实现一些有意思的功能</p><p>这个介绍视频可以大概了解游戏的内容，但是这个游戏的趣味全在自己玩和探索的过程中</p><div align=center class="aspect-ratio">    <iframe src="//player.bilibili.com/player.html?aid=277470198&bvid=BV1pw411F7VA&cid=1307718464&p=1"    scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><p>steam上的价格有些离谱，可以去某些平台买个key，15元左右<br>本人大概打了14小时，去掉重复时间和垃圾时间，游戏内容12小时左右，还算值得</p><p>已经过去挺久了，但是它确实值得记录下来<br><img src="https://picbed.godke.blog/img/20240404202408.png" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> game </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>论上面的草台班子</title>
      <link href="/2024/04/04/badtop/"/>
      <url>/2024/04/04/badtop/</url>
      
        <content type="html"><![CDATA[<h1 id="学习活动"><a href="#学习活动" class="headerlink" title="学习活动"></a>学习活动</h1><p>自从加入了什么dz学习小组，就要去参加它组织的各种活动，假如说组织者能给出一些有意思的东西的话，我倒还没有什么意见</p><p>然而事实是，组织者常年准备不足，内容质量极差，且不谈有没有研究思考，就是摘抄东西都抄不到点子上，抄不出一个有形状的主题</p><p>每次挑个最近发生的zz活动，拿新闻稿做个ppt，念一遍，完事了<br>本以为20分钟是保底<br>没想到12分钟就是实际表现，还要写感想，乐死了，有什么感想<br>让我开骂可能内容还丰富一点</p><p>学到的东西不如自己去做研究，表面上浪费12分钟十分善良，但是加上通勤时间就是接近半个小时，不如看一话番</p><h1 id="春游"><a href="#春游" class="headerlink" title="春游"></a>春游</h1><p>逆天级活动设计，给大学生安排抢凳子活动，我自己带了单反，就准备自己去搞摄影</p><p>没想到到了实际开展，完全没有组织性，全靠小圈子，做的活动预案只有自由活动实现了，乐了，拍完照就回去了</p><h1 id="互访互学"><a href="#互访互学" class="headerlink" title="互访互学"></a>互访互学</h1><p>第一次和数学系互访互学，人家讲数学系的红色文化，讲数学系举办的一些社会实践活动，虽然说和团支部没什么关系，但至少内容上还算是本地化的，多少和数学系有关</p><p>我方离谱团支部，给别人讲政府工作报告，就念一遍，毫无分析和理解，给我听笑了，玩了20分钟手机</p><p>后面数学系预定的人没来，就直接结束了，属于是半斤八两</p><h1 id="通讯稿"><a href="#通讯稿" class="headerlink" title="通讯稿"></a>通讯稿</h1><p>参加宣传部是我最后悔的事<br>整个活动毫无内容，毫无意义，天天觉觉又悟悟，真以为嘴上说说心里就有了？给我整乐了</p><p>我觉着没什么意思，就让GPT帮我写了，描述的还算详细，唯有意义是完全GPT生成的，我稍微修改了一下</p><p>交上去，打回来了，原因是什么团支部名称没写对，立意太高了</p><p>团支部名称确实是我的问题，不过我也不理解搞那么精准有什么用，搞到最后说白了你只是在乎这东西可以证明是这个XX团支部确实举办了这个XX活动，至于其他的毫无价值</p><p>还说什么立意太高了，我真是服了，你居然还知道实际是一坨屎，真要实话实说我直接就开骂了，意义直接就反串了，还跟你讲什么正面意义</p><p>反正是乐了，因为有了之前团队协作的经验，现在我的工作流都是全靠别人的努力</p><p>反正题目给我，我就照着传给GPT，给一点细节一点的提示词，然后修正一下发过去，后面就看修改意见</p><p>他说一点我改一点，基本上改完对面也没话说了，属于是懂得都懂，都是垃圾，没什么好追求的，看着能看就行</p><h1 id="团校"><a href="#团校" class="headerlink" title="团校"></a>团校</h1><p>阴间东西，组织性极差，邀请来的演讲的人质量倒不差，但说白了还是别人的功劳，你就拿个名号叫人家而已</p><p>反正开了个营，后面全靠学生组织，随便参加了足量的活动，准备下班</p><p>结果直接等到下一期团校都要开了，上面的毫无反应，搞到最后多半是忘了，然后重新整理参与情况，笑嘻了，估计是问卷星过期了，看不到了</p><p>第一次整理，吊毛把我两个活动全整没了，我还在群里问了活动相关事宜，还能统计不到我，乐</p><p>然后又是接近一个月，终于有了消息，反正我都说明过了，也就成功毕业了</p><p>搞了半天评优是看学分，一开始又不说明评优机制，亏我还写了那么多感想，结果是小丑，妈的又让我当了一次若只</p><p>这就是中国教育</p><h1 id="评优"><a href="#评优" class="headerlink" title="评优"></a>评优</h1><p>弱智平衡度，当个管理基本就无敌了，还tm清明节大早上发通知，说时间紧迫，12点就要提交，tmd劳资睡到下午1点，起来黄花菜都变答辩了，看了一下评选机制，也是史，反正自己肯定评不上，懒得填表了</p><p>还表现得好像很重要，很有价值一样，这评出来的能叫优？评出来一群牛马而已，甚至连牛马都不如，人家牛马干的至少是实在的事，这tm一群人喂我吃答辩，还要给他们评优，乐死了，我宁愿我不是</p>]]></content>
      
      
      <categories>
          
          <category> 日常杂谈 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>论如何团队协作</title>
      <link href="/2024/04/04/teamwork/"/>
      <url>/2024/04/04/teamwork/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本文持续更新中</p></blockquote><p>在短短两年的大学生涯里，我就已经被各种阴间小组折磨了n次，这次写一个复盘来指导后续操作</p><h2 id="1-高级英语——口试——B"><a href="#1-高级英语——口试——B" class="headerlink" title="1. 高级英语——口试——B+"></a>1. 高级英语——口试——B+</h2><p>大一上高英，无异于傻逼，但很可惜这样两个傻逼就这样相遇了</p><p>两个菜鸡，相顾无言，唯有难绷跨过屏幕和腾讯会议互相传递</p><p>前期两人讨论的时候我善良地把简单的部分交给她了，因为之前就感觉她好像比我还菜，但最后似乎自己也半斤八两，反正凑合着过去了，菜是原罪</p><h2 id="2-普化实验——实验——B"><a href="#2-普化实验——实验——B" class="headerlink" title="2. 普化实验——实验——B+"></a>2. 普化实验——实验——B+</h2><p>还不错，自己拉跨</p><h2 id="3-习概——pre——B"><a href="#3-习概——pre——B" class="headerlink" title="3. 习概——pre——B+"></a>3. 习概——pre——B+</h2><p>谁认真就输了，课都没怎么上，pre十分稀饭</p><h2 id="4-生物实验——实验——A"><a href="#4-生物实验——实验——A" class="headerlink" title="4. 生物实验——实验——A"></a>4. 生物实验——实验——A</h2><p>虽然有常驻队友，但是报告不一起写，反正最后划划水就过去了，不算硬课<br>最不努力的课得A，已经开始了解FDU特色了</p><h2 id="5-物理实验——实验——A"><a href="#5-物理实验——实验——A" class="headerlink" title="5. 物理实验——实验——A-"></a>5. 物理实验——实验——A-</h2><p>物理实验配队友简直是弱智行为，搞来搞去只有一个人能上手，我摸鱼就去负责记录数据了，最后全靠我美化数据</p><h2 id="6-新中国史——pre——B"><a href="#6-新中国史——pre——B" class="headerlink" title="6. 新中国史——pre——B+"></a>6. 新中国史——pre——B+</h2><p>负责了一小部分内容和ppt制作，整体效果稀饭，反正也没有什么追求，最后反而是ppt制作被夸了，估计是没别的可以夸了，挺无语的，真是B+又B+啊</p><h2 id="7-近纲——pre——B"><a href="#7-近纲——pre——B" class="headerlink" title="7. 近纲——pre——B+"></a>7. 近纲——pre——B+</h2><p><strong>万恶之源，就是从这里开始我开始逐渐转变成接盘侠，导致了后期的悲剧</strong></p><p>上个近纲莫名碰到了高英的partner，好像她对我的能力还比较自信，居然主动来找我组队，我之前都没什么动力做小组作业，反正凑合着过，就同意了，然后让她去招人，反正我摸鱼</p><p>找到一群乌合之众，第一次开组会，老大开个头，问有没有人有想法，全体静默，然后老大凭借她浅薄的知识尽力找补了一下，还是莫得反应</p><p>我感觉很无语，但是毕竟自己读的东西还是多一点，就随便找了个视角切入，给了个大致的想法，然后说可以稍微细化一点，话题太大容易翻车，又是一阵沉默</p><p>然后我就给了个大致的方向，说只是一个例子，各位可以发挥自己的想象力，这时候才终于有点声音发出来，反正大概讨论一下，最后基本就按我的框架定下来了</p><p>最后我直接一头雾水，我寻思着我的想法如此若只，居然就这样通过了，然后就是分工，本来我想着把话题细化然后各自负责一部分的，但是这些吊人根本就没那个能力，对他们来说，分工就是：<br>    分别负责：找资料，写文案，做ppt，做pre</p><p>没办法，反正也只能这样搞，就大概确定了下来，最后我做ppt再做一点资料收集</p><p>几天以后资料组其他几个人发东西出来了，我一看就觉得难绷，全™是百度出来的吊毛文章，随便摘点相关的内容就放进word，不要说有组织了，我看了半天连主题都没看出来，而且百度那些吊文章根本没有半点研究性质，直接复述一遍书上的内容然后上升一下就完了，难绷之至</p><p>最后我拿着我自己收集的毛选和一些论文里的内容和他们的有用的东西做了个大致的分类组织，然后交给了文案组，我说不要太受我的分类逻辑的影响，因为这纯粹就是我们最早讨论出来的框架，真正的框架应该有点创新</p><p>最后文案组成功拿出来一个完全按照我的框架写的垃圾文案</p><p>然后我就给他们开个会，说了点修改意见，然后专门指出了《星星之火可以燎原》那部分应该是写得最出彩的，因为前面一堆东西最后导向的就是这个理论而已，而且明明有原文放在那里，就没有一点想法研读一下然后自己做个总结？就会抄百度那群垃圾写的阴间文稿？</p><p>我看他们好像态度不太行，就没有很强制性地说，让他们看情况改一下，然后说一句辛苦了</p><p>后面我也懒得管了，自己那学期25.5学分，累得一批</p><p>最后pre组上去做pre，不出意外地毫无进步，就多抄了几句原文，听完看完，我宁愿相信我没有做过这个吊东西<br>然后听老师做评价，不出所料地平平无奇，还顺便提了一嘴一直到后面引原文的那部分才开始有点味道</p><p>群里反正是鸦雀无声，我也懒得发什么了</p><p>我也在思考自己到底哪里有问题，后来发现单纯是自己太善良，太怀柔了</p><ul><li>收集的阴间资料不吐槽</li><li>文案写得垃圾不强制修改</li></ul><p>但是最根本的还是自己根本不可能有这种强制力，都是水货，谁跟你玩认真的，要做得好就自己玩去<br>给出的基本指导原则是<br>    <strong>当你知道没有人愿意努力的时候，自己也不应该努力，甚至不应该表现出想要努力的意愿</strong></p><h2 id="8-毛概——报告——A"><a href="#8-毛概——报告——A" class="headerlink" title="8.毛概——报告——A"></a>8.毛概——报告——A</h2><p>没错，这是一个可选团队协作的项目，我选择一个人做了</p><p>我觉得这至少说明自己的能力应该还不算差，毕竟考试就是一晚上速通，报告花了两天<br>考试分数肯定是拉了，报告写得应该还是不错</p><p>这也FDU最傻逼的一点，成绩只有结果，奶奶的一点细节不让看，你要我复盘也复盘不了，我都不知道自己是怎么死的又是怎么活的，这玩个寄吧</p><h2 id="9-ICS——手搓CPU模拟器——A"><a href="#9-ICS——手搓CPU模拟器——A" class="headerlink" title="9. ICS——手搓CPU模拟器——A-"></a>9. ICS——手搓CPU模拟器——A-</h2><p>又是一个可选合作项目，我还是选择一个人做了</p><p>其实毕竟是专业课，而且自己降转以后就一大一菜鸡，其他人反而是大二保底的大佬，抱个大腿才是正确的方案</p><p>最后自己做，花了3、4天，付出有点太多了，结果凑合，自己的其他成绩都是满的，考勤全到场，平时作业499&#x2F;500，也只能是最后的project或者课堂参与度问题了<br>自己是真的吊毛不懂，全程都在学，课后还要补习，你要我参与课堂讨论，除非我还有那个余裕预习</p><p><strong>应该给他人多一点信任，自己也轻松</strong></p><h2 id="10-消费扶贫项目——做宣传视频——垃圾"><a href="#10-消费扶贫项目——做宣传视频——垃圾" class="headerlink" title="10. 消费扶贫项目——做宣传视频——垃圾"></a>10. 消费扶贫项目——做宣传视频——垃圾</h2><div align=center class="aspect-ratio">    <iframe src="//player.bilibili.com/player.html?aid=452917262&bvid=BV1sj411n7JT&cid=1384173928&p=1"    scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><p>主要是素材太少，两个唐人还是用竖屏拍的，我又不是很想做竖屏视频<br>而且自己的轻薄本卡出了电竞帧数，实在是巧妇难为无米之炊，文案组写得也挺无语</p><p>凑合着过去了，我感觉对方可能是看到FDU在后面不敢多说什么，要我是项目负责人看到下面的吊人交上来这种答辩多半是要气死的，人家的招待确实还是很好的，要是没有感觉到对方的期待我也懒得做那么多</p><h2 id="11-保密管理概论——大PJ——B"><a href="#11-保密管理概论——大PJ——B" class="headerlink" title="11. 保密管理概论——大PJ——B+"></a>11. 保密管理概论——大PJ——B+</h2><p><strong>万翔之宗</strong><br>这就是FDU带给我的自信</p><p>项目有点太大了，人也多，还要求全班交流合作，实在是有点强人所难</p><p>自己当时真处于摆烂时间，没什么兴致，随便加了个组，准备混过去</p><p>没想到这个组是真的混啊，吊项目三个星期过去连分工都没做好，主题也是一坨浆糊</p><p>反正凑凑又合合，做了一点小工作，之后马上又陷于沉寂</p><p>刚开始还是有几个人想救一下的，说线下开个会啥的，反正最后都是不了了之，然后又是要求线上开会，搞了半天队长失踪了，又开不起来</p><p>反正也无话可说，就一直等到的ddl前一周，艾特了好几次组长，这吊人属于是真的失踪了</p><p>挺无语的，一直等到ddl前30小时左右，我叫了几个人先做点工作，然后又睡了一晚上</p><p>ddl前14小时，我和另一个人考虑把项目赶出个雏形来，然后就讨论了一下分工，两个人做5个人的项目</p><p>反正凑合着做，一直从晚上7点做到凌晨4点，对面说撑不住了，我就让他先去休息了，反正工作都做得差不多了，就差个汇总和工作记录报告了</p><p>花3个小时汇总写了一整个项目的报告书，然后考虑做工作记录，就发现这吊毛工作哪里有什么记录，前面做的东西不到5%，后面10个小时做了绝大部分</p><p>最后挺无语的，要是粉饰太平就显得我们整个小组都是垃圾，毕竟交上去的完全就是翔，最后还是决定完全如实报告了</p><p>项目的分数是全组共得的，不存在太多贡献问题，只能去请个同情分了，反正最开始组长还不是我，到现在几乎一切都是我控制的，我想怎么写都行，最后也只有我能提交</p><p>如实记录了，顺便附上了聊天记录，证明一下情况属实</p><p>在早上9点，我在等其他组的组长醒过来交代一下情况，然后群里就出现了史上最逆天的典籍<br><img src="https://picbed.godke.blog/img/2d24812f770adcbcf1643162934ac87.jpg" alt="2d24812f770adcbcf1643162934ac87.jpg"><br><img src="https://picbed.godke.blog/img/d898254a75ef411d0e2ed5d83a53e43.jpg" alt="d898254a75ef411d0e2ed5d83a53e43.jpg"><br><strong>不要问我为什么不打码，我今天就是来挂人的</strong></p><p>《电脑挂7天后台微信》——我们在7天前就艾特过他<br>《我感觉差不多了吧》——项目大部分文件我都没发群里，只有另一个同学的发给我的在群里<br>《我是不是还有个。。。的东西》——确实，那是4周前的任务<br>《我们有人打包吗？》——原来你还担心东西没交啊，ddl是中午12点</p><p>其实我通个宵完全没什么问题，对计算机系的学生来说，人人都可能在中国过美国的生活<br>做大量工作也没什么问题，反正本来我就可以一个人做完整个项目<br>问题在于这吊毛制度设定的是全组共用一个分数</p><ul><li>我的评价是<ul><li>这个吊毛制度有很大问题</li></ul></li><li>我爸的评价是<ul><li>你有问题，制度摆在那里是改变不了的，人家啥事不做可以拿到和你一样的分数，你折磨自己也木有成果，只能说明你道行不够</li></ul></li><li>猪先生的评价是<ul><li><img src="https://picbed.godke.blog/img/Screenshot_20240404_173513.jpg" alt="Screenshot_20240404_173513.jpg"></li></ul></li></ul><p>从理论的层面来说猪先生的看法是正确的，但是从实践的角度来说，还得是老油条</p><p>这件事告诉我们<br>    <strong>不应该被规则限制，而是应该在规则的边界和bug中试探，玩弄规则</strong><br>    <strong>做人要懂得见机行事</strong></p><p>算我做了一次傻逼，下次不可能有了</p><h2 id="12-IES——labs——进行中"><a href="#12-IES——labs——进行中" class="headerlink" title="12. IES——labs——进行中"></a>12. IES——labs——进行中</h2><p>最舒服的一次，都是计算机系的，可以用在线同步办公软件合作，而且都是上专业课，不太会摆烂<br>目前用语雀快乐合作，效果不错</p><p><strong>团队协作还是需要技术赋能</strong></p><h2 id="13-思想道德与法制——课程项目——进行中"><a href="#13-思想道德与法制——课程项目——进行中" class="headerlink" title="13. 思想道德与法制——课程项目——进行中"></a>13. 思想道德与法制——课程项目——进行中</h2><p>最大的银河战舰，绽放最大的烟花</p><p>目前基本毫无进度，逛校区直接选择了没人去的地方，本来只有我一个人去的，没想到一个人没填问卷，就和我一组了，发现对面也是技科的，还算合得来</p><p>反正我们就2个人，其他组人多，基于能力越大责任越大的原则，我可以顺畅摆烂<br>反正我五一要回去，搞来搞去肯定炸裂，懒得做工作，把自己的报告写好就行</p>]]></content>
      
      
      <categories>
          
          <category> 日常杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> teamwork </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL-06 kali-linux相关</title>
      <link href="/2024/04/02/WSL06/"/>
      <url>/2024/04/02/WSL06/</url>
      
        <content type="html"><![CDATA[<h1 id="安装kali-linux"><a href="#安装kali-linux" class="headerlink" title="安装kali-linux"></a>安装kali-linux</h1><p>直接在WSL2上选择kali-linux安装即可</p><h1 id="安装图形界面"><a href="#安装图形界面" class="headerlink" title="安装图形界面"></a>安装图形界面</h1><p>不得不说kali因为图形界面的必要性比较大（渗透测试很多软件都是有图形界面的）<br>使得kali的图形化技术非常成熟</p><p>直接一键安装Win-KeX</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt install kali-win-kex</span><br></pre></td></tr></table></figure><p>然后就能启动使用了</p><ul><li>因为kali的技术栈就是内置了一共vnc，所以还要给vnc设置个密码，随便设就行</li></ul><p>使用直接看官方docs<br><a href="https://www.kali.org/docs/wsl/win-kex/">Win-KeX | Kali Linux Documentation</a><br>一共三个模式</p><ul><li>window模式，就是相当于占满屏幕，对多屏幕友好，我就直接用这个，放在副屏上<ul><li>使用命令<code>kex --win -s</code></li></ul></li><li>增强模式，与Hyper-V类似，使用<code>RDP</code>获得功能更丰富的体验<ul><li>使用命令<code>kex --esm --ip -s</code></li></ul></li><li>无缝模式，类似于WSLg，将部分图形镶嵌到windows里，软件也可以直接在windows里打开，还是很推荐的，这样就不用再到windows上安装一次工具了<ul><li>使用命令<code>kex --sl -s</code></li></ul></li></ul><h1 id="安装工具包"><a href="#安装工具包" class="headerlink" title="安装工具包"></a>安装工具包</h1><p>WSL提供的kali是最小版本，很多工具都是没有安装的，可以选择安装一种</p><ul><li>安装标准工具包<ul><li><code>sudo apt install kali-linux-default</code></li></ul></li><li>安装完整工具包（非常大，建议先迁移）<ul><li><code>sudo apt install kali-linux-large</code></li></ul></li></ul><p>还有一个top10的工具包，太离谱就不用了，直接装标准就行，反正后续自己装</p><h1 id="配置声音"><a href="#配置声音" class="headerlink" title="配置声音"></a>配置声音</h1><p>kali自带播放器和声音相关包，只是初始可能不运行<br>目前的方案是</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">（1）在终端执行命令：systemctl --user <span class="built_in">enable</span> pulseaudio （似乎不运行也行，我的甚至没有systemctl）</span><br><span class="line"></span><br><span class="line">（2）在/etc/default/目录下，创建一个文件，命名为pulseaudio，并添加以下内容：</span><br><span class="line">PULSEAUDIO_SYSTEM_START=1</span><br><span class="line">DISALLOW_MODULE_LOADING=0</span><br></pre></td></tr></table></figure><p>重启系统，就有声音了<br>PS: 这声音系统时好时坏，配置应该是没问题，时不时dbus启动不了，不知道为什么，重启又能解决</p><h1 id="配置输入法"><a href="#配置输入法" class="headerlink" title="配置输入法"></a>配置输入法</h1><p><a href="https://blog.csdn.net/weixin_43681778/article/details/122562249">Kali Linux 安装配置中文输入法 Fcitx5_kali fcitx-CSDN博客</a><br>fcitx容易出bug，还是用fcitx5吧</p>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> kali </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL-05 WSL迁移</title>
      <link href="/2024/04/01/WSL05/"/>
      <url>/2024/04/01/WSL05/</url>
      
        <content type="html"><![CDATA[<p><strong>WSL迁移不止是为了给C盘腾空间，也是为了方便进行备份</strong></p><h2 id="查看wsl状态"><a href="#查看wsl状态" class="headerlink" title="查看wsl状态"></a>查看wsl状态</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wsl -l -v</span><br><span class="line">如果Running运行状态，关掉它</span><br><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure><h2 id="导出系统镜像"><a href="#导出系统镜像" class="headerlink" title="导出系统镜像"></a>导出系统镜像</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --<span class="built_in">export</span> Ubuntu E:\Ubuntu\ubuntu.tar</span><br></pre></td></tr></table></figure><p>在路径下有了Ubuntu的压缩包，可以把这个压缩包备份，也可以直接导出到备份盘里，主文件并不受影响</p><h2 id="注销原有的linux系统"><a href="#注销原有的linux系统" class="headerlink" title="注销原有的linux系统"></a>注销原有的linux系统</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wsl --unregister Ubuntu</span><br><span class="line">可以再查看是否注销：</span><br><span class="line">wsl -l -v</span><br></pre></td></tr></table></figure><h2 id="导入系统"><a href="#导入系统" class="headerlink" title="导入系统"></a>导入系统</h2><p>wsl –import &lt;导入的Linux名称&gt; &lt;导入盘的路径&gt; &lt;ubuntu.tar的路径&gt; –version 2 (代表 wsl2)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --import Ubuntu E:\Ubuntu\ E:\Ubuntu\ubuntu.tar --version 2</span><br></pre></td></tr></table></figure><p>对比前面，路径下多了一个 ext4 映像文件</p><h2 id="修改默认用户"><a href="#修改默认用户" class="headerlink" title="修改默认用户"></a>修改默认用户</h2><p>打开wsl ubuntu之后，默认以root身份登录。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu.exe config --default-user &lt;你的用户名&gt;</span><br></pre></td></tr></table></figure><p>ubuntu.exe ：前面导入的时候没指定，所以这里用的默认ubuntu</p>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL-04 开发环境配置</title>
      <link href="/2024/04/01/WSL04/"/>
      <url>/2024/04/01/WSL04/</url>
      
        <content type="html"><![CDATA[<h1 id="编译环境"><a href="#编译环境" class="headerlink" title="编译环境"></a>编译环境</h1><p>实际上没有什么好配置的，Ubuntu天生就是拿来搞开发的<br>直接安装GNU工具链<br><code>sudo apt install binutils diffutils gcc gdb grep g++ make tar</code><br>其实就已经差不多了，只是要依赖自己在终端编译运行，习惯就好<br>python3现在ubuntu自带的都是3.10.12版本，而且是系统必备库</p><p>偶尔可能出现一些找不到程序的情况，大部分时候谷歌一下再做个软链接就行</p><p>然后就是配置一下VScode的插件，大部分都可以直接从windows迁移<br>VScode一些配置文件最好也设置一下，方便自定义<br><a href="https://blog.csdn.net/weixin_41823188/article/details/113530573">ubuntu下vscode编写C++环境配置，包括launch.json、tasks.json和c_cpp_properties.json文件说明</a><br>之后就可以在windows上进行快乐的远程开发了</p><h1 id="pwndbg"><a href="#pwndbg" class="headerlink" title="pwndbg"></a>pwndbg</h1><p>其实考虑了一下，发现这东西应该装在kali里,不过有一个还是挺好的<br>一个显著的优点就是可以查看各种更细节的东西了，比如汇编代码，栈和寄存器的内容，且是支持VScode读取的<br>未安装pwndbg的情况下，尝试打开寄存器选项会导致gdb直接崩溃</p><p>只要直接clone下来安装就行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/pwndbg/pwndbg</span><br><span class="line"><span class="built_in">cd</span> pwndbg</span><br><span class="line">./setup.sh</span><br></pre></td></tr></table></figure><p>因为pwndbg是python的库，作为gdb的插件，所以安装时会顺便安装python的各种环境，属于是一举两得<br>配置好网络就是愉快的一键安装，防傻又好用</p><h1 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h1><ul><li>关于makefile的编写</li><li>关于Cmake的使用</li><li>控制台优化——tmux</li></ul>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> vscode </tag>
            
            <tag> pwndbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL-03 GUI界面</title>
      <link href="/2024/03/29/WSL03/"/>
      <url>/2024/03/29/WSL03/</url>
      
        <content type="html"><![CDATA[<h1 id="给WSL安装桌面"><a href="#给WSL安装桌面" class="headerlink" title="给WSL安装桌面"></a>给WSL安装桌面</h1><h2 id="踩坑经历"><a href="#踩坑经历" class="headerlink" title="踩坑经历"></a>踩坑经历</h2><p>网上还是有很多先辈尝试过的</p><h3 id="gnome桌面尝试"><a href="#gnome桌面尝试" class="headerlink" title="gnome桌面尝试"></a>gnome桌面尝试</h3><h4 id="X-server-技术栈"><a href="#X-server-技术栈" class="headerlink" title="X server  技术栈"></a>X server  技术栈</h4><p>目前来说最完整的是这篇文章<br><a href="https://blog.csdn.net/HackEle/article/details/122572418">Windows中WSL2 配置运行GNOME桌面版 Ubuntu-CSDN博客</a><br>但是时隔几年，WSL2变了很多</p><ul><li>基本流程不变，apt-fast可以不安装</li><li>主要安装两个包<code>ubuntu-desktop和gnome</code>，<code>gnome-session</code>大概率是包含的</li><li>在安装包之前要进行一个操作，还有一些可能的问题要处理<ul><li>见<a href="https://blog.csdn.net/qq_30448087/article/details/134897586">WSL2 Ubuntu22.04安装KDE桌面_setting up acpi-support (0.144) … failed to retr-CSDN博客</a></li></ul></li><li>VcXsrv照常配置</li></ul><p>最主要的变化就是图像输出地址的变化<br>在目前的绝大部分博客中都是写的</p><blockquote><p>在.bashrc文件末尾写入：<br>export DISPLAY&#x3D;$(cat &#x2F;etc&#x2F;resolv.conf | grep nameserver | awk ‘{print $2}’):0<br>export LIBGL_ALWAYS_INDIRECT&#x3D;1</p></blockquote><p>这个DISPLAY的地址和配置代理的地址是一样的，后面的:0是控制几号屏幕和几号窗口的<br>其实最后面的东西根本没必要看别人说怎么配置，自己打开VcXsrv，就能看到标题里有<br><img src="https://picbed.godke.blog/img/20240403191620.png" alt="image.png"><br>所以直接用-1（让软件自己选择），然后地址上配0.0就行</p><p>而前面的ip地址有很多说法，包括</p><ul><li>上面的说法，即Ubuntu的namesever地址</li><li>本机（windows）的ipv4地址</li><li>Ubuntu的ipv4虚拟地址</li></ul><p>然而实际上这些地址都有问题，在新的Ubuntu里因为WSLg的存在，绝大部分情况下输出图像都被WSLg承接了<br>可以使用测试程序<code>xeyes</code>,就会发现眼睛出现在独立窗口里，而不是VcXsrc里</p><p>经过本人的多次尝试，事实上DISPLAY地址应该是<code>localhost:0.0</code><br>在这样的情况下，只要这一行，便可以实现将图像输出到VcXsrc</p><p>然后就是各种bug，最好的情况也就是能打开桌面然后动一动了，终端都是打不开的<br>这里踩了超多坑，虽然有记录但是已经没意义了，因为未来大概率不支持了<br><a href="https://www.linuxmi.com/gnome-towards-dropping-x11.html">GNOME 正在采取措施逐步放弃 X11 - Linux迷 (linuxmi.com)</a><br>而这条技术栈完全依赖于X11，走不远就不走了</p><h4 id="vnc-技术栈"><a href="#vnc-技术栈" class="headerlink" title="vnc 技术栈"></a>vnc 技术栈</h4><p>大差不差，用xrdp来实现远程控制<br><a href="https://blog.csdn.net/flr_0831/article/details/123970357">Windows10 WSL2 安装Ubuntu并使用图形化界面_wsl2 ubuntu图形界面-CSDN博客</a><br>问题和X server技术栈如出一辙</p><ul><li>要么没图像，要么直接报错</li><li>性能还不好</li></ul><h3 id="KDE尝试"><a href="#KDE尝试" class="headerlink" title="KDE尝试"></a>KDE尝试</h3><p>很少有人玩这个，我只是尝试了一下，问题一堆，还是快跑吧<br><a href="https://blog.csdn.net/qq_30448087/article/details/134897586">WSL2 Ubuntu22.04安装KDE桌面_setting up acpi-support (0.144) … failed to retr-CSDN博客</a></p><h3 id="xfce4尝试"><a href="#xfce4尝试" class="headerlink" title="xfce4尝试"></a>xfce4尝试</h3><p>问题不多，效果拉跨，不如没有<br>目前网上大部分人都是跑的xfce4，因为简单防傻，没多大作用<br><a href="https://zhuanlan.zhihu.com/p/436441212">win11系统通过WSL&#x2F;WSL2安装ubuntu，开启图形桌面 - 知乎 (zhihu.com)</a><br>VcXsrc和xrdp的技术栈目前来说都还行，但是太丑了</p><h2 id="最终方案"><a href="#最终方案" class="headerlink" title="最终方案"></a>最终方案</h2><blockquote><p>装个锤锤gui，就一开发环境，还是远程开发，又不是kali，为什么需要桌面</p></blockquote><p>直接使用微软的WSLg方案<br><a href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gui-apps">使用 WSL 运行 Linux GUI 应用 | Microsoft Learn</a></p><ul><li>大部分都装上最好，没有GIMP倒是问题不大，只是编辑不了图片</li><li>VLC必装，不然没有媒体播放器，声音支持似乎也靠它</li><li>Nautilus就是文件管理器，可以直接通过WSLg打开，非常方便<ul><li>就是会产生一些莫名的报错，目前不是很影响使用，其实直接用vscode进行文件管理最好，只是有权限问题，不过大部分系统文件最好还是到终端用nano改</li></ul></li></ul><p>另外可以安装包管理器<br><a href="https://zhuanlan.zhihu.com/p/150879173">在 Ubuntu 中使用轻量的 Apt 软件包管理器 Synaptic | Linux 中国 - 知乎 (zhihu.com)</a></p><p>目前来说Ubuntu不是很适合搞GUI界面，要GUI还是看后面的kali-linux吧</p>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> gnome </tag>
            
            <tag> KDE </tag>
            
            <tag> vnc </tag>
            
            <tag> WSLg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL-02 配置网络代理和远程访问</title>
      <link href="/2024/03/28/WSL02/"/>
      <url>/2024/03/28/WSL02/</url>
      
        <content type="html"><![CDATA[<h1 id="配置VScode进行远程开发"><a href="#配置VScode进行远程开发" class="headerlink" title="配置VScode进行远程开发"></a>配置VScode进行远程开发</h1><p>现在的Ubuntu就是一个精简的系统，里面几乎什么都没有，也没有GUI，用控制台进行后续操作十分麻烦，所以应该趁早用上VScode的远程开发<br>微软的官方教程非常详细<a href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-vscode">开始通过 WSL 使用 VS Code | Microsoft Learn</a></p><ul><li>直接打开VScode，搜索插件Remote Development<ul><li>这个插件包包含4个插件，即装即用，十分方便</li></ul></li><li>这时有两种启动服务的方法<ul><li>一种是在Ubuntu控制台使用命令<code>code .</code>，这将会以当前目录为根目录打开一个VScode工作区<ul><li>但是这有一个很大的问题就是跨平台网络代理还没实现，大概率卡住且毫无办法</li></ul></li><li>另一种是在VScode的侧边栏或下面找到连接到远程的选项<ul><li>点击WSL对象，应该就能看到自己安装的Ubuntu，点击连接即可</li><li>VScode会把sever文件写入Ubuntu中，所以使用的是主机的网络，不会卡</li></ul></li></ul></li><li>现在就可以使用VScode管理和编写文件了，当然现在还会有诸多权限问题</li></ul><h1 id="处理网络问题"><a href="#处理网络问题" class="headerlink" title="处理网络问题"></a>处理网络问题</h1><p>Ubuntu的软件包自然都是在国外的，国内只有镜像而已</p><ul><li>你可以选择简单地将下载源切换成镜像来完成基本的apt包下载（但也不保证一定不出错）<br>只需要依次输入命令<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak  # 给旧源做一个备份</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过字符替换切换成中科大的镜像源，也可以去找别的源</span></span><br><span class="line">sudo sed -i &#x27;s@//.*archive.ubuntu.com@//mirrors.ustc.edu.cn@g&#x27; /etc/apt/sources.list  </span><br><span class="line">sudo apt update # 更新状态，让源生效</span><br></pre></td></tr></table></figure></li><li>这样做可以实现大部分apt包的正常下载</li><li>但是如果要使用git，浏览器访问外网之类的就毫无办法了</li></ul><p>在ICS课程里我就是只换了源，但显然这不是长久之计，所以这次得把网络代理处理好</p><h3 id="WSL1-和-WSL2-网络的区别"><a href="#WSL1-和-WSL2-网络的区别" class="headerlink" title="WSL1 和 WSL2 网络的区别"></a>WSL1 和 WSL2 网络的区别</h3><p>在 WSL1 时代，由于 Linux 子系统和 Windows 共享了网络端口，所以访问 Windows 的代理非常简单。例如 Windows 的代理客户端监听了 8000 端口，那么只需要在 Linux 子系统中执行如下命令，就可以让当前 session 中的请求通过代理访问互联网。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export ALL_PROXY=&quot;http://127.0.0.1:8000&quot;</span><br></pre></td></tr></table></figure><p>但是 WSL2 基于 Hyper-V 运行，导致 Linux 子系统和 Windows 在网络上是两台各自独立的机器，从 Linux 子系统访问 Windows 首先需要找到 Windows 的 IP。</p><h3 id="配置-WSL2-访问-Windows-上的代理"><a href="#配置-WSL2-访问-Windows-上的代理" class="headerlink" title="配置 WSL2 访问 Windows 上的代理"></a>配置 WSL2 访问 Windows 上的代理</h3><p>有两个关键步骤：</p><ol><li>WSL2 中配置的代理要指向 Windows 的 IP；</li><li>Windows 上的代理客户端需要允许来自本地局域网的请求； 由于 Linux 子系统也是通过 Windows 访问网络，所以 Linux 子系统中的网关指向的是 Windows，DNS 服务器指向的也是 Windows，基于这两个特性，我们可以将 Windows 的 IP 读取出来。 例如，在 Ubuntu 子系统中，通过 <code>cat /etc/resolv.conf</code> 查看 DNS 服务器 IP。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:</span><br><span class="line"># [network]</span><br><span class="line"># generateResolvConf = false</span><br><span class="line">nameserver 172.25.144.1</span><br></pre></td></tr></table></figure><p>可以看到 DNS 服务器是 <code>172.19.80.1</code>，通过环境变量 <code>ALL_PROXY</code> 配置代理：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export ALL_PROXY=&quot;http://172.25.144.1:7890&quot;</span><br></pre></td></tr></table></figure><p>7890 是 Windows 上运行的代理客户端的端口，记得要在 Windows 代理客户端上配置允许本地局域网请求。<br><img src="https://picbed.godke.blog/img/20240331161946.png"></p><h3 id="一键配置"><a href="#一键配置" class="headerlink" title="一键配置"></a>一键配置</h3><p><strong>在最新版本的WSL和Ubuntu下系统会自动配置代理</strong><br>将上面的过程写入用户文件夹下的<code>.bashrc</code>文件，就可以轻松的实现在启动bash时一键配置代理：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># for clash </span><br><span class="line">hostip=$(cat /etc/resolv.conf |grep -oP &#x27;(?%3C=nameserver\ ).*&#x27;)</span><br><span class="line">export https_proxy=&quot;http://$&#123;hostip&#125;:7890&quot;</span><br><span class="line">export http_proxy=&quot;http://$&#123;hostip&#125;:7890&quot;</span><br><span class="line">export all_proxy=&quot;socks5://$&#123;hostip&#125;:7890&quot;</span><br></pre></td></tr></table></figure><p>代码通过 <code>cat /etc/resolv.conf</code> 来获取 DNS 服务器，也就是 Windows 的 IP，再将其中的 IP 部分截取出来，加上代理客户端的端口（我的是 7890，可以根据自己实际情况修改），使用 export 写入环境变量中。</p><p>每次启动WSL前都开启代理即可实现对WSL的全局代理（国内网络几乎没有价值）<br>可以看到使用官方源速率也非常可观<br><img src="https://picbed.godke.blog/img/20240331162554.png" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> Clash </tag>
            
            <tag> vscode </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>What Is College For</title>
      <link href="/2024/03/28/college2/"/>
      <url>/2024/03/28/college2/</url>
      
        <content type="html"><![CDATA[<p><strong>What Is College For?</strong></p><p><em>By GARY GUTTING</em></p><p><em>The Stone is featuring occasional posts by Gary Gutting, a professor of philosophy at the University of Notre Dame, that apply critical thinking to information and events that have appeared in the news.</em></p><h3 id="1-Raising-the-question"><a href="#1-Raising-the-question" class="headerlink" title="1. Raising the question"></a>1. Raising the question</h3><p>Most American college students are <strong>wrapping up yet another</strong> semester this week. For many of them, and their families, the past months or years in school have likely involved considerable time, commitment, effort and expense. Was it worth it?</p><h3 id="2-Positive-answer"><a href="#2-Positive-answer" class="headerlink" title="2. Positive answer"></a>2. Positive answer</h3><p>Some evidence suggests that it was.  <a href="http://pewresearch.org/pubs/1993/survey-is-college-degree-worth-cost-debt-college-presidents-higher-education-system">A Pew Research survey</a> this year found that 74 percent of graduates from four-year colleges say that their education was “very useful in helping them grow intellectually.” Sixty-nine percent said that “it was very useful in helping them grow and mature as a person” and *55 percent claimed that “it was very useful in helping prepare them for a job or career.*”  Moreover, *86 percent of these graduates think “college has been a good investment for them personally.*”</p><h3 id="3-Negative-answer"><a href="#3-Negative-answer" class="headerlink" title="3. Negative answer"></a>3. Negative answer</h3><p>Nonetheless, <strong>there is incessant talk about</strong> the “failure” of higher education.  (<a href="http://www.nybooks.com/articles/archives/2011/nov/24/our-universities-why-are-they-failing/?pagination=false">Anthony Grafton</a> at The New York Review of Books provides an excellent survey of recent discussions.)  Much of this has to do with access: it’s too expensive, admissions policies are unfair, the drop-out rate is too high.  <strong>There is also dismay at the exploitation of</strong> graduate students and part-time faculty members, the <strong>over-emphasis on frills</strong> such as semi-professional athletics or fancy dorms and student centers, and the proliferation of expensive and unneeded administrators.  As important as they are, these criticisms don’t contradict the Pew Survey’s favorable picture of the fundamental value of students’ core educational experience.</p><h3 id="4-Serious-concerns-about-the-experience—induced-by-misunderstanding-about-the-function-of-college"><a href="#4-Serious-concerns-about-the-experience—induced-by-misunderstanding-about-the-function-of-college" class="headerlink" title="4. Serious concerns about the experience—induced by misunderstanding about the function of college"></a>4. Serious concerns about the experience—induced by misunderstanding about the function of college</h3><p>But, as Grafton’s discussion also makes clear, there are serious concerns about the quality of this experience.  In particular, the university curriculum leaves students disengaged from the material they are supposed to be learning.  <em>They see most of their courses as intrinsically “boring,” of value only if they provide training relevant to future employment or if the teacher has a pleasing (amusing, exciting, “relevant”) way of presenting the material</em>. As a result, students spend only as much time as they need to get what they see as acceptable grades (on average, about 12 to 14 hour a week for all courses combined).  Professors have <strong>ceased to</strong> expect genuine engagement from students and often give good grades(B or better) to work that is <strong>at best minimally adequate</strong>. </p><p><em>This lack of academic engagement is real, even among schools with the best students and the best teachers, and it increases dramatically as the quality of the school decreases</em>.  But it results from a basic misunderstanding — by both students and teachers — of what colleges are for.</p><h3 id="5-Functions-of-college"><a href="#5-Functions-of-college" class="headerlink" title="5. Functions of college"></a>5. Functions of college</h3><p>First of all, they are not simply for the education of students.  This is an essential function, but the <strong>raison d’être</strong> of a college is <em>to nourish a world of intellectual culture</em>; that is, a world of ideas, dedicated to what we can <strong>know scientifically, understand humanistically, or express artistically</strong>.  In our society, this world is mainly populated by members of college faculties: scientists, humanists, social scientists (who <strong>straddle</strong> the humanities and the sciences properly speaking), and those who study the fine arts. Law, medicine and engineering are included to the extent that they are still understood as “learned professions,” deploying practical skills that are nonetheless deeply rooted in scientific knowledge or humanistic understanding.  When, as is often the case in business education and teacher training, practical skills far outweigh theoretical understanding, we are moving beyond the intellectual culture that defines higher education.</p><p><em>Our support for higher education makes sense only if we regard this intellectual culture as essential to our society</em>.  Otherwise, we could provide job-training and basic social and moral formation for young adults far more efficiently and cheaply, through, say, a combination of professional and trade schools, and public service programs.  There would be no need to support, at great expense, the highly specialized interests of, for example, physicists, philosophers, anthropologists and art historians.  <em>Colleges and universities have no point if we do not value the knowledge and understanding to which their faculties are dedicated</em>.</p><h3 id="6-Teachers’-responsibility"><a href="#6-Teachers’-responsibility" class="headerlink" title="6. Teachers’ responsibility"></a>6. Teachers’ responsibility</h3><p>This has important consequences for how we regard what goes on in college classrooms.  <em>Teachers need to see themselves as, first of all, intellectuals, dedicated to understanding poetry, history, human psychology, physics, biology — or whatever is the focus of their discipline.  But they also need to realize that this dedication expresses not just their idiosyncratic interest in certain questions but a conviction that those questions have general human significance, even apart from immediately practical applications</em>.  This is why a discipline requires not just research but also teaching.  <em>Non-experts need access to what experts have learned, and experts need to make sure that their research remains in contact with general human concerns</em>. The classroom is <strong>the primary locus of</strong> such contact. </p><h3 id="7-Students’-obligation"><a href="#7-Students’-obligation" class="headerlink" title="7. Students’ obligation"></a>7. Students’ obligation</h3><p>Students, in turn, <em>need to recognize that their college education is above all a matter of opening themselves up to new dimensions of knowledge and understanding</em>. Teaching is not a matter of (as we too often say) “<em>making</em> a subject (poetry, physics, philosophy) interesting” to students <strong>but of students coming to see how such subjects are <em>intrinsically</em> interesting.</strong>  It is more a matter of students moving beyond their interests than of teachers fitting their subjects to interests that students already have.   <strong>Good teaching does not make a course’s subject more interesting; it gives the students more interests — and so makes them more interesting.</strong><br>教学不是(如我们常说的)使学生对一门学科(诗歌、物理、哲学)感兴趣，而是让学生看到这些学科在本质上是多么有趣。<br>好的教学不会让一门课程变得更有趣；它给学生更多的兴趣，所以使他们更有趣。</p><h3 id="8-Conclusion"><a href="#8-Conclusion" class="headerlink" title="8. Conclusion"></a>8. Conclusion</h3><p>Students readily accept the alleged wisdom that their most important learning at college takes place outside the classroom.  Many faculty members — thinking of their labs, libraries or studies — would agree.  <em>But the truth is that, for both students and faculty members, the classroom is precisely where the most important learning occurs</em>.<br>学生们已经接受了所谓的“智慧”，即他们在大学里最重要的学习是在课堂之外进行的。许多考虑到他们的实验室、图书馆或研究的教职员工都会同意这一点。但事实是，对学生和教师来说，教室才是最重要的学习真正发生的地方。</p>]]></content>
      
      
      <categories>
          
          <category> 英语杂文分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> Article </tag>
            
            <tag> college </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>College is not a commodity</title>
      <link href="/2024/03/28/college1/"/>
      <url>/2024/03/28/college1/</url>
      
        <content type="html"><![CDATA[<p><strong>College is not a commodity. Stop treating it like one.</strong><br>大学不是商品，别再这样对待它。<br>What truly makes an education valuable: <strong>the effort the student puts into it</strong>.<br>真正让教育有价值的是你向其中投入的努力<br>By Hunter Rawlings</p><p>Pick up any paper or magazine, and you’re likely to see <strong>a front-page article</strong> on college: It costs too much, <strong>spawns</strong> too much debt, is or isn’t worth it.<br>随手捡起任何报纸或杂志，你将有极大的概率在首页看到一篇关于大学的头版文章：它花费太多金钱，产生太多负债，这值不值得。</p><p>I entered academia 52 years ago as a student of Latin and Greek expecting to enter a <strong>placid</strong> sector of American life, and now find my chosen profession <strong>at the center of a media maelstrom</strong>. With college replacing high school <strong>as the required ticket for</strong> a career, what used to be a quiet corner is now a favorite target of policymakers and <strong>pundits</strong> . Unfortunately, most commentary on the value of college is <strong>naive</strong>, or worse, misleading.<br>在52年前我作为一名拉丁语和希腊语地位学生进入大学，期望进入我美国生活中平静祥和的一节，然而却发现我所选择的专业现在已经处在媒体漩涡的中心。<br>随着大学文凭替代高中文凭成为职业生涯的敲门砖，过去平静的角落已经成为了政策制定者和专家最喜爱的猎物。</p><p>Here’s what I mean. First, <strong>almost everyone now evaluates college in purely economic terms</strong>, thus <strong>reducing it to a commodity</strong> like a car or a house. How much does the average English major at college X earn 18 months after graduation? What is the average debt. of college Y’s <strong>alumni</strong>?How much does it cost to attend college Z, and is it worth it? How much more does the “average” college grad earn over a lifetime than someone with only a high school degree? (The current number appears to be about $1 million.)<br>几乎所有人现在都用纯粹的经济学范畴来评价大学，由此将其简化成像一辆车或一座房子的一种商品。</p><p>Even on purely economic grounds, such questions, while not useless, <strong>begin with a false assumption</strong>. If we are going to treat college as a commodity, <em>and an expensive one <strong>at that</strong></em>, we should at least grasp the essence of its economic nature. <strong>Unlike a car, college requires the “buyer” to do most of the work to obtain its value. The value of a degree depends more on the student’s input than on the college’s curriculum</strong>. I know this because I have seen excellent students get great educations at average colleges, and unmotivated students get poor educations at excellent colleges.  <strong>And I have taught classes which my students made great through their efforts, and classes which my students made average or worse through their lack of effort</strong>. Though I would like to think I made a real contribution to student learning, my role was not the sole or even determining factor in the value of those courses to my students.<br>即使是在纯粹的经济学领域，这些问题虽然并非毫无价值，但却完全基于一个错误的预设。<br>不像汽车，大学价值的获取还需要购买者的努力。学位的价值更多地取决于学生的投入，而不是大学的课程。<br>我上过一些课因为学生们的努力变得很精彩，但也上过一些课因为学生们的懈怠变得平庸，糟糕</p><p>A college education, then, if it is a commodity, is <strong>no car</strong>（车一直贬值）. <em>The courses the student decides to take (and not take), the amount of work the student does, the intellectual curiosity the student exhibits, her participation in class, his focus and determination —all contribute far more to her educational “outcome” than the college’s overall curriculum, much less its <strong>amenities</strong> and social life.</em> Yet most public discussion of higher education today pretends that students simply <strong>receive their education</strong>（被动性） from colleges the way a person walks out of Best Buy with a television.</p><p>The results of this kind of thinking are <strong>pernicious</strong>. Governors and legislators, as well as the media, treat colleges as <strong>purveyors</strong> of goods, students as consumers and degrees as products. Students get the message. <strong>If colleges are responsible for outcomes, then students can feel entitled to classes that do not push them too hard, to high grades and to material that does not challenge their assumptions or make them uncomfortable</strong>. Hence colleges too often <strong>cater to</strong> student demands for <strong>trigger warnings</strong>, “<strong>safe rooms</strong>”, and canceled commencement speakers. When rating colleges, as everyone from the president to weekly magazines insist on doing nowadays, people use performance measures such as graduation rates and time to degree as though <strong>those figures depended entirely upon the colleges and not at all upon the students</strong>.<br>如果大学对结果负责，那么学生就会觉得自己有权上那些不会把他们逼得太紧的课程，且获得高分，以及得到不会超出他们的预想或让他们感到不舒服的材料。<br>因此，大学常常迎合学生对各种警告（课程困难度之类的预警，引申自各种视频前面的FBI warning之类的）、安全范围（明确安全和正确的边界）和取消各种演讲者的要求。</p><p>This point is made <strong>succinctly</strong> by an <strong>apocryphal</strong>(真实性可疑的)story about a university president who said this to new freshmen each year: “*For those of you who have come here in order to get a degree, congratulations, I have good news for you. I am giving you your degree today and you can go home now. For those who came to get an education, welcome to four great years of learning at this university.*”</p><p><em>So let’s acknowledge that college is not a commodity. It’s a challenging engagement in which both parties have to take an active and risk-taking role if its potential value is to be realized</em>. Professors need to inspire, to <strong>prod</strong>, to <strong>irritate</strong>, to create engaging environments that enable learning to take place that can’t happen simply from reading books or watching films or surfing the Web. Good teachers “supply oxygen” to their classrooms, in the words of former Emory University president Bill Chace; they do not merely supply answers or facts. And good colleges provide lots of help to students who face challenges completing their degrees in a reasonable amount of time.<br>因此，让我们承认大学不是商品。它是一次具有挑战性的参与，如果要实现其潜在价值，双方都必须采取积极和冒险的行动。</p><p>But students need to make a similar commitment to breathe it in and be <strong>enlivened</strong> by it. They owe this not only to their teachers but also to their parents and themselves. <strong>After all, the decision to go to college is a decision to make an investment in their future, an investment of time and money. And for many, a college education is expensive. Students have to play a major role in making sure it’s money well spent.</strong></p><p>Students need to apply themselves to the <strong>daunting</strong> task of using their minds, a much harder challenge than most people realize, until they actually try to do it. *To write a thoughtful, persuasive argument requires hard thinking and clear, <strong>cogent</strong> <strong>rhetoric</strong>. To research any moderately complex topic requires formulating good questions, critically examining lots of evidence, analyzing one’s data, and presenting one’s findings in <strong>succinct</strong> <strong>prose</strong> or scientific formulas.*</p><p><strong>For many students, being required to produce critical thought in front of a class is a new sensation, often a not very pleasant one</strong>. I remember too well my feelings when I had to read my first freshman paper in front of my classmates and English professor. It was a disaster, a sort of <strong>primal humiliation</strong> because it took only four or five sentences for the class to make it clear to me that I should not read any further. I learned more that day about the requirements of effective writing than in the previous 18 years of my life.</p><p><strong>The ultimate value of college is the discovery that you can use your mind to make your own arguments and even your own contributions to knowledge, as do many students pursuing research in college.</strong> That too is a new sensation, and a very good one. Yes, it generally leads to higher career earnings. But <strong>it is the discovery itself that is life-changing.</strong><br>大学的终极价值在于发现你可以用自己的思想来提出自己的论点，甚至对知识做出自己的贡献，就像许多在大学里从事研究的学生所做的那样。<br>改变人生的不是发现的事物，而是发现本身。</p><p>To create what is, for most of us, that “new sensation,” you need a professor who <strong>provokes</strong> and a student who stops <strong>slumbering</strong>. It is the responsibility of colleges and universities to place students in environments that provide these opportunities. It is the responsibility of students to seize them. <strong>Genuine education is not a commodity, it is the awakening of a human being.</strong><br>真正的教育不是商品，它是一个人的觉醒。</p>]]></content>
      
      
      <categories>
          
          <category> 英语杂文分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> Article </tag>
            
            <tag> college </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The Land of the Lock</title>
      <link href="/2024/03/28/landoflock/"/>
      <url>/2024/03/28/landoflock/</url>
      
        <content type="html"><![CDATA[<h1 id="The-Land-of-the-Lock"><a href="#The-Land-of-the-Lock" class="headerlink" title="The Land of the Lock"></a><strong>The Land of the Lock</strong></h1><h2 id="锁之国"><a href="#锁之国" class="headerlink" title="锁之国"></a><strong>锁之国</strong></h2><p>Bob Greene</p><h3 id="不锁门的时代"><a href="#不锁门的时代" class="headerlink" title="不锁门的时代"></a>不锁门的时代</h3><p>In the house where I grew up, it was our custom to leave the front door on the <strong>latch</strong> at night. I don’t know if that was a local term or if it is universal; <strong>“on the latch” meant the door was closed but not locked.</strong> None of us carried keys; the last one in for the evening would close up, and that was it.</p><h3 id="锁门时代"><a href="#锁门时代" class="headerlink" title="锁门时代"></a>锁门时代</h3><p>Those days are over. In <strong>rural</strong> areas as well as in cities, doors do not stay unlocked, even for part of an evening.</p><h3 id="城市里有巡逻，门却锁得最紧"><a href="#城市里有巡逻，门却锁得最紧" class="headerlink" title="城市里有巡逻，门却锁得最紧"></a>城市里有巡逻，门却锁得最紧</h3><p>Suburbs and country areas are, in many ways, even more <strong>vulnerable</strong> than <strong>well-patrolled</strong> urban streets. Statistics show the crime rate rising more dramatically in those allegedly <strong>tranquil</strong> areas than in cities. <strong>At any rate, the era of leaving the front door on the latch is over.</strong></p><p>It has been replaced by <strong>dead-bolt</strong> locks, security chains, electronic alarm systems and trip wires hooked up to a police station or private guard firm. Many suburban families have sliding glass doors on their <strong>patios</strong>, with steel bars elegantly built in so no one can <strong>pry</strong> the doors open.</p><h3 id="工厂等直接安排保安"><a href="#工厂等直接安排保安" class="headerlink" title="工厂等直接安排保安"></a>工厂等直接安排保安</h3><p>It is not uncommon, in the most pleasant of homes, to see pasted on the windows small notices announcing that the <strong>premises</strong> are under <strong>surveillance</strong> by this security force or that guard company.</p><h3 id="锁成为了美国的标志"><a href="#锁成为了美国的标志" class="headerlink" title="锁成为了美国的标志"></a>锁成为了美国的标志</h3><h4 id="甚至给小孩的自行车安锁"><a href="#甚至给小孩的自行车安锁" class="headerlink" title="甚至给小孩的自行车安锁"></a>甚至给小孩的自行车安锁</h4><p><strong>The lock is the new symbol of America.</strong> Indeed, a recent public-service advertisement by a large insurance company featured not <strong>charts</strong> showing how much at risk we are, but a picture of a child’s bicycle with the now-usual <strong>padlock</strong> attached to it.</p><h4 id="不信任和恐惧的气氛弥漫"><a href="#不信任和恐惧的气氛弥漫" class="headerlink" title="不信任和恐惧的气氛弥漫"></a>不信任和恐惧的气氛弥漫</h4><h5 id="自由的国度变为锁的国度"><a href="#自由的国度变为锁的国度" class="headerlink" title="自由的国度变为锁的国度"></a>自由的国度变为锁的国度</h5><p>The ad pointed out that, yes, it is the insurance companies that pay for stolen goods, but <strong>who is going to pay for what the new atmosphere of distrust and fear is doing to our way of life?</strong> Who is going to make the psychic payment for the transformation of America <strong>from the Land of the Free to the Land of the Lock</strong>?</p><h5 id="人们不自觉地习惯于保护自身"><a href="#人们不自觉地习惯于保护自身" class="headerlink" title="人们不自觉地习惯于保护自身"></a>人们不自觉地习惯于保护自身</h5><p>For that is what has happened. We have become so used to defending ourselves against the new atmosphere of American life, so used to putting up barriers, that we have not had time to think about what it may mean.</p><h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><h5 id="感到受保护是令人满意的"><a href="#感到受保护是令人满意的" class="headerlink" title="感到受保护是令人满意的"></a>感到受保护是令人满意的</h5><p><strong>For some reason we are satisfied when we think we are well-protected</strong>; it does not occur to us to ask ourselves: Why has this happened? Why are we having to <strong>barricade</strong> ourselves against our neighbors and fellow citizens, and when, exactly, did this start to take over our lives?</p><h5 id="工作区域保护的影响？"><a href="#工作区域保护的影响？" class="headerlink" title="工作区域保护的影响？"></a>工作区域保护的影响？</h5><p>And it has taken over. If you <strong>work for a medium- to large-size company</strong>, chances are that you don’t just wander in and out of work. You probably carry some kind of <strong>access card, electronic or otherwise</strong>, that allows you in and out of your place of work. Maybe the security guard at the front desk knows your face and will wave you in most days, but the fact remains that the business you work for feels threatened enough to keep outsiders away via these “keys.“</p><h4 id="事实上这只是现象，不是本质"><a href="#事实上这只是现象，不是本质" class="headerlink" title="事实上这只是现象，不是本质"></a>事实上这只是现象，不是本质</h4><p><strong>It wasn’t always like this. Even a decade ago, most private businesses had a policy of free access. It simply didn’t occur to managers that the proper thing to do was to distrust people.</strong></p><h5 id="机场安保的影响——最完善的安保体系"><a href="#机场安保的影响——最完善的安保体系" class="headerlink" title="机场安保的影响——最完善的安保体系"></a>机场安保的影响——最完善的安保体系</h5><p>Look at the airports. Parents used to take children out to departure gates to watch planes land and take off. That’s all gone. Airports are no longer a place of education and fun; they are the most sophisticated of security sites.</p><h5 id="限制恐怖分子——对人身安全受损的恐惧"><a href="#限制恐怖分子——对人身安全受损的恐惧" class="headerlink" title="限制恐怖分子——对人身安全受损的恐惧"></a>限制恐怖分子——对人身安全受损的恐惧</h5><p>With electronic X-ray equipment, we seem finally to have figured out <strong>a way to hold the terrorists</strong>, real and imagined, at bay; it was such a relief to solve this problem that we did not think much about what such a state of affairs says about the quality of our lives. We now pass through these electronic friskers without so much as a sideways glance; the machines, and what they stand for, have won.</p><p>Our neighborhoods are bathed in high-intensity light; we do not want to afford ourselves even so much a luxury as a shadow.</p><h5 id="商人购买声音和对话分析仪来判断说谎——对利益受损的恐惧"><a href="#商人购买声音和对话分析仪来判断说谎——对利益受损的恐惧" class="headerlink" title="商人购买声音和对话分析仪来判断说谎——对利益受损的恐惧"></a>商人购买声音和对话分析仪来判断说谎——对利益受损的恐惧</h5><p>Businessmen, in increasing numbers, are purchasing new machines that hook up to the telephone and analyze a caller’s voice. The machines are supposed to tell the businessman, with a small margin of error, whether his friend or client is telling lies.</p><h4 id="真正的原因是恐惧"><a href="#真正的原因是恐惧" class="headerlink" title="真正的原因是恐惧"></a>真正的原因是恐惧</h4><p><strong>All this is being done in the name of “security”; that is what we tell ourselves. We are fearful, and so we devise ways to lock the fear out, and that, we decide, is what security means.</strong></p><h5 id="当我们追求安全的时候，我们反而变得越发不安全"><a href="#当我们追求安全的时候，我们反而变得越发不安全" class="headerlink" title="当我们追求安全的时候，我们反而变得越发不安全"></a>当我们追求安全的时候，我们反而变得越发不安全</h5><p>But no; with all this “security,” we are perhaps the most insecure nation in the history of civilized man. What better word to describe the way in which we have been forced to live? What sadder reflection on all that we have become in this new and puzzling time?</p><h4 id="我们不再信任任何人"><a href="#我们不再信任任何人" class="headerlink" title="我们不再信任任何人"></a>我们不再信任任何人</h4><h5 id="当我们将邪恶锁在外面时，我们也将自己锁在了里面"><a href="#当我们将邪恶锁在外面时，我们也将自己锁在了里面" class="headerlink" title="当我们将邪恶锁在外面时，我们也将自己锁在了里面"></a>当我们将邪恶锁在外面时，我们也将自己锁在了里面</h5><p><strong>We trust no one</strong>. Suburban housewives wear rape whistles on their station wagon key chains. We have become so smart about self-protection that, in the end, we have all outsmarted ourselves. <strong>We may have locked the evils out, but in so doing we have locked ourselves in.</strong></p><h5 id="当我们忙于应对并未显现的恐怖时，却浑然不知自己已经成为了自己的囚犯"><a href="#当我们忙于应对并未显现的恐怖时，却浑然不知自己已经成为了自己的囚犯" class="headerlink" title="当我们忙于应对并未显现的恐怖时，却浑然不知自己已经成为了自己的囚犯"></a>当我们忙于应对并未显现的恐怖时，却浑然不知自己已经成为了自己的囚犯</h5><p>That may be the legacy we remember best when we look back on this age: <strong>In dealing with the unseen horrors among us, we became prisoners of ourselves.</strong> All of us prisoners, in this time of our troubles.</p>]]></content>
      
      
      <categories>
          
          <category> 英语杂文分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> Article </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The friendship crisis</title>
      <link href="/2024/03/28/friendship/"/>
      <url>/2024/03/28/friendship/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.evidencebasedmentoring.org/the-friendship-crisis-why-are-boys-so-lonely-and-violent/">The friendship crisis: Why are boys so lonely and violent?</a><br><strong>友谊危机：为什么男孩们又孤独又暴力？</strong></p><p><strong>Niobe Way</strong></p><p>(Niobe Way is Professor of <strong>Applied Psychology</strong> at New York University and the author of Deep Secrets: Boys’ Friendships and the Crisis of Connection.)</p><p>Elliot Rodgers, 22, killed himself and six people) near the campus of the University of California Santa Barbara last month because he wanted to <strong>take revenge on</strong> “humanity” <em>for his “loneliness, rejection, and unfilled desire.”</em></p><p>In the few weeks since that occurred, there have been additional violent acts in schools across the country. On average, there are 1.37 school shootings each week of the school year. Overwhelmingly, these acts are <strong>perpetrated</strong> by isolated and angry young men.</p><p>While there’s a lot of talk about the need for tighter gun control and better treatment of the mentally ill, the roots of this horrifying trend go much deeper. *Our culture prizes independence over human connection. It devalues and even discourages close friendships, particularly among boys and men. And our definitions of manhood emphasize aggression, toughness and rugged individualism at the expense of girls, women  and relationships.  </p><p>We know these aspects of our culture <strong>lie at the root of</strong> the problem not only because killers, like Rodgers, tell us so in their journals and media postings. The science has also been telling us so for decades. We simply aren’t paying attention.</p><p>Neuroscientists, developmental psychologists, evolutionary anthropologists, primatologists and health researchers agree: <em>Humans need and want close relationships, including friendships, and when they don’t have them, there are serious physical and mental health consequences.</em></p><p>Social isolation weakens our immune system and makes us more <strong>susceptible</strong> to diseases like Alzheimer’s, <strong>diabetes</strong>, high blood pressure, heart disease and cancer and to death. Individuals with strong social networks have a 91 percent greater likelihood of survival compared to those with weak social networks. The risk of death for those with weak social networks is comparable with well-established risk factors like smoking and <strong>excessive</strong> alcohol consumption. They exceed the influence of other risk factors such as physical inactivity and obesity.</p><p><em>Furthermore, the hundreds of adolescent boys in my research over the past 20 years <strong>make the direct link between</strong> not having close friendships — friendships in which “deep secrets” are shared — and going “wacko,” committing suicide, doing drugs and “taking it out on others.”</em> Isolation, the boys report, makes them feel inadequate, envious of others with better connections, and angry. This, in turn, leads them to thoughts of <strong>self- and other-directed violence</strong>.</p><p>And while over 85 percent of the boys in my studies report that they have or want emotionally <strong>intimate</strong> male friendships, they also describe having difficulties, particularly during late adolescence, finding friends whom they can trust. <em>They report feeling pressure to “man up,” and fear that expressing their desires for close male friendships will make them look “girly or gay.”</em></p><p>Just at the age of 15 to 16 years old, when, according to my research, boys begin to lose their close male friendships, the suicide rate for boys in the United States increases dramatically — to five times the rate for girls. Similar to girls and women, boys want and need close friendships and strong social networks to thrive. Our social connections are not simply feel-good issues; they are life-or-death issues.</p><p>Yet we, Americans, live in a “me, myself, and I” culture. We tell our children not to worry about what others think or feel, to rely on themselves and not trust others. We encourage them to separate from their loved ones <strong>in the name of maturity</strong> and, for boys, <strong>in the name of manhood</strong>. We <strong>implore</strong> our boys not to be “like a girl,” which is ironic, of course, because <em>when boys do indeed “act like girls,” they often have close male friendships and are less likely to pick up a gun and shoot people</em>.</p><p>The data also suggest that our <strong>self-obsession</strong> and isolation are increasing. Jean Twenge, Keith Campbell and Brittany Gentile find, in their <strong>study of pronoun use</strong> in the Google Books database of 766,513 American books published between the years of 1960-2008, that <em>the use of <strong>first person plural pronouns</strong> (e.g., we, us) decreased 10 percent while <strong>the first person singular pronouns</strong> (I, me) increased 42 percent</em>, beginning in 1984. The American Sociological Review reports that the number of close friends for adults is declining, with the modal number of close friendship in 1985 being three, while in 2004 the <strong>modal number</strong> was zero. The percentage of adults who report having no close friends at all has increased from 36 percent in 1985 to 53.4 percent by 2004.</p><p>So what’s the solution? Melinda Gates urged young people in a commencement speech to solve the problem of our growing disconnection *by “deeply connecting” to others, to “see their humanity first — the one big thing that makes them the same as you, instead of the many things that make them different from you.<em>” Martin Luther King Jr. <strong>made a similar call</strong> in 1965: “</em>What we are facing today is the fact that through our scientific and technological genius we’ve made of this world a neighborhood. And now through our moral and ethical commitment we must make of it a brotherhood.*”</p><p>The solution lies in our willingness to make a “moral and ethical commitment” for a brotherhood, a sisterhood and a more humane community in which having high-quality relationships, including friendships, become core components of our definitions of maturity and manhood and where our common humanity is recognized and nurtured.</p><p><em>We need to create a culture, in other words, where the “we” becomes more important than the “me.”</em> Then we will have tighter gun-control laws, better care for the 0 mentally ill, less loneliness, alienation and violence. And we will have achieved the dream that so many of our religious, political and social leaders have had for a very long time. </p>]]></content>
      
      
      <categories>
          
          <category> 英语杂文分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> Article </tag>
            
            <tag> friendship </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>系统环境变量配置不生效</title>
      <link href="/2024/03/28/patherror/"/>
      <url>/2024/03/28/patherror/</url>
      
        <content type="html"><![CDATA[<p><strong>重启解决99%的问题</strong></p><p>非常值得吐槽的是系统环境变量竟然就存储在一个文件里<br>在powershell里使用命令<code>$env:Path</code>即可查看文件内容<br>你甚至可以通过命令<code>$env:Path += &quot;;&lt;路径&gt;&quot;</code>来实现对path的增加(<strong>并不全局，见下文</strong>)</p><p>既然是文件，就会有一个很蛋疼的地方<br>    ——对单个软件（或者其他使用path的程序）来说不实时更新</p><p>比如说你打开了一个软件，这个软件需要你把某个路径加入path，这样软件才能正确调用</p><ul><li>首先你运行软件，发现报错了，显示找不到可执行文件</li><li>然后你去搜了一下，发现是某个东西没加进path，软件检索不到</li><li>于是你更改了path，但是没有重启软件，再次运行，还是检索不到</li><li>这是因为软件启动时已经将path文件读入了，且不会故意再去读</li><li>所以重启软件就能解决</li></ul><p>但是更为惊喜的是我遇到的情况</p><ul><li>众所周知一些软件是可以唤出powershell的，比如我用的github desktop</li><li>原本我认为powershell是单独的软件，启动时应该是自行初始化的</li><li>但事实是，如果你不重启github desktop,无论你重启多少次powershell，这个powershell就是不更新path，甚至你调用<code>$env:Path</code>方法读取到的内容也没有更新</li><li>也就是说，由软件唤起的powershell会继承软件的一部分数据，包括读取到的path</li><li>而<code>$env:Path</code>方法并不是读取全局的path</li></ul><p><strong>经过一些调查可以发现</strong><br>在 Windows 上，环境变量可以在三个作用域内定义：</p><ul><li>计算机（或系统）作用域</li><li>用户范围</li><li>流程范围</li></ul><p><em>Process</em> 作用域包含当前进程或 PowerShell 会话中可用的环境变量。 该变量列表<strong>继承自父进程</strong>，并由 <em>Machine</em> 和 <em>User</em> 作用域中的变量构造而成。</p><p><strong>在 PowerShell 中更改环境变量时，更改仅影响当前会话</strong>。 此行为类似于 Windows 命令外壳中的 <code>set</code> 命令和基于 UNIX 的环境中的 <code>setenv</code> 命令的行为。 要更改 Machine 或 User 作用域中的值，必须使用 <strong>System.Environment</strong> 类的方法。</p><p>要更改计算机作用域的变量，还必须拥有相应权限。 如果你尝试在没有足够权限的情况下更改值，该命令将失败并且 PowerShell 将显示错误。</p>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> path </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Why Men Fail</title>
      <link href="/2024/03/28/whymanfail/"/>
      <url>/2024/03/28/whymanfail/</url>
      
        <content type="html"><![CDATA[<p>Why Men Fail<br>为什么男人会失败</p><p>By DAVID BROOKS</p><p>What is your anticipation at the sight of this topic?<br>你对这个话题的期望是什么？</p><p>You’re probably aware of the basic trends. The financial rewards to education have increased over the past few decades, but <strong>men failed to get the memo</strong>.<br>你大概率已经意识到了基本趋势，教育的经济回报在近些年正持续增长，但是男人却并没有领会到这一点。</p><p>In elementary and high school, male academic performance is <strong>lagging</strong>. Boys earn three-quarters of the D’s and F’s. By college, men are clearly behind. Only 40 percent of bachelor’s degrees go to men, along with 40 percent of master’s degrees.<br>在初高中，男性的成绩表现正在逐渐落后。</p><p>Thanks to their lower skills, men are <strong>dropping out of the labor force</strong>. In 1954, 96 percent of the American men between the ages of 25 and 54 worked. Today, that number is down to 80 percent. In Friday’s jobs report, male labor force participation reached an all-time low.<br>多亏了他们差劲的能力，男人们正在逐渐退出劳动力市场。</p><p>Millions of men are <strong>collecting disability</strong>. Even many of those who do have a job are doing poorly. According to Michael Greenstone of the Hamilton Project, annual earnings for median prime-age males have dropped by 28 percent over the past 40 years.<br>数以百万计的男人正在领取政府的救济金。</p><p>Men still <strong>dominate the tippy-top of</strong> the <strong>corporate ladder</strong> because many women take time off to raise children, but women <strong>lead or are gaining</strong> nearly everywhere else. Women in their 20s outearn men in their 20s. Twelve out of the 15 fastest-growing professions are dominated by women.<br>虽然男人依旧牢牢支配着“企业阶梯”只因为非常多的女性需要花费世界去养育孩子，但女人正在几乎所有领域领先或不断进步</p><ul><li>企业阶梯：在职业生涯中逐渐晋升的一系列高级职位，被认为是通向更大责任和财务成功的阶梯。</li></ul><p>Over the years, many of us have embraced a certain theory to explain men’s economic decline. It is that the <strong>information-age economy</strong> rewards <strong>traits</strong> that, for neurological and cultural reasons, women are more likely to possess.<br>在近些年来，我们之中许多人都已经接受了一个特定的解释男性经济衰退的理论。理论内容是说信息时代的经济奖赏某些特质，而这些特质由于神经学和文化的原因，更容易被女性拥有。</p><p>To succeed today, you have to be able to sit still and focus attention in school at an early age. You have to be emotionally sensitive and aware of context. You have to communicate smoothly. For genetic and cultural reasons, many men <strong>stink at</strong> these tasks.<br>想要在这个时代成功，你需要在小时候便能安静地坐在座位上并专注于课堂；你需要有敏锐的情感察觉能力和对对话语境的精准把握；你需要有流畅的交流能力。<br>由于基因上和文化上的原因，许多男人对此并不甚擅长。</p><p>But, in her fascinating new book, “The End of Men,” Hanna Rosin posits a different theory. It has to do with <strong>adaptability</strong>. Women, Rosin argues, are like immigrants who have moved to a new country. They see a new <strong>social context</strong>, and they flexibly adapt to new circumstances. <strong>Men are like immigrants who have physically moved to a new country but who have kept their minds in the old one.</strong> They speak the old language. They follow the old mores. Men are more likely to be <strong>rigid</strong>; women are more <strong>fluid</strong>.<br>男人们却总是人在曹营心在汉。<br>男性可能更加死板，而女性则如水般随遇而安。</p><p>This theory has less to do with innate traits and more to do with social position. When there’s big social change, the people who were on the top of the old order are bound to <strong>cling to</strong> the old ways. The people who were on the bottom are bound to <strong>experience a burst of energy</strong>. They’re going to explore their new surroundings more enthusiastically.<br>这个理论与内在特质的关联比较小，与社会地位的关系则很密切。<br>当社会变革到来时，身处高位的人总是成为保皇派，而底层民众则渴求变革。</p><p>Rosin reports from <strong>working-class</strong> Alabama. The women she meets are flooding into new jobs and new opportunities — going back to college, pursuing new careers. The men are waiting around for the jobs that left and are never coming back. They are <strong>strangely immune to</strong> new options. In the Auburn-Opelika region, the median female income is 140 percent of the median male income. </p><p>Rosin also reports from college campuses where women are pioneering new social arrangements. The usual story is that men are exploiting the <strong>new campus hookup culture</strong> in order to get plenty of sex without romantic commitments. Rosin argues that, in fact, women support the hookup culture. It allows them to have sex and fun without any time-consuming distractions from their careers. Like new immigrants, women are <strong>desperate to rise</strong>, and they embrace social and sexual rules that give them the freedom to focus on their professional lives.<br>如同新移民一般，女人们正不顾一切地崛起，她们接受一切社会和性规则，只要它们有利于给予她们专注于职业生涯的自由。</p><p>Rosin is not saying that women are winners in a global <strong>gender war</strong> or that they are doing super simply because men are doing worse. She’s just saying women are adapting to today’s economy more flexibly and resiliently than men. There’s a lot of evidence to support her case.<br>并不是说女性已经成为了性别战争的赢家或者她们做得很好只是因为男人做得更差。<br>女人正更加灵活和具有弹性地适应当下的经济。</p><p>A study by the National Federation of Independent Business found that small businesses owned by women outperformed male-owned small businesses during <strong>the last recession</strong>. In finance, women who switch firms are more likely to see their performance improve, whereas men are more likely to see theirs decline. There’s even evidence that women are better able to adjust to divorce. Today, more women than men see their incomes rise by 25 percent after a marital breakup. </p><p>Forty years ago, men and women <strong>adhered to certain ideologies</strong>, what it meant to be a man or a woman. Young women today, Rosin argues, are more like clean slates, having <strong>abandoned both feminist and prefeminist preconceptions</strong>. Men still <strong>adhere to the masculinity rules</strong>, which limits their vision and their movement.<br>四十年前，男人和女人都坚持某种意识形态，确立了作为一个男人或者女人应该是什么样的。<br>但是当今的新年轻女性更像一张白纸，已经抛弃了女权主义者和前女权主义者的成见，而男性却依旧普信，这限制了他们的眼光和步伐。</p><p>If she’s right, then men will have to be less like <strong>Achilles</strong>, <strong>imposing their will on the world</strong>, and more like Odysseus, the <strong>crafty</strong>, many-sided <strong>sojourner</strong>. They’ll have to acknowledge that they are strangers in a strange land.<br>男人不再同阿喀琉斯一般能够将自己的意志强加于世界，而更像奥德修斯，一个狡猾、多面手的旅人。他们将会意识到他们是这片陌生土地的陌生人。</p>]]></content>
      
      
      <categories>
          
          <category> 英语杂文分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> Article </tag>
            
            <tag> man </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL-01 安装WSL和Ubuntu</title>
      <link href="/2024/03/27/WSL01/"/>
      <url>/2024/03/27/WSL01/</url>
      
        <content type="html"><![CDATA[<h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>由于WSL2使用hyper-v的问题目前还没有解决，所以本人使用了一条新的道路</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">管理员模式下输入</span></span><br><span class="line">Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换WSL版本到1</span></span><br><span class="line">wsl --set-default-version 1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">后续治好了WSL2就可以再次转换到WSL2</span></span><br><span class="line">wsl --set-version &lt;发行版名称&gt; 2</span><br></pre></td></tr></table></figure><h1 id="WSL堂堂复活"><a href="#WSL堂堂复活" class="headerlink" title="WSL堂堂复活"></a>WSL堂堂复活</h1><p>这次直接使用狠活，把网络的所有设置重置了，将VMware的毒完全刮尽<br>这时候想要去重新开启hyper-v，却发现在windows功能里没有hyper-v选项<br>看了看似乎是专业版才有，家庭版不让设置</p><p>使用脚本强制安装hyper-v功能<br>在文本中写入以下代码，再将扩展名改成cmd或bat运行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pushd &quot;%~dp0&quot;</span><br><span class="line"></span><br><span class="line">dir /b %SystemRoot%\servicing\Packages\*Hyper-V*.mum &gt;hyper-v.txt</span><br><span class="line"></span><br><span class="line">for /f %%i in (&#x27;findstr /i . hyper-v.txt 2^&gt;nul&#x27;) do dism /online /norestart /add-package:&quot;%SystemRoot%\servicing\Packages\%%i&quot;</span><br><span class="line"></span><br><span class="line">del hyper-v.txt</span><br><span class="line"></span><br><span class="line">Dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL</span><br></pre></td></tr></table></figure><p>需要安装一段时间，安装完成后就能发现windows服务里有hyper-v和wsl了<br>先把两个功能都关闭，重启，把所有设置重置</p><p>再打开两个功能，重启，现在电脑就像没碰过VMware一样<br>又可以愉快地安装WSL2了</p><p><strong>PS: 一劳永逸，直接重装，痛失GitHub 2FA认证码</strong></p><h1 id="关于WSL"><a href="#关于WSL" class="headerlink" title="关于WSL"></a>关于WSL</h1><p><a href="https://learn.microsoft.com/zh-cn/windows/wsl/">适用于 Linux 的 Windows 子系统文档 | Microsoft Learn</a><br>作为微软的产品，当然是直接去看文档啦</p><h1 id="安装WSL和Ubuntu"><a href="#安装WSL和Ubuntu" class="headerlink" title="安装WSL和Ubuntu"></a>安装WSL和Ubuntu</h1><ul><li><p>如果你的windows系统“紧跟潮流”的话，就可以舒服地享受一键安装的快乐，只需要在powershell使用命令<code>wsl --install</code>即可</p></li><li><p>如果发现命令无效，那就只能玩硬核的了<br><a href="https://learn.microsoft.com/zh-cn/windows/wsl/install-manual">旧版 WSL 的手动安装步骤 | Microsoft Learn</a></p></li><li><p>当然也不可能完全一帆风顺，你大天朝的网络总是“值得信赖”的<br><img src="https://picbed.godke.blog/img/20240327144550.png" alt="image.png"></p></li><li><p>我故意没开代理，果然卡了，所以记得保持代理开着</p></li><li><p>安装完成后会让你对Ubuntu进行初始化设置</p><ul><li>首先输入用户名，和windows性质一样，但是一定要用小写字母和数字，且最好字母开头<ul><li>其他的形式可能造成未知bug</li></ul></li><li>然后输入密码，这是你以后sudo要用的，</li><li>最好重复输入密码，初始化完成</li></ul></li></ul><p>现在已经成功进入到Ubuntu了，也可以在终端为Ubuntu单开一个专属于Ubuntu的控制台<br><img src="https://picbed.godke.blog/img/20240327145006.png" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL-00 卷土重来</title>
      <link href="/2024/03/27/WSL00/"/>
      <url>/2024/03/27/WSL00/</url>
      
        <content type="html"><![CDATA[<h1 id="为什么使用WSL"><a href="#为什么使用WSL" class="headerlink" title="为什么使用WSL"></a>为什么使用WSL</h1><h2 id="为什么是卷土重来"><a href="#为什么是卷土重来" class="headerlink" title="为什么是卷土重来"></a>为什么是卷土重来</h2><p>在ICS课程中依据课程要求本人已经安装和配置过一次WSL，但是在后期的使用中整个WSL被我整的混乱不堪，大小11G，功能却和5G的发行版不相上下，属实难绷，特别是apt包多得控制台都装不下了，想管理都管理不了，网络代理也有问题，维护状态一团糟，都不知道自己干了什么。</p><p>作为一个对自己电脑的文件管理非常有洁癖的人，我毫不犹豫地决定要对这个Ubuntu进行彻底的整理<br>但是结果并不理想，这件事演化成了——<a href="http://godke.blog/2024/03/27/WSLdied/">WSL似了 | GodKe’s blog</a></p><h2 id="为什么用WSL"><a href="#为什么用WSL" class="headerlink" title="为什么用WSL"></a>为什么用WSL</h2><p>在可能的选项中</p><ul><li>一是给电脑装双系统，利用网络进行文件传输<ul><li>且不谈电脑双系统可能导致的各种问题，光是配置双系统要修改的各种安全选项就已经很难接受了</li><li>双系统不支持两个系统同时运行，无法完整地发挥二者的优势</li><li>Ubuntu或者其他Linux发行版本身就是个坑，不是专业的人就不去干专业的活，有基本环境就行</li></ul></li><li>二是使用一个U盘安装Linux系统<ul><li>U盘发热，IO缓慢</li><li>无法同时运行</li><li>开机不处理还要狂按F2</li></ul></li><li>三是使用VMware<ul><li>主要还是太笨重了</li><li>可以有GUI很吸引人，但是现在WSL2也可以有GUI了</li></ul></li></ul><p>最终还是WSL最符合当下的需求：</p><ul><li>只是创建一个轻量的环境</li><li>简单方便的文件传输和画面获取</li><li>支持VScode这样的IDE</li></ul><h1 id="本次搭建目标"><a href="#本次搭建目标" class="headerlink" title="本次搭建目标"></a>本次搭建目标</h1><h2 id="网络代理实现"><a href="#网络代理实现" class="headerlink" title="网络代理实现"></a>网络代理实现</h2><ul><li><strong>实现Clash的本地跨平台代理</strong>（心头大患）</li></ul><h2 id="基本编译环境构建"><a href="#基本编译环境构建" class="headerlink" title="基本编译环境构建"></a>基本编译环境构建</h2><ul><li>C&#x2F;C++的编译器和VScode配置</li><li>python相关（解释器、pwndbg等）</li></ul><h2 id="图形化界面实现"><a href="#图形化界面实现" class="headerlink" title="图形化界面实现"></a>图形化界面实现</h2><ul><li>可有可无，有就是好</li></ul><h2 id="包管理和文件管理系统"><a href="#包管理和文件管理系统" class="headerlink" title="包管理和文件管理系统"></a>包管理和文件管理系统</h2><ul><li>解决一下apt的问题，太混乱了，利用图形化界面</li><li>解决文件管理问题，不要总是让我chmod了</li></ul><h2 id="（挖坑）给WSL再装一个kali"><a href="#（挖坑）给WSL再装一个kali" class="headerlink" title="（挖坑）给WSL再装一个kali"></a>（挖坑）给WSL再装一个kali</h2><ul><li>微软商店没有，得自己想办法</li><li>做网络安全迟早要接触这个，虽然windows也可以大部分平替</li></ul>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> Clash </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL似了</title>
      <link href="/2024/03/27/WSLdied/"/>
      <url>/2024/03/27/WSLdied/</url>
      
        <content type="html"><![CDATA[<h1 id="WSL死了，死的挺突然的"><a href="#WSL死了，死的挺突然的" class="headerlink" title="WSL死了，死的挺突然的"></a>WSL死了，死的挺突然的</h1><p>debug了半天，搜遍了全网各大技术网站，想着WSL也是陪伴了我一年多的优秀生产力工具，想给它治一治<br>结果没搞清楚错误原因，最后修修又改改，从连不上代理进阶成了彻底连不上网</p><p>CSDN的人也兴奋了，说这个bug我也遇到过，代码一复制，Enter一敲，马上就解决了<br>我一看以为是大佬，马上敲起了键盘，结果打完以后一看，卧槽，整个WSL都掉了，连不上了</p><p>鉴于对CSDN最基本的尊重，我又去多看了几个帖子，结果发现大家都说，我也遇到了这个bug，这样就解决了<br>我不解，为什么他们都解决了，我的反而炸了<br>后来我仔细比较，才发现他们写的哪里是博客，写的明明是营销号<br>同样的bug，同样的说辞，同样的解决，甚至同样的截图，却出自不同账号之手，这也许就是多胞胎吧</p><h1 id="WSL生前非常好用"><a href="#WSL生前非常好用" class="headerlink" title="WSL生前非常好用"></a>WSL生前非常好用</h1><p>在生前最鼎盛的时期，他在我电脑的一众开发环境中端着装有remote development的VScode大喊<br>好！我先拿下了C，干掉了pycharm，连g++都拿下了，下面把树莓派也给我拿下<br>我要做全新编程世界的Dev C++ plus ultimate golden royal<br>结果倒好，因为装的东西太多太乱，引来了我的不满，任务栏没进去就先进了回收站</p><p>WSL的好用不是没有理由的，它轻量，运行在后台丝毫不影响轻薄本的性能<br>它可以与windows同时运行，便捷地进行数据传输<br>它可以自由迁移数据位置，寥寥几条指令就能完美地将本体从C盘转移到D盘</p><h1 id="但WSL也不是万能的"><a href="#但WSL也不是万能的" class="headerlink" title="但WSL也不是万能的"></a>但WSL也不是万能的</h1><p>当WSL拖着它大腹便便的apt包来找我时，我说，apt工具不是万能的<br>你这list长度，都已经超过了终端的显示行数上限，别说管理a开头的包了，连h开头的包我都看不到<br>这完蛋程度，确实不是我处理的了的<br>这整个apt文件夹又大又乱，我总不能一个一个看吧</p><p>当然这点也有我的问题<br>我本以为自己能够三思而后行，确定了正确性再执行命令，至少也要做个备份<br>当时年轻的我确实没有什么思，但是行还是非常充足的<br>管他教程里讲了什么，先下库再说<br>管他是不是推荐下载，多多益善<br>管他教程有没有效，反正库都下了，懒得再打个命令把库卸了，万一卸错了呢</p><p>在中途一次全局包升级的时候，那是一节课的课上，我淡定地打下<br>sudo apt update<br>sudo apt upgrade<br>只见浩浩荡荡几万行代码在我的电脑屏幕上滚动<br>犹有小时候装逼用tree方法输出目录树时的壮美</p><p>代码一直滚动了接近20分钟，得益于FDU优秀的网络，我看了一眼进度条<br>52%， 默默地盖上了显示屏</p><h1 id="后来VMware进入视野"><a href="#后来VMware进入视野" class="headerlink" title="后来VMware进入视野"></a>后来VMware进入视野</h1><p>VMware，老牌虚拟机，人称虚拟机圈的皇帝，是Linux领域重要的虚拟机提供平台<br>它在纳入我的考虑范围之前不过是一个又大又笨重的虚拟机平台，我用水果刀就能解决的事，为什么要用牛刀</p><p>但好歹有一个优点我非常看重，它可以轻松地安装Ubuntu Desktop，轻易拥有图形化界面<br>虽然写代码还是用ssh在VScode里写，但其他关于Ubuntu的事就都可以在Ubuntu里进行了<br>况且自己也记得重要的需要安装的环境包，重新配一个环境不是信手拈来</p><p>满怀期待的我非常高兴地去下载了VMware和Ubuntu文件，准备狠狠地配一个新的好看的系统<br>VMware的运行非常顺利流畅，一切都是如此的完美，直到我准备暂告一段落，去做其他工作</p><p>我打开虽然有些用腻了，但却又老夫老妻的WSL，准备按照项目要求装个库<br>我熟练地打开代理，重启WSL让代理在Ubuntu里生效，然后输入<br>sudo apt install ……</p><p>我本以为一切都应该顺顺利利的，毕竟我在D盘为WSL专门设置了一个寝宫，不可能有任何东西来打扰<br>然而返回的报错信息却给了我当头一棒<br>127.0.0.1 已拒接连接</p><p>虽然是远处的服务器拒绝了WSL的请求，但我却如WSL拒绝了我的请求一般心痛</p><h1 id="关机重启，问题并未解决"><a href="#关机重启，问题并未解决" class="headerlink" title="关机重启，问题并未解决"></a>关机重启，问题并未解决</h1><p>问题能够轻易地复现，基本可以认定某个bug，bug触发了几次，我开始寻找解决问题的方法<br>一通操作猛如虎，在主动进攻下，127.0.0.1接受了我的请求<br>然后又返回了一段错误代码<br>无法解析XXX网址的HOST<br>然后又是一场酣畅淋漓的葫芦娃救爷爷<br>所有的挽救措施都转变成了丰富多彩的报错提示</p><p>WSL几乎要死了，但依旧有希望存在<br>我将WSL的磁盘映射文件拷贝了一份，然后将原本的Ubuntu注销了，准备重装<br>在输入重新引入WSL2对象的指令后，发出的错误警告告诉我</p><h1 id="WSL彻底死了"><a href="#WSL彻底死了" class="headerlink" title="WSL彻底死了"></a>WSL彻底死了</h1><p>在解决了一些细碎的小问题后，最终的结果导向了一串代码<br>WslRegisterDistribution failed with error: 0x80041002</p><p>在这串代码上，中外论坛保持了极为罕见的一致性，因为真正解决这个问题的人只有一个<br>他来自著名网站Stackoverflow，并给出了如下解释：<br>这一串错误代码并不来自于WSL2，而是来自于hyper-v，WSL2的运行需要使用hyper-v，而hyper-v，会尝试创建一个虚拟网卡，当某个东西阻止它这么做时，便会返回这串错误代码</p><p>那么谁会阻止hyper-v创建虚拟网卡呢，只有会创建虚拟网卡的程序，而排除了所有可能后<br>真相只有一个，那就是</p><h1 id="VMware杀死了WSL"><a href="#VMware杀死了WSL" class="headerlink" title="VMware杀死了WSL"></a>VMware杀死了WSL</h1><p>VMware作为虚拟机平台，为了让虚拟机连上网络，就会创建虚拟网卡并阻止其他虚拟网卡的生成<br>而这件事阻止了WSL的启动</p><p>在极度愤怒之下，我马上想要去卸载VMware，准备换virtual box，但来到VMware目录时<br>我发现VMware居然没有卸载工具<br>冲动的我直接将VMware的整个文件夹删除了，却并未考虑它留下的其他遗害</p><p>在一通操作之后，我喜提网卡错误，网络连接的按钮直接消失了，一切陷入了循环<br>如果要修复网卡，就需要网络<br>如果需要网络，就得修复网卡<br><img src="https://picbed.godke.blog/img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-27%20182745.png" alt="屏幕截图 2024-03-27 182745.png|300"><img src="https://picbed.godke.blog/img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-27%20182800.png" alt="屏幕截图 2024-03-27 182800.png|300"></p><p>VMware在杀死了WSL后，也杀死了我<br>我只好出去散心</p><h1 id="无人生还"><a href="#无人生还" class="headerlink" title="无人生还"></a>无人生还</h1><p>稍稍休憩片刻，吃上一顿，我又回来准备拯救二者<br>可惜并非所有人都如番剧或galgame男主一样能够得到完美的结局</p><p>最后的结果是，我使用ccleaner清除了VMware留下的几乎所有痕迹，以此拯救我的网卡<br>但同时hyper-v的问题仍未解决，WSL2依旧无法安装<br>在这个惨烈的修罗场里，无人生还</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>今日的奇妙遭遇告诉我们，不能轻易因为原配的一些不足就去找小三（纯爱战士）（bushi<br>总之WSL死了，我却并不怀念它，因为树莓派成为了新的天降<br>而VMware怀抱这杀死WSL和我的大罪，永远地钉在了我的黑名单里</p><p>后续更新：</p><ul><li>WSL拯救计划 <a href="http://godke.blog/2024/03/27/WSL00/">WSL-00 卷土重来 | GodKe’s blog</a></li><li>树莓派开发计划</li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> hyper-v </tag>
            
            <tag> error </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web-07 网站维护</title>
      <link href="/2024/03/25/web-maintain/"/>
      <url>/2024/03/25/web-maintain/</url>
      
        <content type="html"><![CDATA[<h2 id="网站资源问题"><a href="#网站资源问题" class="headerlink" title="网站资源问题"></a>网站资源问题</h2><p>非常值得庆幸的是目前网站所有资源都在本地有备份，图床也是自己的，还在阿里云有个私人备份，但是由于链接的网址问题，后续如果换了域名就得全局修改，不过vscode有全局替换功能，就是不知道会不会出什么幺蛾子，目前来说网站的资源还是比较稳定的，至少本地都有留档</p><h2 id="文章管理问题"><a href="#文章管理问题" class="headerlink" title="文章管理问题"></a>文章管理问题</h2><p>博客的维护问题根本上还是在于有没有意愿去写，如果写着不舒服就很难维持更新<br>考虑到自己已经长期使用obsidian做笔记管理，所以就去看了看有没有相关先辈，学了点东西</p><p>目前的工作流细节大概是：</p><ul><li>在网站框架根目录套一个obsidian的壳，让obsidian可以管理整个根目录</li><li>使用Hide folders插件隐藏掉没用的文件或文件夹</li><li>使用image auto upload插件实现与picgo的联动，全自动上传和粘贴链接</li><li>使用obsidian自带的模板功能实现front-matters的载入</li><li>使用obsidian git插件将框架整个上传到github上</li></ul><p>待选：</p><ul><li>使用GitHub Actions自动部署<ul><li>问题是还是要自行绑定域名，而且部署速度很慢，容易出bug</li></ul></li></ul><p>由于hexo可以随时重新生成网页，所以文章的修改啥的还是很方便的</p>]]></content>
      
      
      <categories>
          
          <category> 网站搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> github </tag>
            
            <tag> obsidian </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web-06 国内网络加速</title>
      <link href="/2024/03/23/web-network/"/>
      <url>/2024/03/23/web-network/</url>
      
        <content type="html"><![CDATA[<h2 id="开启cloudflare"><a href="#开启cloudflare" class="headerlink" title="开启cloudflare"></a>开启cloudflare</h2><ol><li>打开cloudflare官网，照着提示做，把自己的域名交给cloudflare管理即可，选免费计划<br> 这里比较技术性的就只有修改自己域名的namesevers，这个得看你在哪买的域名<br> 总之cloudflare会为你提供两个namesever<br><img src="https://picbed.godke.blog/img/20240325152720.png" alt="image.png"></li><li>之后去域名管理那里改掉namesever即可，注意只能保留这两个，其他全删掉<br><img src="https://picbed.godke.blog/img/20240325152810.png" alt="image.png"><br>稍等一段时间就能看到自己的域名已经在cloudflare上有效了<br>后续你的域名就可以在cloudflare上管理了，只有续费需要回到购买域名的地方</li></ol><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>记得把之前的域名都改成新设的自定义域名，不然会有未知错误<br>虽然访问原域名大部分时候也会重定向到新域名</p><h2 id="github-pages配置"><a href="#github-pages配置" class="headerlink" title="github pages配置"></a>github pages配置</h2><ol><li><p>去到dns设置，一般来说cloudflare可以检测到大部分过去的dns选项，如果没有就再设置一次<br><img src="https://picbed.godke.blog/img/20240325153112.png" alt="image.png"><br>github一共五个dns配置<br>四个A类型的，指向github的185.199系列ip<br>一个cname类型的，指向过去分配的github pages 地址</p></li><li><p>去到github项目配置，选settings，进入pages页，在最下面添加自己的域名即可<br>github会自动进行dns检测，如果上一步没问题应该可以显示dns配置正常<br>然后可以打开强制https，GitHub会帮你到Let’s Encrypt申请一个SSL证书，这样与你的网站的连接就都是加密的，浏览器也不会显示危险网页了</p></li><li><p>虽然github会自动为你的repo添加一个cname文件，使得你不用自行操作，但是每次部署都要来设置一次自定义域名</p></li></ol><h2 id="twikoo配置"><a href="#twikoo配置" class="headerlink" title="twikoo配置"></a>twikoo配置</h2><p>没什么难度，dns配置见上图，就两个</p><ul><li>一个是A类型的指向vercel的国内专供ip<code>76.223.126.88</code></li><li>一个是cname指向vercel的国内专供dns地址&#96;cname-china.vercel-dns.com</li></ul><p>然后到vercel上给项目绑定个新域名，dns检查通过就行，vercel上只用绑定一次</p><p>记得改一下配置文件的envId</p><h2 id="picbed配置"><a href="#picbed配置" class="headerlink" title="picbed配置"></a>picbed配置</h2><p>picbed用cloudflare有点技术活，需要使用cloudflare提供的worker</p><ol><li>登录到 Cloudflare 的管理界面后，点击侧边栏的 “Workers” 选项，然后点击 “创建服务” 创建一个 Worker，现在似乎会提供一个helloworld的例子，无所谓，直接选helloworld修改也行</li></ol><p>如果是直接创建记得选http处理程序服务<br>给worker取个名字，部署，然后进入修改代码</p><ol start="2"><li><p>将下面的代码复制粘贴到编辑页面的代码编辑器中<br>注意修改两个路径，一个是代理路径，一个是token，注释里有写</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Welcome to Cloudflare Workers! This is your first worker.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * - Run &quot;npm run dev&quot; in your terminal to start a development server</span></span><br><span class="line"><span class="comment"> * - Open a browser tab at http://localhost:8787/ to see your worker in action</span></span><br><span class="line"><span class="comment"> * - Run &quot;npm run deploy&quot; to publish your worker</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Learn more at https://developers.cloudflare.com/workers/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Website you intended to retrieve for users.</span></span><br><span class="line"><span class="keyword">const</span> upstream = <span class="string">&quot;raw.githubusercontent.com&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Custom pathname for the upstream website.</span></span><br><span class="line"><span class="comment">// (1) 填写代理的路径，格式为 /&lt;用户&gt;/&lt;仓库名&gt;/&lt;分支&gt;</span></span><br><span class="line"><span class="keyword">const</span> upstream_path = <span class="string">&quot;/GodKeawa/picbed/main&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// github personal access token.</span></span><br><span class="line"><span class="comment">// (2) 填写github令牌</span></span><br><span class="line"><span class="keyword">const</span> github_token = <span class="string">&quot;&lt;your token&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Website you intended to retrieve for users using mobile devices.</span></span><br><span class="line"><span class="keyword">const</span> upstream_mobile = upstream;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Countries and regions where you wish to suspend your service.</span></span><br><span class="line"><span class="keyword">const</span> blocked_region = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// IP addresses which you wish to block from using your service.</span></span><br><span class="line"><span class="keyword">const</span> blocked_ip_address = [<span class="string">&quot;0.0.0.0&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Whether to use HTTPS protocol for upstream address.</span></span><br><span class="line"><span class="keyword">const</span> https = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Whether to disable cache.</span></span><br><span class="line"><span class="keyword">const</span> disable_cache = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Replace texts.</span></span><br><span class="line"><span class="keyword">const</span> replace_dict = &#123;</span><br><span class="line">  <span class="attr">$upstream</span>: <span class="string">&quot;$custom_domain&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addEventListener</span>(<span class="string">&quot;fetch&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">respondWith</span>(<span class="title function_">fetchAndApply</span>(event.<span class="property">request</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchAndApply</span>(<span class="params">request</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> region = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;cf-ipcountry&quot;</span>)?.<span class="title function_">toUpperCase</span>();</span><br><span class="line">  <span class="keyword">const</span> ip_address = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;cf-connecting-ip&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> user_agent = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;user-agent&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> response = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">let</span> url = <span class="keyword">new</span> <span class="title function_">URL</span>(request.<span class="property">url</span>);</span><br><span class="line">  <span class="keyword">let</span> url_hostname = url.<span class="property">hostname</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (https == <span class="literal">true</span>) &#123;</span><br><span class="line">    url.<span class="property">protocol</span> = <span class="string">&quot;https:&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    url.<span class="property">protocol</span> = <span class="string">&quot;http:&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">await</span> <span class="title function_">device_status</span>(user_agent)) &#123;</span><br><span class="line">    <span class="keyword">var</span> upstream_domain = upstream;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> upstream_domain = upstream_mobile;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  url.<span class="property">host</span> = upstream_domain;</span><br><span class="line">  <span class="keyword">if</span> (url.<span class="property">pathname</span> == <span class="string">&quot;/&quot;</span>) &#123;</span><br><span class="line">    url.<span class="property">pathname</span> = upstream_path;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    url.<span class="property">pathname</span> = upstream_path + url.<span class="property">pathname</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (blocked_region.<span class="title function_">includes</span>(region)) &#123;</span><br><span class="line">    response = <span class="keyword">new</span> <span class="title class_">Response</span>(</span><br><span class="line">      <span class="string">&quot;Access denied: WorkersProxy is not available in your region yet.&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">status</span>: <span class="number">403</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (blocked_ip_address.<span class="title function_">includes</span>(ip_address)) &#123;</span><br><span class="line">    response = <span class="keyword">new</span> <span class="title class_">Response</span>(</span><br><span class="line">      <span class="string">&quot;Access denied: Your IP address is blocked by WorkersProxy.&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">status</span>: <span class="number">403</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> method = request.<span class="property">method</span>;</span><br><span class="line">    <span class="keyword">let</span> request_headers = request.<span class="property">headers</span>;</span><br><span class="line">    <span class="keyword">let</span> new_request_headers = <span class="keyword">new</span> <span class="title class_">Headers</span>(request_headers);</span><br><span class="line"></span><br><span class="line">    new_request_headers.<span class="title function_">set</span>(<span class="string">&quot;Host&quot;</span>, upstream_domain);</span><br><span class="line">    new_request_headers.<span class="title function_">set</span>(<span class="string">&quot;Referer&quot;</span>, url.<span class="property">protocol</span> + <span class="string">&quot;//&quot;</span> + url_hostname);</span><br><span class="line">    new_request_headers.<span class="title function_">set</span>(<span class="string">&quot;Authorization&quot;</span>, <span class="string">&quot;token &quot;</span> + github_token);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> original_response = <span class="keyword">await</span> <span class="title function_">fetch</span>(url.<span class="property">href</span>, &#123;</span><br><span class="line">      <span class="attr">method</span>: method,</span><br><span class="line">      <span class="attr">headers</span>: new_request_headers,</span><br><span class="line">      <span class="attr">body</span>: request.<span class="property">body</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> connection_upgrade = new_request_headers.<span class="title function_">get</span>(<span class="string">&quot;Upgrade&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (connection_upgrade &amp;&amp; connection_upgrade.<span class="title function_">toLowerCase</span>() == <span class="string">&quot;websocket&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> original_response;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> original_response_clone = original_response.<span class="title function_">clone</span>();</span><br><span class="line">    <span class="keyword">let</span> original_text = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">let</span> response_headers = original_response.<span class="property">headers</span>;</span><br><span class="line">    <span class="keyword">let</span> new_response_headers = <span class="keyword">new</span> <span class="title class_">Headers</span>(response_headers);</span><br><span class="line">    <span class="keyword">let</span> status = original_response.<span class="property">status</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (disable_cache) &#123;</span><br><span class="line">      new_response_headers.<span class="title function_">set</span>(<span class="string">&quot;Cache-Control&quot;</span>, <span class="string">&quot;no-store&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      new_response_headers.<span class="title function_">set</span>(<span class="string">&quot;Cache-Control&quot;</span>, <span class="string">&quot;max-age=43200000&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    new_response_headers.<span class="title function_">set</span>(<span class="string">&quot;access-control-allow-origin&quot;</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line">    new_response_headers.<span class="title function_">set</span>(<span class="string">&quot;access-control-allow-credentials&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">    new_response_headers.<span class="title function_">delete</span>(<span class="string">&quot;content-security-policy&quot;</span>);</span><br><span class="line">    new_response_headers.<span class="title function_">delete</span>(<span class="string">&quot;content-security-policy-report-only&quot;</span>);</span><br><span class="line">    new_response_headers.<span class="title function_">delete</span>(<span class="string">&quot;clear-site-data&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (new_response_headers.<span class="title function_">get</span>(<span class="string">&quot;x-pjax-url&quot;</span>)) &#123;</span><br><span class="line">      new_response_headers.<span class="title function_">set</span>(</span><br><span class="line">        <span class="string">&quot;x-pjax-url&quot;</span>,</span><br><span class="line">        response_headers</span><br><span class="line">          .<span class="title function_">get</span>(<span class="string">&quot;x-pjax-url&quot;</span>)</span><br><span class="line">          .<span class="title function_">replace</span>(<span class="string">&quot;//&quot;</span> + upstream_domain, <span class="string">&quot;//&quot;</span> + url_hostname)</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> content_type = new_response_headers.<span class="title function_">get</span>(<span class="string">&quot;content-type&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      content_type != <span class="literal">null</span> &amp;&amp;</span><br><span class="line">      content_type.<span class="title function_">includes</span>(<span class="string">&quot;text/html&quot;</span>) &amp;&amp;</span><br><span class="line">      content_type.<span class="title function_">includes</span>(<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line">    ) &#123;</span><br><span class="line">      original_text = <span class="keyword">await</span> <span class="title function_">replace_response_text</span>(</span><br><span class="line">        original_response_clone,</span><br><span class="line">        upstream_domain,</span><br><span class="line">        url_hostname</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      original_text = original_response_clone.<span class="property">body</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    response = <span class="keyword">new</span> <span class="title class_">Response</span>(original_text, &#123;</span><br><span class="line">      status,</span><br><span class="line">      <span class="attr">headers</span>: new_response_headers,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> response;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">replace_response_text</span>(<span class="params">response, upstream_domain, host_name</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> text = <span class="keyword">await</span> response.<span class="title function_">text</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> i, j;</span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> replace_dict) &#123;</span><br><span class="line">    j = replace_dict[i];</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="string">&quot;$upstream&quot;</span>) &#123;</span><br><span class="line">      i = upstream_domain;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="string">&quot;$custom_domain&quot;</span>) &#123;</span><br><span class="line">      i = host_name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (j == <span class="string">&quot;$upstream&quot;</span>) &#123;</span><br><span class="line">      j = upstream_domain;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="string">&quot;$custom_domain&quot;</span>) &#123;</span><br><span class="line">      j = host_name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> re = <span class="keyword">new</span> <span class="title class_">RegExp</span>(i, <span class="string">&quot;g&quot;</span>);</span><br><span class="line">    text = text.<span class="title function_">replace</span>(re, j);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">device_status</span>(<span class="params">user_agent_info</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> agents = [</span><br><span class="line">    <span class="string">&quot;Android&quot;</span>,</span><br><span class="line">    <span class="string">&quot;iPhone&quot;</span>,</span><br><span class="line">    <span class="string">&quot;SymbianOS&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Windows Phone&quot;</span>,</span><br><span class="line">    <span class="string">&quot;iPad&quot;</span>,</span><br><span class="line">    <span class="string">&quot;iPod&quot;</span>,</span><br><span class="line">  ];</span><br><span class="line">  <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> v = <span class="number">0</span>; v &lt; agents.<span class="property">length</span>; v++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (user_agent_info.<span class="title function_">indexOf</span>(agents[v]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      flag = <span class="literal">false</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>保存后部署运行<br>cloudflare worker一天的免费请求额度是100000，也就是说支持一天提供一共100000次的图片加载或上传，可以说是太够用了</p></li><li><p>最后给worker一个自定义域名</p></li></ol><ul><li>在 Worker 服务的详情页点击“触发器”，然后点击“添加自定义域”。</li><li>输入想要绑定的域名后，点击“添加自定义域”。<ul><li>cloudflare会自动为你添加一个dns解析，可以说是十分的防傻了</li></ul></li><li>cloudflare还会为你的图床域名提供SSL，生成需要一段时间，等待生成变为有效状态，到这里，Cloudflare的配置就完成了</li></ul><ol start="5"><li>现在去picgo上配置一下自定义域，以后就不用开代理上传了，国内网络也可以直接访问到图片了，不过steam++的加速会导致SSL证书错误，这好像是steam++加速的问题，不开就行</li></ol>]]></content>
      
      
      <categories>
          
          <category> 网站搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> github </tag>
            
            <tag> twikoo </tag>
            
            <tag> vercel </tag>
            
            <tag> cloudflare </tag>
            
            <tag> picbed </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web-05 自建图床</title>
      <link href="/2024/03/22/web-picbed/"/>
      <url>/2024/03/22/web-picbed/</url>
      
        <content type="html"><![CDATA[<h2 id="图床搭建"><a href="#图床搭建" class="headerlink" title="图床搭建"></a>图床搭建</h2><ol><li>登录你的 Github 之后，创建一个新的仓库<br><img src="https://pic3.zhimg.com/80/v2-bdae2009a14221c498dbde14714f951e_1440w.webp"></li><li>填写仓库先关资料，一般只需要选一个合适的仓库名，然后确保仓库为 <code>public</code> 其他的保持默认就好<br><img src="https://pic4.zhimg.com/80/v2-79c5e7f0d53bf92b27ade85b244aadcf_1440w.webp"></li><li>一般创建成功之后，会出现如下界面，至此，我们的图床算是创建好了，接下来就是如何上传图片了；<br><img src="https://pic3.zhimg.com/80/v2-569e9028620c1d14a8e92dc58647b506_1440w.webp"></li></ol><h2 id="上传图片"><a href="#上传图片" class="headerlink" title="上传图片"></a>上传图片</h2><p>通过上面的步骤，我们的图床时搭建好了，但是通过传统的方法向 Github 上传图片太麻烦了，这里我们推荐使用一个开源图床工具 <a href="https://link.zhihu.com/?target=https://molunerfinn.com/PicGo/">PicGo</a> 来作为我们的图片上传工具；</p><p>PicGo 的安装就不说了，去他的 <a href="https://link.zhihu.com/?target=https://molunerfinn.com/PicGo/">官网</a> 下载对应版本进行安装即可，我们主要讲讲如何用它来上传图片。安装后，打开软件其主页面如下：</p><p><img src="https://pic2.zhimg.com/80/v2-16147bc5d47b3fb6aad2e4fd628dbd25_1440w.webp"></p><p>接下来就是配置 PicGo 的过程了。</p><ol><li>首先，我们先要去 Github 创建一个 token；</li></ol><p>以此打开 <code>Settings -&gt; Developer settings -&gt; Personal access tokens -&gt; token(classic)</code>，最后点击 <code>generate new token</code>；</p><ol start="2"><li><p>填写目的，记得勾选repo选项让token有权访问和修改仓库，然后点击 <code>Genetate token</code> 即可；</p></li><li><p><code>token</code> 生成，注意它只会显示一次，所以你最好把它复制下来到你的备忘录存好，方便下次使用，否则下次有需要重新新建；<br><img src="https://pic4.zhimg.com/80/v2-3044094ad71f2ec6b86aa3be0881fec7_1440w.webp"></p></li><li><p>配置 PicGo，依次打开 图床设置 -&gt; Github 图床；</p></li></ol><p><img src="https://pic1.zhimg.com/80/v2-04accf30607158803f5164fdd2b834c0_1440w.webp"></p><ol start="5"><li><p>填写相关信息，最后点击 <code>确定</code>即可，要将其作为默认图床的话，点击设为默认图床；<br>这里最好还是选择一个文件夹专门存放图片，或者也可以通过修改指定的存储路径实现分类存储<br><img src="https://pic3.zhimg.com/80/v2-d417deedd8102f93d2375a1e89d13b52_1440w.webp"></p></li><li><p>上传图片，通过上传区上传即可（Ctrl V 或者将图片拖拽都可以），也可以通过快捷键的方式<br>由于网络问题可能需要打开代理来上传，但是部分代理不提供安全的协议，会被拒绝访问</p></li></ol><h2 id="后续维护"><a href="#后续维护" class="headerlink" title="后续维护"></a>后续维护</h2><p>由于一些原因图床不能通过前端简单的删除图片，所以很容易产生大量冗余<br>而GitHub在仓库大小达到1G时就有可能会进行人工审查，对账号安全有威胁<br>所以最好定时用GitHub desktop克隆下来，维护后再强制push上去<br>等大小差不多了就重开一个repo，反正可以无限开</p>]]></content>
      
      
      <categories>
          
          <category> 网站搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> picbed </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web-04 评论区部署</title>
      <link href="/2024/03/20/web-comment/"/>
      <url>/2024/03/20/web-comment/</url>
      
        <content type="html"><![CDATA[<h2 id="评论区部署"><a href="#评论区部署" class="headerlink" title="评论区部署"></a>评论区部署</h2><p>butterfly主题内置了很多评论系统，甚至可以同时部署两个评论系统<br>这里因为twikoo可以部署到vercel上，所以我就直接部署twikoo了</p><ol><li>先到_config.butterfly.yml里启用评论系统<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk</span></span><br><span class="line">  <span class="attr">use:</span> <span class="comment"># Valine,Disqus</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Twikoo</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line">  <span class="comment"># lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.</span></span><br><span class="line">  <span class="comment"># If you set it to true, the comment count will be invalid</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in Home Page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Twikoo</span></span><br><span class="line"><span class="comment"># https://github.com/imaegoo/twikoo</span></span><br><span class="line"><span class="attr">twikoo:</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://gcore.jsdelivr.net/npm/twikoo@1.6.32/dist/twikoo.all.min.js</span></span><br><span class="line">  <span class="attr">envId:</span> <span class="string">https://twikoo.godke.blog</span></span><br><span class="line">  <span class="attr">region:</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span> <span class="comment"># 開啟 visitor 後，文章頁的訪問人數將改為 Twikoo 提供，而不是 不蒜子</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure>这里指定js版本要等评论系统部署到vercel以后同步后端版本，如果版本不同后台会提示<br>envId是部署的域名，vercel部署的默认域名是*.vercel.app,但是这个被墙了，需要后续处理</li><li>vercel部署<ol><li>申请 <a href="https://www.mongodb.com/cloud/atlas/register">MongoDB</a> 账号</li><li>创建免费 MongoDB 数据库，区域推荐选择 <code>AWS / N. Virginia (us-east-1)</code></li><li>在 Database Access 页面点击 Add New Database User 创建数据库用户，Authentication Method 选 Password，在 Password Authentication 下设置数据库用户名和密码，用户名和密码可包含数字和大小写字母，请勿包含特殊符号。点击 Database User Privileges 下方的 Add Built In Role，Select Role 选择 Atlas Admin，最后点击 Add User</li></ol></li></ol><p><a href="https://twikoo.js.org/assets/mongodb-1.kzmwAvw2.png"><img src="https://twikoo.js.org/assets/mongodb-1.kzmwAvw2.png"></a><br>4. 在 Network Access 页面点击 Add IP Address，Access List Entry 输入 <code>0.0.0.0/0</code>（允许所有 IP 地址的连接），点击 Confirm</p><p><a href="https://twikoo.js.org/assets/mongodb-2.wGC2d7_O.png"><img src="https://twikoo.js.org/assets/mongodb-2.wGC2d7_O.png"></a></p><ol start="5"><li>在 Database 页面点击 Connect，连接方式选择 Drivers，并记录数据库连接字符串，请将连接字符串中的 <code>&lt;username&gt;:&lt;password&gt;</code> 修改为刚刚创建的数据库 <code>用户名:密码</code></li></ol><p><a href="https://twikoo.js.org/assets/mongodb-3.BlCbBw8p.png"><img src="https://twikoo.js.org/assets/mongodb-3.BlCbBw8p.png"></a></p><ol start="6"><li>申请 <a href="https://vercel.com/signup">Vercel</a> 账号</li><li>点击以下按钮将 Twikoo 一键部署到 Vercel</li></ol><p><a href="https://vercel.com/import/project?template=https://github.com/twikoojs/twikoo/tree/main/src/server/vercel-min"><img src="https://vercel.com/button" alt="Deploy"></a></p><ol start="8"><li>进入 Settings - Environment Variables，添加环境变量 <code>MONGODB_URI</code>，值为前面记录的数据库连接字符串</li><li>进入 Settings - Deployment Protection，设置 Vercel Authentication 为 Disabled，并 Save</li></ol><p><a href="https://twikoo.js.org/assets/vercel-1.Czytea8u.png"><img src="https://twikoo.js.org/assets/vercel-1.Czytea8u.png"></a></p><ol start="10"><li>进入 Deployments , 然后在任意一项后面点击更多（三个点） , 然后点击 Redeploy , 最后点击下面的 Redeploy</li><li>进入 Overview，点击 Domains 下方的链接，如果环境配置正确，可以看到 “Twikoo 云函数运行正常” 的提示</li><li>Vercel Domains（包含 <code>https://</code> 前缀，例如 <code>https://xxx.vercel.app</code>）即为您的envId</li></ol><h2 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h2><p>现在重启项目，应该就能看到评论区被加载出来了，在输入框下面可以看到一个小齿轮<br>点击小齿轮进入后台，这时最好开一下代理，因为现在使用的是vercel的静态服务，而vercel被墙了</p><ol><li>设置一个后台密码</li><li>配置一些通用设置，按照提示来就行，也可以开启插件里的图片功能，需要一个图床的token</li></ol><h2 id="评论输入提醒"><a href="#评论输入提醒" class="headerlink" title="评论输入提醒"></a>评论输入提醒</h2><p>只需在custom.css内添加</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 设置文字内容 :nth-child(1)的作用是选择第几个 */</span>  </span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)<span class="selector-pseudo">:before</span> &#123;  </span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;输入QQ号会自动获取昵称和头像🐧&#x27;</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)<span class="selector-pseudo">:before</span> &#123;  </span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;收到回复将会发送到您的邮箱📧&#x27;</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)<span class="selector-pseudo">:before</span> &#123;  </span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;可以通过昵称访问您的网站🔗&#x27;</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 当用户点击输入框时显示 */</span>  </span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::before</span>,  </span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::after</span> &#123;  </span><br><span class="line">    <span class="attribute">display</span>: block;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 主内容区 */</span>  </span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">    <span class="comment">/* 先隐藏起来 */</span>  </span><br><span class="line">    <span class="attribute">display</span>: none;  </span><br><span class="line">    <span class="comment">/* 绝对定位 */</span>  </span><br><span class="line">    <span class="attribute">position</span>: absolute;  </span><br><span class="line">    <span class="comment">/* 向上移动60像素 */</span>  </span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">60px</span>;  </span><br><span class="line">    <span class="comment">/* 文字强制不换行，防止left:50%导致的文字换行 */</span>  </span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;  </span><br><span class="line">    <span class="comment">/* 圆角 */</span>  </span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;  </span><br><span class="line">    <span class="comment">/* 距离左边50% */</span>  </span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;  </span><br><span class="line">    <span class="comment">/* 然后再向左边挪动自身的一半，即可实现居中 */</span>  </span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>);  </span><br><span class="line">    <span class="comment">/* 填充 */</span>  </span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">14px</span> <span class="number">18px</span>;  </span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#444</span>;  </span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 小角标 */</span>  </span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">::after</span> &#123;  </span><br><span class="line">    <span class="attribute">display</span>: none;  </span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;  </span><br><span class="line">    <span class="attribute">position</span>: absolute;  </span><br><span class="line">    <span class="comment">/* 内容大小（宽高）为0且边框大小不为0的情况下，每一条边（4个边）都是一个三角形，组成一个正方形。  </span></span><br><span class="line"><span class="comment">    我们先将所有边框透明，再给其中的一条边添加颜色就可以实现小三角图标 */</span>  </span><br><span class="line">    <span class="attribute">border</span>: <span class="number">12px</span> solid transparent;  </span><br><span class="line">    <span class="attribute">border-top-color</span>: <span class="number">#444</span>;  </span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;  </span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">48px</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="邮件回复部署"><a href="#邮件回复部署" class="headerlink" title="邮件回复部署"></a>邮件回复部署</h2><p>邮件回复虽然支持的邮箱很多，但是问题也很多，比如QQ邮箱会认为你在发垃圾邮件，返回一个550报错，完全用不了<br>最好使用gmail，容忍度比较高</p><h3 id="开通smtp"><a href="#开通smtp" class="headerlink" title="开通smtp"></a>开通smtp</h3><p>谷歌Gmail邮箱开启SMTP&#x2F;IMAP服务流程<br>谷歌邮箱机制是IMAP一旦开通，SMTP也就自动开通了，设置里没有没关系，不用管它</p><p>获取谷歌应用专用密码：<br>在开通了IMAP服务，还需要向谷歌获取应用密码才可以使用，此时我们访问谷歌账号页面：<a href="https://myaccount.google.com/">https://myaccount.google.com/</a> 在左侧的菜单下，选择安全性</p><p><img src="https://img2022.cnblogs.com/blog/1294257/202205/1294257-20220526144454797-985396113.png"></p><p>注意！我们要获取应用专用密码就必须要开启两步验证，否则应用专用密码的选项不会显示出来。</p><p><img src="https://img2022.cnblogs.com/blog/1294257/202205/1294257-20220526144541746-535908337.png"></p><p>按照google的要求开通两步验证即可，过程中需要绑定个手机号，以下是开通后的界面：</p><p><img src="https://img2022.cnblogs.com/blog/1294257/202205/1294257-20220526144559982-324092593.png"></p><p>开通了之后，点击两步验证的选项，应用专用密码功能出现了，我们需要在此出新生成个密码</p><p>生成后会得到一段独立密码，复制保存好，如果忘记就只能删除 重新生成。<br><img src="https://img2022.cnblogs.com/blog/1294257/202205/1294257-20220526144644570-1469263725.png"></p><h3 id="配置邮件回复"><a href="#配置邮件回复" class="headerlink" title="配置邮件回复"></a>配置邮件回复</h3><p>协议端口说明：<br>以下是谷歌Gmail邮箱所对应的端口 以及 我们需要的SMTP服务器地址。参考下表：</p><table><thead><tr><th>介绍</th><th>详细</th></tr></thead><tbody><tr><td>接收邮件 (IMAP) 服务器</td><td>imap.gmail.com要求 SSL：是端口：993</td></tr><tr><td>发送邮件 (SMTP) 服务器</td><td>smtp.gmail.com要求 SSL：是要求 TLS：是（如适用）使用身份验证：是SSL 端口：465TLS&#x2F;STARTTLS 端口：587</td></tr><tr><td>完整名称或显示名称</td><td>您的姓名</td></tr><tr><td>帐号名、用户名或电子邮件地址</td><td>您的完整电子邮件地址</td></tr><tr><td>密码</td><td>您的 Gmail 密码&#x2F;应用专用密码</td></tr><tr><td>之后来到评论系统后台，选择邮件通知选项，按照提示填入即可</td><td></td></tr></tbody></table><h3 id="设置自定义回复模板"><a href="#设置自定义回复模板" class="headerlink" title="设置自定义回复模板"></a>设置自定义回复模板</h3><p>有两个模板，不过我喜欢直接两个用一样的，一个是提醒站长，一个是提醒其他人<br>提示信息看字符串改就行，匹配字段支持<br>${SITE_URL}, ${SITE_NAME}, ${PARENT_NICK}, ${PARENT_COMMENT}, ${NICK}, ${COMMENT}, ${POST_URL}, ${IMG}, ${PARENT_IMG}</p><p>另外可以自定义的也就最前面的background和background-image了，一个是整体的颜色，格式是rgba，一个是头图，改成自己的url就行</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page flex-col&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box_3 flex-col&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  display: flex;  position: relative;  width: 100%;  height: 206px;  background: #aaeeffbb;  top: 0;  left: 0;  justify-content: center;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;section_1 flex-col&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  background-image: url(<span class="symbol">&amp;quot;</span>https://picbed.godke.blog/img/ATRIhead.jpg<span class="symbol">&amp;quot;</span>);  position: absolute;  width: 152px;  height: 152px;  display: flex;  top: 130px;  background-size: cover;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box_4 flex-col&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  margin-top: 92px;  display: flex;  flex-direction: column;  align-items: center;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-group_5 flex-col justify-between&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  display: flex;  flex-direction: column;  align-items: center;  margin: 0 20px;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text_1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  font-size: 26px;  font-family: PingFang-SC-Bold, PingFang-SC;  font-weight: bold;  color: #000000;  line-height: 37px;  text-align: center;&quot;</span>&gt;</span>嘿！你在<span class="symbol">&amp;nbsp;</span>$&#123;SITE_NAME&#125;<span class="symbol">&amp;nbsp;</span>中收到一条新回复。<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text_2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  font-size: 16px;  font-family: PingFang-SC-Bold, PingFang-SC;  font-weight: bold;  color: #00000030;  line-height: 22px;  margin-top: 21px;  text-align: center;&quot;</span>&gt;</span>你之前的评论<span class="symbol">&amp;nbsp;</span>在<span class="symbol">&amp;nbsp;</span>$&#123;SITE_NAME&#125; 中收到来自<span class="symbol">&amp;nbsp;</span>$&#123;NICK&#125;<span class="symbol">&amp;nbsp;</span>的回复<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box_2 flex-row&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  margin: 0 20px;  min-height: 128px;  background: #F7F7F7;  border-radius: 12px;  margin-top: 34px;  display: flex;  flex-direction: column;  align-items: flex-start;  padding: 32px 16px;  width: calc(100% - 40px);&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-wrapper_4 flex-col justify-between&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  display: flex;  flex-direction: column;  margin-left: 30px;  margin-bottom: 16px;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text_3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  height: 22px;  font-size: 16px;  font-family: PingFang-SC-Bold, PingFang-SC;  font-weight: bold;  color: #C5343E;  line-height: 22px;&quot;</span>&gt;</span>$&#123;PARENT_NICK&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text_4&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  margin-top: 6px;  margin-right: 22px;  font-size: 16px;  font-family: PingFangSC-Regular, PingFang SC;  font-weight: 400;  color: #000000;  line-height: 22px;&quot;</span>&gt;</span>$&#123;PARENT_COMMENT&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">hr</span> <span class="attr">style</span>=<span class="string">&quot;    display: flex;    position: relative;    border: 1px dashed #ef859d2e;    box-sizing: content-box;    height: 0px;    overflow: visible;    width: 100%;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-wrapper_4 flex-col justify-between&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  display: flex;  flex-direction: column;  margin-left: 30px;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text_3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  height: 22px;  font-size: 16px;  font-family: PingFang-SC-Bold, PingFang-SC;  font-weight: bold;  color: #C5343E;  line-height: 22px;&quot;</span>&gt;</span>$&#123;NICK&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text_4&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  margin-top: 6px;  margin-right: 22px;  font-size: 16px;  font-family: PingFangSC-Regular, PingFang SC;  font-weight: 400;  color: #000000;  line-height: 22px;&quot;</span>&gt;</span>$&#123;COMMENT&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;text-wrapper_2 flex-col&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  min-width: 106px;  height: 38px;  background: #ef859d38;  border-radius: 32px;  display: flex;  align-items: center;  justify-content: center;  text-decoration: none;  margin: auto;  margin-top: 32px;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;POST_URL&#125;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text_5&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  color: #DB214B;&quot;</span>&gt;</span>查看详情<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-group_6 flex-col justify-between&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  display: flex;  flex-direction: column;  align-items: center;  margin-top: 34px;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text_6&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  height: 17px;  font-size: 12px;  font-family: PingFangSC-Regular, PingFang SC;  font-weight: 400;  color: #00000045;  line-height: 17px;&quot;</span>&gt;</span>此邮件由评论服务自动发出，直接回复无效。<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;text_7&quot;</span> <span class="attr">style</span>=<span class="string">&quot;  height: 17px;  font-size: 12px;  font-family: PingFangSC-Regular, PingFang SC;  font-weight: 400;  color: #DB214B;  line-height: 17px;  margin-top: 6px;  text-decoration: none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;SITE_URL&#125;&quot;</span>&gt;</span>前往博客<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 网站搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> twikoo </tag>
            
            <tag> vercel </tag>
            
            <tag> cloudflare </tag>
            
            <tag> gmail </tag>
            
            <tag> mongodb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何调试微信中的网页</title>
      <link href="/2024/03/20/WeChat-inspect/"/>
      <url>/2024/03/20/WeChat-inspect/</url>
      
        <content type="html"><![CDATA[<h1 id="导言"><a href="#导言" class="headerlink" title="导言"></a>导言</h1><blockquote><p>众所周知，微信作为一款优秀的国产app，以其离谱的大小著称，且不谈其内置的输入法有多么的离谱，仅仅是微信内置的浏览器就已经技惊四座，作为一个使用CEF(<a href="https://www.chromium.org/Home">Chromium Embedded Framework (CEF)</a> 是一个基于Google Chromium的开源项目)的软件，它<strong>为了减少客户对微信体积过大的怨恨，<em>善良</em>地将浏览器内置的调试工具删除了</strong>，导致我们无法对微信内的网页做任何操作，那么有什么办法可以解决呢？</p></blockquote><h1 id="User-Agent-Cookie（拉跨）"><a href="#User-Agent-Cookie（拉跨）" class="headerlink" title="User-Agent + Cookie（拉跨）"></a>User-Agent + Cookie（拉跨）</h1><h2 id="微信的User-Agent检查"><a href="#微信的User-Agent检查" class="headerlink" title="微信的User-Agent检查"></a>微信的User-Agent检查</h2><p>当你尝试用浏览器打开一部分微信内网页时，微信就会善良地提醒你<br><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309134251.png" alt="Pasted image 20240309134251.png"></p><p>这时我们查看网页源代码，就会发现这样一段检查</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1, user-scalable=0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            var ua = navigator.userAgent.toLowerCase();</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            var isWeixin = ua.indexOf(&#x27;micromessenger&#x27;) != -1; //isWeixin</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            var isAndroid = ua.indexOf(&#x27;android&#x27;) != -1;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            var isIos = (ua.indexOf(&#x27;iphone&#x27;) != -1) || (ua.indexOf(&#x27;ipad&#x27;) != -1);</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            if (!isWeixin) &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                document.head.innerHTML = &#x27;<span class="tag">&lt;<span class="name">title</span>&gt;</span>抱歉，出错了<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1, user-scalable=0&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://res.wx.qq.com/open/libs/weui/0.4.1/weui.css&quot;</span>&gt;</span>&#x27;;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                document.body.innerHTML = &#x27;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;weui_msg&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;weui_icon_area&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;weui_icon_info weui_icon_msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;weui_text_area&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">&quot;weui_msg_title&quot;</span>&gt;</span>请在微信客户端打开链接<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#x27;;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>不难发现isWeixin的检查是看UA里有没有micromessenger，它还善良地开了大小写兼容，我哭死</p><p>于是我在UA里写上MicroMessenger，再刷新<br><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309134633.png" alt="Pasted image 20240309134633.png"></p><p>于是便发现我们确实可以进入网页了，但是为什么一片雪白？<br><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309134741.png" alt="Pasted image 20240309134741.png"></p><h3 id="Cookie需求"><a href="#Cookie需求" class="headerlink" title="Cookie需求"></a>Cookie需求</h3><p>很显然我们没有Cookie来表明自己的身份，人家服务器都不知道我们是谁，怎么给我们推送数据<br>（当然一些公共网页不需要身份，是可以自己打开的（也许），但大部分都要Cookie）<br>而WeiXin的Cookie有点难获取，需要用fiddle抓包，还不好找，所以<strong>不建议这么玩</strong></p><h1 id="直接打入敌人内部（万能）"><a href="#直接打入敌人内部（万能）" class="headerlink" title="直接打入敌人内部（万能）"></a>直接打入敌人内部（万能）</h1><p>很显然微信的开发者肯定需要一个调试的路径，所以我们只要伪装成开发者去调试就行<br><strong>直接上过程</strong></p><h2 id="打开手机的USB调试"><a href="#打开手机的USB调试" class="headerlink" title="打开手机的USB调试"></a>打开手机的USB调试</h2><p>在开发人员选项里有USB调试的相关选项，打开即可，当然要先开启开发人员模式<br><img src="https://picbed.godke.blog/img/429a50f9f5709eeadbbcc8b92a9b7ab.jpg" alt="429a50f9f5709eeadbbcc8b92a9b7ab.jpg|350"></p><h2 id="连接手机和电脑"><a href="#连接手机和电脑" class="headerlink" title="连接手机和电脑"></a>连接手机和电脑</h2><p>直接用数据线连起来就行，开启传输文件最佳<br>似乎打开了“仅充电”模式下允许ADB调试的话就可以开仅充电</p><h2 id="开启微信的调试模式"><a href="#开启微信的调试模式" class="headerlink" title="开启微信的调试模式"></a>开启微信的调试模式</h2><p>在手机微信内点击链接</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://debugxweb.qq.com/?inspector=true</span><br></pre></td></tr></table></figure><p>如果正常的话就可以看到执行成功的提示<br><img src="https://picbed.godke.blog/img/0e8adf28492175cdccec7150dd7f86a.jpg" alt="0e8adf28492175cdccec7150dd7f86a.jpg|350"></p><h2 id="浏览器启动调试"><a href="#浏览器启动调试" class="headerlink" title="浏览器启动调试"></a>浏览器启动调试</h2><p>在浏览器内输入相应地址<br>Chrome输入 <a href="chrome://inspect/#devices">chrome:&#x2F;&#x2F;inspect&#x2F;#devices</a><br>Edge输入 <a href="edge://inspect/#devices">edge:&#x2F;&#x2F;inspect&#x2F;#decives</a></p><p>浏览器端就可以看到页面<br><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309140435.png" alt="Pasted image 20240309140435.png"></p><p>手机端则会接到通知，点击确定即可<br><img src="https://picbed.godke.blog/img/957b92b0dbc978aa7fda20bc34f4503.jpg" alt="957b92b0dbc978aa7fda20bc34f4503.jpg|350"></p><h2 id="开始调试"><a href="#开始调试" class="headerlink" title="开始调试"></a>开始调试</h2><p>这时在手机端打开一个只能在微信打开的网页，比如一些公众号的功能网页（以青年大学习为例） </p><p>如果理想的话网页端就可以检测到WebView<br><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309140920.png" alt="Pasted image 20240309140920.png"></p><p>点击inspect就可以进入调试页面，本质上调用了edge的调试工具<br><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309141027.png" alt="Pasted image 20240309141027.png"></p><p>这个页面就和直接打开网页没有区别，可以直接在网页上浏览（手机上也会同步浏览）<br>也可以直接通过检查和修改元素改变手机上显示的元素</p><h1 id="一些问题情况的解决"><a href="#一些问题情况的解决" class="headerlink" title="一些问题情况的解决"></a>一些问题情况的解决</h1><p>一般来说只要重复两个动作就能解决大部分问题<br>一是[[99others&#x2F;微信内部网页调试&#x2F;如何调试微信中的网页#开启微信的调试模式|开启微信的调试模式]]<br>二是[[99others&#x2F;微信内部网页调试&#x2F;如何调试微信中的网页#打开手机的USB调试|打开手机的USB调试]]</p><h2 id="找不到设备？"><a href="#找不到设备？" class="headerlink" title="找不到设备？"></a>找不到设备？</h2><p>如果发现浏览器一直检查不到设备，可以选择下载<br><a href="https://deanfun.lanzoub.com/iP3hO17liu0d">minimal_adb_fastboot_1.4.3_portable.zip - 蓝奏云 (lanzoub.com)</a><br>下载到的内容是<br><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309141628.png" alt="Pasted image 20240309141628.png"></p><p>你可以选择把它放到已经在系统PATH的文件夹里，这样就可以直接调用adb，也可以选择直接指定adb.exe来调用命令 <strong>adb devices</strong><br>正常的话就会看到该命令开启了一个adb通道<br><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309141814.png" alt="Pasted image 20240309141814.png"></p><p>这时候一般就能在浏览器看到设备了</p><h1 id="结果展示"><a href="#结果展示" class="headerlink" title="结果展示"></a>结果展示</h1><p><img src="https://picbed.godke.blog/img/Pasted%20image%2020240309142052.png" alt="Pasted image 20240309142052.png"></p><p>通过选中元素进行调试的方法就能很方便地修改所有元素，比如这里修改了积分</p><p>手机端此时也会同步显示，且由于本质上资源已经被修改了，即使你关掉调试和连接，只要这个页面没有重载，就不会被改回去</p><p><img src="https://picbed.godke.blog/img/824030c06980f2a1e3160587159bd09.jpg" alt="824030c06980f2a1e3160587159bd09.jpg|400"></p>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WeChat </tag>
            
            <tag> debug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web-03 网页设计和魔改</title>
      <link href="/2024/03/16/web-design/"/>
      <url>/2024/03/16/web-design/</url>
      
        <content type="html"><![CDATA[<blockquote><p>实践出真知</p></blockquote><ul><li>边看边调，记录点有意思的东西</li></ul><h1 id="学习hexo设计"><a href="#学习hexo设计" class="headerlink" title="学习hexo设计"></a>学习hexo设计</h1><h2 id="hexo本体"><a href="#hexo本体" class="headerlink" title="hexo本体"></a>hexo本体</h2><p><a href="https://hexo.io/zh-cn/docs/">文档 | Hexo</a><br>多看文档总不会错，把自定义下面的内容边看边改就差不多了</p><h1 id="学习主题设计"><a href="#学习主题设计" class="headerlink" title="学习主题设计"></a>学习主题设计</h1><h2 id="butterfly主题"><a href="#butterfly主题" class="headerlink" title="butterfly主题"></a>butterfly主题</h2><p><a href="https://butterfly.js.org/">Butterfly - A Simple and Card UI Design theme for Hexo</a><br>简单好使</p><h2 id="Next主题"><a href="#Next主题" class="headerlink" title="Next主题"></a>Next主题</h2><p><a href="https://theme-next.js.org/docs/">Documentation | NexT (theme-next.js.org)</a><br>next是老牌主题，功能全，但是美观度得靠自己魔改<br><strong>只是纯英文doc有点难受</strong></p><h1 id="学习主题魔改"><a href="#学习主题魔改" class="headerlink" title="学习主题魔改"></a>学习主题魔改</h1><p><a href="https://akilar.top/">Akilarの糖果屋 - Akilar.top</a><br><a href="https://www.fomal.cc/">Fomalhaut🥝</a><br>还得是前人的智慧有用，只是版本有点旧，得自己重复一遍，抄不了作业</p><h1 id="魔改记录"><a href="#魔改记录" class="headerlink" title="魔改记录"></a>魔改记录</h1><p>记录一下自己干了什么，方便后续维护</p><h2 id="留言板"><a href="#留言板" class="headerlink" title="留言板"></a>留言板</h2><ol><li>由插件提供服务<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure></li><li>在_config.yml内配置<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># envelope_comment  </span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/e2d3c450/  </span></span><br><span class="line"><span class="attr">envelope_comment:</span>  </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制开关  </span></span><br><span class="line">  <span class="attr">custom_pic:</span>        </span><br><span class="line">    <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/violet.jpg</span> <span class="comment">#信笺头部图片  </span></span><br><span class="line">    <span class="attr">line:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/line.png</span> <span class="comment">#信笺底部图片  </span></span><br><span class="line">    <span class="attr">beforeimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/before.png</span> <span class="comment"># 信封前半部分  </span></span><br><span class="line">    <span class="attr">afterimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/after.png</span> <span class="comment"># 信封后半部分  </span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#信笺正文，多行文本，写法如下  </span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span>   </span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务！</span> <span class="comment">#仅支持单行文本  </span></span><br><span class="line">  <span class="attr">height:</span> <span class="comment">#1050px，信封划出的高度  </span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html  </span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】comments页面的 front_matter 配置  </span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span>  </span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="网站一图流"><a href="#网站一图流" class="headerlink" title="网站一图流"></a>网站一图流</h2><p>其实通过设置transparent就能实现，但是魔改可以有更多选择且减少数据加载 </p><ol><li><p>在<code>[BlogRoot]\source</code>文件夹下新建一个文件夹<code>css</code>，该文件夹用于存放自定义的<code>css样式</code>，再新建一个名为<code>custom.css</code>，在里面写入以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 页脚与头图透明 */</span>  </span><br><span class="line"><span class="selector-id">#footer</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-id">#page-header</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 白天模式遮罩透明 */</span>  </span><br><span class="line"><span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 夜间模式遮罩透明 */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>inject</code>配置项的<code>head</code>子项加入以下代码，代表引入刚刚创建的<code>custom.css</code>文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">head:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中配置加载项，减少冗余</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The banner image of home page  </span></span><br><span class="line"><span class="attr">index_img:</span>   </span><br><span class="line"><span class="comment"># Footer Background  </span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">url(&lt;背景地址&gt;)</span> <span class="comment"># 只加载背景</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="页脚github徽标"><a href="#页脚github徽标" class="headerlink" title="页脚github徽标"></a>页脚github徽标</h2><ol><li>插件提供服务<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-footer-beautify --save</span><br></pre></td></tr></table></figure></li><li>在站点配置文件<code>_config.yml</code>中配置<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># footer_beautify  </span></span><br><span class="line"><span class="comment"># 页脚计时器：[Native JS Timer](https://akilar.top/posts/b941af/)  </span></span><br><span class="line"><span class="comment"># 页脚徽标：[Add Github Badge](https://akilar.top/posts/e87ad7f8/)  </span></span><br><span class="line"><span class="attr">footer_beautify:</span>  </span><br><span class="line">  <span class="attr">enable:</span>  </span><br><span class="line">    <span class="attr">timer:</span> <span class="literal">false</span> <span class="comment"># 计时器开关 ——本人不想打开，没什么用</span></span><br><span class="line">    <span class="attr">bdage:</span> <span class="literal">true</span> <span class="comment"># 徽标开关  </span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权  </span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面  </span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="comment">#屏蔽页面  </span></span><br><span class="line">    <span class="comment"># - /posts/  </span></span><br><span class="line">    <span class="comment"># - /about/  </span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型  </span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span>  </span><br><span class="line">    <span class="attr">name:</span> <span class="string">footer-wrap</span>  </span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span>  </span><br><span class="line">  <span class="comment"># 计时器部分配置项</span></span><br><span class="line">  <span class="attr">runtime_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.js</span>  </span><br><span class="line">  <span class="attr">runtime_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css</span>  </span><br><span class="line">  <span class="comment"># 徽标部分配置项  </span></span><br><span class="line">  <span class="attr">swiperpara:</span> <span class="number">0</span> <span class="comment">#若非0，则开启轮播功能，每行徽标个数  </span></span><br><span class="line">  <span class="attr">bdageitem:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://hexo.io/</span> <span class="comment">#徽标指向网站链接  </span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo</span> <span class="comment">#徽标API  </span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">博客框架为Hexo_v6.2.0</span> <span class="comment">#徽标提示语  </span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://butterfly.js.org/</span>  </span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</span>  </span><br><span class="line">      <span class="attr">message:</span> <span class="string">主题版本Butterfly_v4.3.1</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">http://creativecommons.org/licenses/by-nc-sa/4.0/</span>  </span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris</span>  </span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可</span>  </span><br><span class="line">    <span class="comment"># 自由添加</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span>  </span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span>  </span><br><span class="line">  <span class="attr">swiperbdage_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js</span></span><br></pre></td></tr></table></figure></li><li>shield获取<br>前往<a href="https://shields.io/">Shields.io | Shields.io</a>设计获取即可<br>也可以直接修改url，模板如下<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://img.shields.io/badge/&lt;前半字符&gt;-&lt;后半字符&gt;-&lt;颜色&gt;?style=flat&amp;logo=&lt;名称&gt;</span><br><span class="line">可能找不到logo，所以还是到网站去预览一下比较好，style也可以去预览看看</span><br></pre></td></tr></table></figure></li></ol><h2 id="首页文章置顶滚动栏"><a href="#首页文章置顶滚动栏" class="headerlink" title="首页文章置顶滚动栏"></a>首页文章置顶滚动栏</h2><ol><li>插件提供服务<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure></li><li>在站点配置文件<code>_config.yml</code>中配置<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper  </span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/8e1264d1/  </span></span><br><span class="line"><span class="attr">swiper:</span>  </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关  </span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权  </span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面  </span></span><br><span class="line">  <span class="attr">timemode:</span> <span class="string">date</span> <span class="comment">#date/updated  </span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型  </span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span>  </span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span>  </span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span>  </span><br><span class="line">  <span class="attr">default_descr:</span> <span class="string">再怎么看我也不知道怎么描述它的啦！</span>  </span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span> <span class="comment">#swiper css依赖  </span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span> <span class="comment">#swiper js依赖  </span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css</span> <span class="comment"># 适配主题样式补丁  </span></span><br><span class="line">  <span class="attr">custom_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js</span> <span class="comment"># swiper初始化方法</span></span><br></pre></td></tr></table></figure></li><li>在文章的<code>front_matter</code>中添加<code>swiper_index</code>配置项<figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---  </span><br><span class="line">cover: 文章封面  </span><br><span class="line">description: 文章描述  </span><br><span class="line"><span class="section">swiper<span class="emphasis">_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前  </span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure></li></ol><h2 id="霓虹灯"><a href="#霓虹灯" class="headerlink" title="霓虹灯"></a>霓虹灯</h2><p>在自定义的<code>custom.css</code>中添加如下代码，实现的原理就是关键帧线性插值，然后一直循环，这里默认是左上角标题、中间标题和副标题，还有文章页头的标题和信息有循环霓虹灯</p><ul><li>可以对此进行了再度魔改，比如使其一直发光或应用于更多元素<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 日间模式不生效 */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-name</span>,  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-title</span>,  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-subtitle</span>,  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#post-info</span> &#123;  </span><br><span class="line">  <span class="attribute">animation</span>: none;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">/* 夜间模式生效 */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-name</span>,  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-title</span> &#123;  </span><br><span class="line">  <span class="attribute">animation</span>: light_15px <span class="number">10s</span> linear infinite;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-subtitle</span> &#123;  </span><br><span class="line">  <span class="attribute">animation</span>: light_10px <span class="number">10s</span> linear infinite;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#post-info</span> &#123;  </span><br><span class="line">  <span class="attribute">animation</span>: light_5px <span class="number">10s</span> linear infinite;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">/* 关键帧描述 */</span>  </span><br><span class="line"><span class="keyword">@keyframes</span> light_15px &#123;  </span><br><span class="line">  <span class="number">0%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">12.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">25%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">37.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">62.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">75%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">87.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#39c5bb</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">100%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">@keyframes</span> light_10px &#123;  </span><br><span class="line">  <span class="number">0%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">12.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">25%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">37.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">62.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">75%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">87.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#39c5bb</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">100%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">@keyframes</span> light_5px &#123;  </span><br><span class="line">  <span class="number">0%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">12.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">25%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">37.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">62.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">75%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">87.5%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#39c5bb</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">100%</span> &#123;  </span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="星空背景和流星特效"><a href="#星空背景和流星特效" class="headerlink" title="星空背景和流星特效"></a>星空背景和流星特效</h2><ol><li>在<code>[BlogRoot]/source/js</code>目录下新建<code>universe.js</code>，输入以下代码：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dark</span>(<span class="params"></span>) &#123;<span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span>=<span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span>;<span class="keyword">var</span> n,e,i,h,t=<span class="number">.05</span>,s=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;universe&quot;</span>),o=!<span class="number">0</span>,a=<span class="string">&quot;180,184,240&quot;</span>,r=<span class="string">&quot;226,225,142&quot;</span>,d=<span class="string">&quot;226,225,224&quot;</span>,c=[];<span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>)&#123;n=<span class="variable language_">window</span>.<span class="property">innerWidth</span>,e=<span class="variable language_">window</span>.<span class="property">innerHeight</span>,i=<span class="number">.216</span>*n,s.<span class="title function_">setAttribute</span>(<span class="string">&quot;width&quot;</span>,n),s.<span class="title function_">setAttribute</span>(<span class="string">&quot;height&quot;</span>,e)&#125;<span class="keyword">function</span> <span class="title function_">u</span>(<span class="params"></span>)&#123;h.<span class="title function_">clearRect</span>(<span class="number">0</span>,<span class="number">0</span>,n,e);<span class="keyword">for</span>(<span class="keyword">var</span> t=c.<span class="property">length</span>,i=<span class="number">0</span>;i&lt;t;i++)&#123;<span class="keyword">var</span> s=c[i];s.<span class="title function_">move</span>(),s.<span class="title function_">fadeIn</span>(),s.<span class="title function_">fadeOut</span>(),s.<span class="title function_">draw</span>()&#125;&#125;<span class="keyword">function</span> <span class="title function_">y</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">reset</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">giant</span>=<span class="title function_">m</span>(<span class="number">3</span>),<span class="variable language_">this</span>.<span class="property">comet</span>=!<span class="variable language_">this</span>.<span class="property">giant</span>&amp;&amp;!o&amp;&amp;<span class="title function_">m</span>(<span class="number">10</span>),<span class="variable language_">this</span>.<span class="property">x</span>=<span class="title function_">l</span>(<span class="number">0</span>,n-<span class="number">10</span>),<span class="variable language_">this</span>.<span class="property">y</span>=<span class="title function_">l</span>(<span class="number">0</span>,e),<span class="variable language_">this</span>.<span class="property">r</span>=<span class="title function_">l</span>(<span class="number">1.1</span>,<span class="number">2.6</span>),<span class="variable language_">this</span>.<span class="property">dx</span>=<span class="title function_">l</span>(t,<span class="number">6</span>*t)+(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)*t*<span class="title function_">l</span>(<span class="number">50</span>,<span class="number">120</span>)+<span class="number">2</span>*t,<span class="variable language_">this</span>.<span class="property">dy</span>=-<span class="title function_">l</span>(t,<span class="number">6</span>*t)-(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)*t*<span class="title function_">l</span>(<span class="number">50</span>,<span class="number">120</span>),<span class="variable language_">this</span>.<span class="property">fadingOut</span>=<span class="literal">null</span>,<span class="variable language_">this</span>.<span class="property">fadingIn</span>=!<span class="number">0</span>,<span class="variable language_">this</span>.<span class="property">opacity</span>=<span class="number">0</span>,<span class="variable language_">this</span>.<span class="property">opacityTresh</span>=<span class="title function_">l</span>(<span class="number">.2</span>,<span class="number">1</span>-<span class="number">.4</span>*(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)),<span class="variable language_">this</span>.<span class="property">do</span>=<span class="title function_">l</span>(<span class="number">5e-4</span>,<span class="number">.002</span>)+<span class="number">.001</span>*(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)&#125;,<span class="variable language_">this</span>.<span class="property">fadeIn</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">fadingIn</span>&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingIn</span>=!(<span class="variable language_">this</span>.<span class="property">opacity</span>&gt;<span class="variable language_">this</span>.<span class="property">opacityTresh</span>),<span class="variable language_">this</span>.<span class="property">opacity</span>+=<span class="variable language_">this</span>.<span class="property">do</span>)&#125;,<span class="variable language_">this</span>.<span class="property">fadeOut</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">fadingOut</span>&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!(<span class="variable language_">this</span>.<span class="property">opacity</span>&lt;<span class="number">0</span>),<span class="variable language_">this</span>.<span class="property">opacity</span>-=<span class="variable language_">this</span>.<span class="property">do</span>/<span class="number">2</span>,(<span class="variable language_">this</span>.<span class="property">x</span>&gt;n||<span class="variable language_">this</span>.<span class="property">y</span>&lt;<span class="number">0</span>)&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!<span class="number">1</span>,<span class="variable language_">this</span>.<span class="title function_">reset</span>()))&#125;,<span class="variable language_">this</span>.<span class="property">draw</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">if</span>(h.<span class="title function_">beginPath</span>(),<span class="variable language_">this</span>.<span class="property">giant</span>)h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+a+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">1</span>);<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">comet</span>)&#123;h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+d+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">1</span>);<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;<span class="number">30</span>;t++)h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+d+<span class="string">&quot;,&quot;</span>+(<span class="variable language_">this</span>.<span class="property">opacity</span>-<span class="variable language_">this</span>.<span class="property">opacity</span>/<span class="number">20</span>*t)+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">rect</span>(<span class="variable language_">this</span>.<span class="property">x</span>-<span class="variable language_">this</span>.<span class="property">dx</span>/<span class="number">4</span>*t,<span class="variable language_">this</span>.<span class="property">y</span>-<span class="variable language_">this</span>.<span class="property">dy</span>/<span class="number">4</span>*t-<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>),h.<span class="title function_">fill</span>()&#125;<span class="keyword">else</span> h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+r+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">rect</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="variable language_">this</span>.<span class="property">r</span>,<span class="variable language_">this</span>.<span class="property">r</span>);h.<span class="title function_">closePath</span>(),h.<span class="title function_">fill</span>()&#125;,<span class="variable language_">this</span>.<span class="property">move</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">x</span>+=<span class="variable language_">this</span>.<span class="property">dx</span>,<span class="variable language_">this</span>.<span class="property">y</span>+=<span class="variable language_">this</span>.<span class="property">dy</span>,!<span class="number">1</span>===<span class="variable language_">this</span>.<span class="property">fadingOut</span>&amp;&amp;<span class="variable language_">this</span>.<span class="title function_">reset</span>(),(<span class="variable language_">this</span>.<span class="property">x</span>&gt;n-n/<span class="number">4</span>||<span class="variable language_">this</span>.<span class="property">y</span>&lt;<span class="number">0</span>)&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!<span class="number">0</span>)&#125;,<span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;o=!<span class="number">1</span>&#125;,<span class="number">50</span>)&#125;<span class="keyword">function</span> <span class="title function_">m</span>(<span class="params">t</span>)&#123;<span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">1e3</span>*<span class="title class_">Math</span>.<span class="title function_">random</span>())+<span class="number">1</span>&lt;<span class="number">10</span>*t&#125;<span class="keyword">function</span> <span class="title function_">l</span>(<span class="params">t,i</span>)&#123;<span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>()*(i-t)+t&#125;<span class="title function_">f</span>(),<span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,f,!<span class="number">1</span>),<span class="keyword">function</span>(<span class="params"></span>)&#123;h=s.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;i;t++)c[t]=<span class="keyword">new</span> y,c[t].<span class="title function_">reset</span>();<span class="title function_">u</span>()&#125;(),<span class="keyword">function</span> <span class="title function_">t</span>(<span class="params"></span>)&#123;<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;html&#x27;</span>)[<span class="number">0</span>].<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>)==<span class="string">&#x27;dark&#x27;</span>&amp;&amp;<span class="title function_">u</span>(),<span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(t)&#125;()&#125;;  </span><br><span class="line"><span class="title function_">dark</span>()</span><br></pre></td></tr></table></figure></li></ol><p>这里可以进行二次魔改，在函数调用上有一个检测机制(最后面几行)是</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">t</span>(<span class="params"></span>)&#123;<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;html&#x27;</span>)[<span class="number">0</span>].<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>)==<span class="string">&#x27;dark&#x27;</span>&amp;&amp;<span class="title function_">u</span>(),<span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(t)&#125;()&#125;</span><br></pre></td></tr></table></figure><p>我们可以删除掉对data-theme的检测来实现长期有效，这样和背景图的配合更好</p><ol start="2"><li><p>在<code>[BlogRoot]/source/css</code>目录下新建<code>universe.css</code>，输入以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 背景宇宙星光  */</span>  </span><br><span class="line"><span class="selector-id">#universe</span>&#123;  </span><br><span class="line">  <span class="attribute">display</span>: block;  </span><br><span class="line">  <span class="attribute">position</span>: fixed;  </span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;  </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;  </span><br><span class="line">  <span class="attribute">pointer-events</span>: none;  </span><br><span class="line">  <span class="comment">/* 这个是调置顶的优先级的，-1在文章页下面，背景上面，个人推荐这种 */</span>  </span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>中配置注入项<code>inject</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">head:</span>  </span><br><span class="line">   <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/universe.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span>  </span><br><span class="line">   <span class="bullet">-</span> <span class="string">&lt;canvas</span> <span class="string">id=&quot;universe&quot;&gt;&lt;/canvas&gt;</span>  </span><br><span class="line">   <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">src=&quot;/js/universe.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="页面样式调整"><a href="#页面样式调整" class="headerlink" title="页面样式调整"></a>页面样式调整</h2><p>通过css样式调节各个页面透明度、模糊度（亚克力效果）、圆角、边框样式等</p><ol><li>向自定义的<code>custom.css</code>文件内添加代码<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;  </span><br><span class="line">  <span class="attr">--trans-light</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.68</span>);  </span><br><span class="line">  <span class="attr">--trans-dark</span>: <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">0.68</span>);  </span><br><span class="line">  <span class="attr">--border-style</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">169</span>, <span class="number">169</span>, <span class="number">169</span>);  </span><br><span class="line">  <span class="attr">--backdrop-filter</span>: <span class="built_in">blur</span>(<span class="number">5px</span>) <span class="built_in">saturate</span>(<span class="number">150%</span>);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- `--trans-light`：白天模式带透明度的背景色，如`rgba(255, 255, 255, 0.88)`底色是纯白色，其中0.88就透明度，在0-1之间调节，值越大越不透明；</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">- `--trans-dark`: 夜间模式带透明度的背景色，如`rgba(25, 25, 25, 0.88)`底色是柔和黑色，其中0.88就透明度，在0-1之间调节，值越大越不透明;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">- `--border-style`: 边框样式，`1px solid rgb(169, 169, 169)`指宽度为1px的灰色实体边框;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">- `--backdrop-filter`: 背景过滤器，如`blur(5px) saturate(150%)`表示饱和度为150%的、高斯模糊半径为5px的过滤器，这是亚克力效果的一种实现方法;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 首页文章卡片 */</span>  </span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);  </span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);  </span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">25px</span>;  </span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--border-style);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 首页侧栏卡片 */</span>  </span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);  </span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);  </span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">18px</span>;  </span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--border-style);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 文章页、归档页、普通页面 */</span>  </span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#post</span>,  </span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#page</span>,  </span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#archive</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);  </span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);  </span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--border-style);  </span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 导航栏 */</span>  </span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.75</span>);  </span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.7</span>) <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 夜间模式遮罩 */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span>,  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span>,  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#post</span>,  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#archive</span>,  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#page</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-dark);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 夜间模式页脚页头遮罩透明 */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 阅读模式 */</span>  </span><br><span class="line"><span class="selector-class">.read-mode</span> <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">158</span>, <span class="number">204</span>, <span class="number">171</span>, <span class="number">0.5</span>) <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.read-mode</span> <span class="selector-tag">div</span><span class="selector-id">#post</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">158</span>, <span class="number">204</span>, <span class="number">171</span>, <span class="number">0.5</span>) <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 夜间模式下的阅读模式 */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.read-mode</span> <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">0.9</span>) <span class="meta">!important</span>;  </span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffffff</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.read-mode</span> <span class="selector-tag">div</span><span class="selector-id">#post</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">0.9</span>) <span class="meta">!important</span>;  </span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffffff</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="版权美化"><a href="#版权美化" class="headerlink" title="版权美化"></a>版权美化</h2><ol><li><p>修改<code>\butterfly\layout\includes\post\post-copyright.pug</code>,直接复制以下内容替换原文件内容。此处多次用到了三元运算符作为默认项设置，在确保有主题配置文件的默认项的情况下，也可以在相应文章的<code>front-matter</code>中重新定义作者，原文链接，开源许可协议等内容。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">if theme.post_copyright.enable &amp;&amp; page.copyright !== false  </span><br><span class="line">  - let author = page.copyright_author ? page.copyright_author : config.author  </span><br><span class="line">  - let url = page.copyright_url ? page.copyright_url : page.permalink  </span><br><span class="line">  - let license = page.license ? page.license : theme.post_copyright.license  </span><br><span class="line">  - let license_url = page.license_url ? page.license_url : theme.post_copyright.license_url  </span><br><span class="line">  .post-copyright  </span><br><span class="line">    .post-copyright__title  </span><br><span class="line">      span.post-copyright-info  </span><br><span class="line">        h #[=page.title]  </span><br><span class="line">    .post-copyright__type  </span><br><span class="line">      span.post-copyright-info  </span><br><span class="line">        a(href=url_for(url))= theme.post_copyright.decode ? decodeURI(url) : url  </span><br><span class="line">    .post-copyright-m  </span><br><span class="line">      .post-copyright-m-info  </span><br><span class="line">        .post-copyright-a  </span><br><span class="line">            h 作者  </span><br><span class="line">            .post-copyright-cc-info  </span><br><span class="line">                h=author  </span><br><span class="line">        .post-copyright-c  </span><br><span class="line">            h 发布于  </span><br><span class="line">            .post-copyright-cc-info  </span><br><span class="line">                h=date(page.date, config.date_format)  </span><br><span class="line">        .post-copyright-u  </span><br><span class="line">            h 更新于  </span><br><span class="line">            .post-copyright-cc-info  </span><br><span class="line">                h=date(page.updated, config.date_format)  </span><br><span class="line">        .post-copyright-c  </span><br><span class="line">            h 许可协议  </span><br><span class="line">            .post-copyright-cc-info  </span><br><span class="line">                a.icon(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=&#x27;Creative Commons&#x27; href=&#x27;https://creativecommons.org/&#x27;)  </span><br><span class="line">                  i.fab.fa-creative-commons  </span><br><span class="line">                a(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=license href=url_for(license_url))=license</span><br></pre></td></tr></table></figure></li><li><p>修改<code>\butterfly\source\css\_layout\post.styl</code>,直接复制以下内容，替换原文件，这个文件就是自己调节样式的。其中，<code>184</code>行是白天模式的背景色，这里默认是我网站的渐变色，大家可以根据自己的喜好调节；<code>253</code>行是夜间模式的发光光圈颜色</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">beautify</span><span class="params">()</span></span>  </span><br><span class="line">  <span class="built_in">headStyle</span>(fontsize)  </span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + <span class="number">12</span>, <span class="string">&#x27;px&#x27;</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span>  </span><br><span class="line">      <span class="attribute">margin-left</span>: <span class="built_in">unit</span>((<span class="built_in">-</span>(fontsize + <span class="number">6</span>)), <span class="string">&#x27;px&#x27;</span>)  </span><br><span class="line">      <span class="attribute">font-size</span>: <span class="built_in">unit</span>(fontsize, <span class="string">&#x27;px&#x27;</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + <span class="number">18</span>, <span class="string">&#x27;px&#x27;</span>)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">h1</span>,  </span><br><span class="line">  <span class="selector-tag">h2</span>,  </span><br><span class="line">  <span class="selector-tag">h3</span>,  </span><br><span class="line">  <span class="selector-tag">h4</span>,  </span><br><span class="line">  <span class="selector-tag">h5</span>,  </span><br><span class="line">  <span class="selector-tag">h6</span>  </span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span>  </span><br><span class="line">      <span class="attribute">position</span>: absolute  </span><br><span class="line">      <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">7px</span>)  </span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$title</span>-prefix-icon-color  </span><br><span class="line">      <span class="attribute">content</span>: <span class="variable">$title</span>-prefix-icon  </span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1</span>  </span><br><span class="line">      <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out  </span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span>  </span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">h1</span>  </span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">20</span>)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">h2</span>  </span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">18</span>)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">h3</span>  </span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">16</span>)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">h4</span>  </span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">14</span>)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">h5</span>  </span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">h6</span>  </span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">ol</span>,  </span><br><span class="line">  <span class="selector-tag">ul</span>  </span><br><span class="line">    <span class="selector-tag">p</span>  </span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span>  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">li</span>  </span><br><span class="line">    <span class="selector-pseudo">&amp;::marker</span>  </span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$light</span>-blue  </span><br><span class="line">      <span class="attribute">font-weight</span>: <span class="number">600</span>  </span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.05em</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">      <span class="selector-pseudo">&amp;::marker</span>  </span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--pseudo-hover)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span>  </span><br><span class="line">    <span class="attribute">list-style-type</span>: circle  </span><br><span class="line">  </span><br><span class="line"><span class="selector-id">#article-container</span>  </span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word  </span><br><span class="line">  <span class="attribute">overflow-wrap</span>: break-word  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">a</span>  </span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-link-color  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">      <span class="attribute">text-decoration</span>: underline  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">img</span>  </span><br><span class="line">    <span class="attribute">display</span>: block  </span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">20px</span>  </span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>  </span><br><span class="line">    <span class="attribute">transition</span>: filter <span class="number">375ms</span> ease-in .<span class="number">2s</span>  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">p</span>  </span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">16px</span>  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">iframe</span>  </span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span>  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;anchor&#x27;</span>)  </span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.headerlink</span>  </span><br><span class="line">      <span class="selector-pseudo">&amp;:after</span>  </span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span>  </span><br><span class="line">        <span class="attribute">float</span>: right  </span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--headline-presudo)  </span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f0c1&#x27;</span>  </span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">95em</span>  </span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>  </span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">3s</span>  </span><br><span class="line">  </span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">        <span class="selector-pseudo">&amp;:after</span>  </span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--pseudo-hover)  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-tag">h1</span>,  </span><br><span class="line">    <span class="selector-tag">h2</span>,  </span><br><span class="line">    <span class="selector-tag">h3</span>,  </span><br><span class="line">    <span class="selector-tag">h4</span>,  </span><br><span class="line">    <span class="selector-tag">h5</span>,  </span><br><span class="line">    <span class="selector-tag">h6</span>  </span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.headerlink</span>  </span><br><span class="line">          <span class="selector-pseudo">&amp;:after</span>  </span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">1</span>  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-tag">ol</span>,  </span><br><span class="line">  <span class="selector-tag">ul</span>  </span><br><span class="line">    <span class="selector-tag">ol</span>,  </span><br><span class="line">    <span class="selector-tag">ul</span>  </span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="number">20px</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-tag">li</span>  </span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-tag">p</span>  </span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span>  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.enable&#x27;</span>)  </span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;site&#x27;</span>  </span><br><span class="line">      <span class="built_in">beautify</span>()  </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;post&#x27;</span>  </span><br><span class="line">      &amp;<span class="selector-class">.post-content</span>  </span><br><span class="line">        <span class="built_in">beautify</span>()  </span><br><span class="line">  </span><br><span class="line">  &gt; <span class="selector-pseudo">:last-child</span>  </span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span> <span class="meta">!important</span>  </span><br><span class="line">  </span><br><span class="line"><span class="selector-id">#post</span>  </span><br><span class="line">  <span class="selector-class">.tag_share</span>  </span><br><span class="line">    <span class="selector-class">.post-meta</span>  </span><br><span class="line">      &amp;__tag-list  </span><br><span class="line">        <span class="attribute">display</span>: inline-block  </span><br><span class="line">  </span><br><span class="line">      &amp;__tags  </span><br><span class="line">        <span class="attribute">display</span>: inline-block  </span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span>  </span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">12px</span>  </span><br><span class="line">        <span class="attribute">width</span>: fit-content  </span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$light</span>-blue  </span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">12px</span>  </span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue  </span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span>  </span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out  </span><br><span class="line">  </span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">          <span class="attribute">background</span>: <span class="variable">$light</span>-blue  </span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--white)  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-class">.post_share</span>  </span><br><span class="line">      <span class="attribute">display</span>: inline-block  </span><br><span class="line">      <span class="attribute">float</span>: right  </span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span>  </span><br><span class="line">      <span class="attribute">width</span>: fit-content  </span><br><span class="line">  </span><br><span class="line">      <span class="selector-class">.social-share</span>  </span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span>  </span><br><span class="line">  </span><br><span class="line">        <span class="selector-class">.social-share-icon</span>  </span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span>  </span><br><span class="line">          <span class="attribute">width</span>: w = <span class="number">1.85em</span>  </span><br><span class="line">          <span class="attribute">height</span>: w  </span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.2em</span>  </span><br><span class="line">          <span class="attribute">line-height</span>: w  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-class">.post-copyright</span>  </span><br><span class="line">    <span class="attribute">position</span>: relative  </span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">10px</span>  </span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">16px</span>  </span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--light-grey)  </span><br><span class="line">    <span class="attribute">transition</span>: box-shadow .<span class="number">3s</span> ease-in-out  </span><br><span class="line">    <span class="attribute">overflow</span>: hidden  </span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span><span class="meta">!important</span>  </span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, <span class="number">#f6d8f5</span>, <span class="number">#c2f1f0</span>, <span class="number">#f0debf</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span>  </span><br><span class="line">      <span class="attribute">background</span> <span class="built_in">var</span>(--heo-post-blockquote-bg)  </span><br><span class="line">      <span class="attribute">position</span> absolute  </span><br><span class="line">      <span class="attribute">right</span> -<span class="number">26px</span>  </span><br><span class="line">      <span class="attribute">top</span> -<span class="number">120px</span>  </span><br><span class="line">      <span class="attribute">content</span> <span class="string">&#x27;\f25e&#x27;</span>  </span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">200px</span>  </span><br><span class="line">      <span class="attribute">font-family</span> <span class="string">&#x27;Font Awesome 5 Brands&#x27;</span>  </span><br><span class="line">      <span class="attribute">opacity</span> .<span class="number">2</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">6</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">5</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="selector-class">.post-copyright</span>  </span><br><span class="line">      &amp;-meta  </span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue  </span><br><span class="line">        <span class="attribute">font-weight</span>: bold  </span><br><span class="line">  </span><br><span class="line">      &amp;-info  </span><br><span class="line">        <span class="attribute">padding-left</span>: <span class="number">6px</span>  </span><br><span class="line">  </span><br><span class="line">        <span class="selector-tag">a</span>  </span><br><span class="line">          <span class="attribute">text-decoration</span>: none  </span><br><span class="line">          <span class="attribute">word-break</span>: break-word  </span><br><span class="line">  </span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">            <span class="attribute">text-decoration</span>: none  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-class">.post-copyright-cc-info</span>  </span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-color;  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-class">.post-outdate-notice</span>  </span><br><span class="line">    <span class="attribute">position</span>: relative  </span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span>  </span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1.2em</span>  </span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>  </span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$noticeOutdate</span>-bg  </span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-color  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;noticeOutdate.style&#x27;</span>) == <span class="string">&#x27;flat&#x27;</span>  </span><br><span class="line">      <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">2.6em</span>  </span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="variable">$noticeOutdate</span>-border  </span><br><span class="line">  </span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span>  </span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span>  </span><br><span class="line">        <span class="attribute">position</span>: absolute  </span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span>  </span><br><span class="line">        <span class="attribute">left</span>: .<span class="number">9em</span>  </span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-border  </span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f071&#x27;</span>  </span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>)  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-class">.ads-wrap</span>  </span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span>  </span><br><span class="line"><span class="selector-class">.post-copyright-m-info</span>  </span><br><span class="line">  <span class="selector-class">.post-copyright-a</span>,  </span><br><span class="line">  <span class="selector-class">.post-copyright-c</span>,  </span><br><span class="line">  <span class="selector-class">.post-copyright-u</span>  </span><br><span class="line">    <span class="attribute">display</span> inline-block  </span><br><span class="line">    <span class="attribute">width</span> fit-content  </span><br><span class="line">    <span class="attribute">padding</span> <span class="number">2px</span> <span class="number">5px</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span>  </span><br><span class="line">  <span class="selector-id">#post</span>  </span><br><span class="line">    <span class="selector-class">.post-copyright</span>  </span><br><span class="line">      <span class="attribute">background</span> <span class="number">#07080a</span>  </span><br><span class="line">      <span class="attribute">text-shadow</span> <span class="number">#bfbeb8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span>  </span><br><span class="line">      <span class="attribute">border</span> <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">19</span> <span class="number">18</span> <span class="number">18</span> / <span class="number">35%</span>)  </span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">var</span>(--theme-color)  </span><br><span class="line">      <span class="attribute">animation</span> flashlight <span class="number">1s</span> linear infinite alternate  </span><br><span class="line">  <span class="selector-class">.post-copyright-info</span>  </span><br><span class="line">    <span class="attribute">color</span> <span class="number">#e0e0e4</span>  </span><br><span class="line">  </span><br><span class="line"><span class="selector-id">#post</span>  </span><br><span class="line">  <span class="selector-class">.post-copyright__title</span>  </span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">22px</span>  </span><br><span class="line">  <span class="selector-class">.post-copyright__notice</span>  </span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">15px</span>  </span><br><span class="line">  <span class="selector-class">.post-copyright</span>  </span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="音乐播放器aplayer"><a href="#音乐播放器aplayer" class="headerlink" title="音乐播放器aplayer"></a>音乐播放器aplayer</h2><p>这里虽然有插件，但是插件太久没更新，兼容性很差，不方便后续调整 </p><ol><li>指定js和css地址<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在_config.butterfly.yml的option配置</span></span><br><span class="line"><span class="attr">option:</span></span><br><span class="line"><span class="attr">aplayer_js:</span> <span class="string">https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js</span></span><br><span class="line">    <span class="attr">artalk_css:</span> <span class="string">https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css</span></span><br><span class="line">    <span class="attr">meting_js:</span> <span class="string">https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js&gt;</span></span><br><span class="line"><span class="comment"># 虽然有更新版本的meting，但是与aplayer不兼容</span></span><br></pre></td></tr></table></figure></li><li>配置aplayer注入<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在_config.butterfly.yml里配置</span></span><br><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line"><span class="attr">bottom:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;9512979254&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-mini=&quot;true&quot;</span> <span class="string">data-autoplay=&quot;false&quot;&gt;</span> <span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># data-id为网易云歌单的id，网页端打开歌单，使用F12搜索data-matcher即可得到</span></span><br><span class="line"><span class="comment"># data-type等配置详细可见aplayer的docs（年久失修，懒得调了）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在_config.yml里添加</span></span><br><span class="line"><span class="comment"># aplayer</span></span><br><span class="line"><span class="comment"># https://butterfly.js.org/posts/507c070f/#%E5%89%8D%E8%A8%80</span></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li>pjax配置<br>butterfly主题自带pjax，可以提供网页部分刷新的服务，即切换网页不重载播放器<br>但是这个功能bug多还不一定生效，后续再填坑了</li></ol><h2 id="顶部渐变条色加载条"><a href="#顶部渐变条色加载条" class="headerlink" title="顶部渐变条色加载条"></a>顶部渐变条色加载条</h2><ol><li>新建<code>[BlogRoot]\source\css\progress_bar.css</code>文件，写入以下内容<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pace</span> &#123;  </span><br><span class="line">    -webkit-<span class="attribute">pointer-events</span>: none;  </span><br><span class="line">    <span class="attribute">pointer-events</span>: none;  </span><br><span class="line">    -webkit-user-select: none;  </span><br><span class="line">    -moz-user-select: none;  </span><br><span class="line">    user-select: none;  </span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2000</span>;  </span><br><span class="line">    <span class="attribute">position</span>: fixed;  </span><br><span class="line">    <span class="attribute">margin</span>: auto;  </span><br><span class="line">    <span class="attribute">top</span>: <span class="number">4px</span>;  </span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;  </span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;  </span><br><span class="line">    <span class="attribute">height</span>: <span class="number">8px</span>;  </span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;  </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">7rem</span>;  </span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eaecf2</span>;  </span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#e3e8f7</span>;  </span><br><span class="line">    <span class="attribute">overflow</span>: hidden  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.pace-inactive</span> <span class="selector-class">.pace-progress</span> &#123;  </span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;  </span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span> ease-in  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;  </span><br><span class="line">    -webkit-<span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">    -moz-<span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">    -ms-<span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">    -o-<span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">    -moz-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">    -ms-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">    -o-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">200px</span>;  </span><br><span class="line">    <span class="attribute">position</span>: absolute;  </span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2000</span>;  </span><br><span class="line">    <span class="attribute">display</span>: block;  </span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;  </span><br><span class="line">    <span class="attribute">right</span>: <span class="number">100%</span>;  </span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;  </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;  </span><br><span class="line">    <span class="comment">/* linear-gradient(to right, #3494e6, #ec6ead) */</span>  </span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to right, <span class="number">#43cea2</span>, <span class="number">#3866ca</span>);  </span><br><span class="line">    <span class="attribute">animation</span>: gradient <span class="number">2s</span> ease infinite;  </span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">200%</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.pace</span><span class="selector-class">.pace-inactive</span> &#123;  </span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;  </span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span>;  </span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">8px</span>  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项配置注入<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">head:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/progress_bar.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span>   </span><br><span class="line">  <span class="attr">bottom:</span>   </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//npm.elemecdn.com/pace-js@1.2.4/pace.min.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="Bilibili嵌入式视频"><a href="#Bilibili嵌入式视频" class="headerlink" title="Bilibili嵌入式视频"></a>Bilibili嵌入式视频</h2><ol><li>在<code>[BlogRoot]\source\css\custom.css</code>自定义样式的文件中引入如下代码<br>可以随意调整参数<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*哔哩哔哩视频适配*/</span>  </span><br><span class="line"><span class="selector-class">.aspect-ratio</span> &#123;  </span><br><span class="line">  <span class="attribute">position</span>: relative;  </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;  </span><br><span class="line">  <span class="attribute">height</span>: auto;  </span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">75%</span>;  </span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">3%</span> auto;  </span><br><span class="line">  <span class="attribute">text-align</span>: center;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.aspect-ratio</span> <span class="selector-tag">iframe</span> &#123;  </span><br><span class="line">  <span class="attribute">position</span>: absolute;  </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;  </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">86%</span>;  </span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>使用嵌入模板<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">center</span> <span class="attr">class</span>=<span class="string">&quot;aspect-ratio&quot;</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;https://player.bilibili.com/player.html?aid=474023258&amp;&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=0&quot;</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">border</span>=<span class="string">&quot;0&quot;</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">high_quality</span>=<span class="string">1</span>  </span></span><br><span class="line"><span class="tag">    <span class="attr">danmaku</span>=<span class="string">1</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span>&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>到Bilibili获取嵌入式参数<br>现在已登录的b站已经无法获取嵌入式代码了，所以可以开一个无痕窗口来获取<br><img src="https://picbed.godke.blog/img/20240324204647.png" alt="image.png"><br>在分享选项中有一个嵌入代码选项，点击就能获取到一条代码<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?aid=1302115271&amp;bvid=BV1gu4m1T7Uz&amp;cid=1479032623&amp;p=1&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>把中间的链接拿去替换模板的参数即可，或者也可以直接替换整个iframe</li></ol><h2 id="挂绳"><a href="#挂绳" class="headerlink" title="挂绳"></a>挂绳</h2><ol><li><p>在<code>[BlogRoot]/node_modules/hexo-theme-butterfly/layout/includes/head.pug</code>最后一行加入如下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#myscoll</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]/node_modules/hexo-theme-butterfly/source/js</code>文件夹下新建一个<code>cat.js</code>，将以下代码复制到文件中<br>可以选择在js里进行自定义，也可以直接修改源码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span> &gt; <span class="number">992</span>) &#123;  </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getBasicInfo</span>(<span class="params"></span>) &#123;  </span><br><span class="line">        <span class="comment">/* 窗口高度 */</span>  </span><br><span class="line">        <span class="keyword">var</span> <span class="title class_">ViewH</span> = $(<span class="variable language_">window</span>).<span class="title function_">height</span>();  </span><br><span class="line">        <span class="comment">/* document高度 */</span>  </span><br><span class="line">        <span class="keyword">var</span> <span class="title class_">DocH</span> = $(<span class="string">&quot;body&quot;</span>)[<span class="number">0</span>].<span class="property">scrollHeight</span>;  </span><br><span class="line">        <span class="comment">/* 滚动的高度 */</span>  </span><br><span class="line">        <span class="keyword">var</span> <span class="title class_">ScrollTop</span> = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();  </span><br><span class="line">        <span class="comment">/* 可滚动的高度 */</span>  </span><br><span class="line">        <span class="keyword">var</span> <span class="variable constant_">S_V</span> = <span class="title class_">DocH</span> - <span class="title class_">ViewH</span>;  </span><br><span class="line">        <span class="keyword">var</span> <span class="title class_">Band</span>_H = <span class="title class_">ScrollTop</span> / (<span class="title class_">DocH</span> - <span class="title class_">ViewH</span>) * <span class="number">100</span>;  </span><br><span class="line">        <span class="keyword">return</span> &#123;  </span><br><span class="line">            <span class="title class_">ViewH</span>: <span class="title class_">ViewH</span>,  </span><br><span class="line">            <span class="title class_">DocH</span>: <span class="title class_">DocH</span>,  </span><br><span class="line">            <span class="title class_">ScrollTop</span>: <span class="title class_">ScrollTop</span>,  </span><br><span class="line">            <span class="title class_">Band</span><span class="attr">_H</span>: <span class="title class_">Band</span>_H,  </span><br><span class="line">            <span class="attr">S_V</span>: <span class="variable constant_">S_V</span>  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;;  </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">basicInfo</span>) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (basicInfo.<span class="property">ScrollTop</span> &gt; <span class="number">0.001</span>) &#123;  </span><br><span class="line">            $(<span class="string">&quot;.neko&quot;</span>).<span class="title function_">css</span>(<span class="string">&#x27;display&#x27;</span>, <span class="string">&#x27;block&#x27;</span>);  </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">            $(<span class="string">&quot;.neko&quot;</span>).<span class="title function_">css</span>(<span class="string">&#x27;display&#x27;</span>, <span class="string">&#x27;none&#x27;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    (<span class="keyword">function</span> (<span class="params">$</span>) &#123;  </span><br><span class="line">        $.fn.<span class="property">nekoScroll</span> = <span class="keyword">function</span> (<span class="params">option</span>) &#123;  </span><br><span class="line">            <span class="keyword">var</span> defaultSetting = &#123;  </span><br><span class="line">                <span class="attr">top</span>: <span class="string">&#x27;0&#x27;</span>,  </span><br><span class="line">                <span class="attr">scroWidth</span>: <span class="number">6</span> + <span class="string">&#x27;px&#x27;</span>,  </span><br><span class="line">                <span class="attr">z_index</span>: <span class="number">9999</span>,  </span><br><span class="line">                <span class="attr">zoom</span>: <span class="number">0.9</span>,  </span><br><span class="line">                <span class="attr">borderRadius</span>: <span class="number">5</span> + <span class="string">&#x27;px&#x27;</span>,  </span><br><span class="line">                <span class="attr">right</span>: <span class="number">60</span> + <span class="string">&#x27;px&#x27;</span>,  </span><br><span class="line">                <span class="comment">// 这里可以换为你喜欢的图片，但是要抠图  </span></span><br><span class="line">                <span class="attr">nekoImg</span>: <span class="string">&quot;https://bu.dusays.com/2022/07/20/62d812db74be9.png&quot;</span>,  </span><br><span class="line">                <span class="attr">hoverMsg</span>: <span class="string">&quot;喵喵喵~&quot;</span>,  <span class="comment">//鼠标放上去的信息显示</span></span><br><span class="line">                <span class="attr">color</span>: <span class="string">&quot;#6f42c1&quot;</span>,  </span><br><span class="line">                <span class="attr">during</span>: <span class="number">500</span>,  </span><br><span class="line">                <span class="attr">blog_body</span>: <span class="string">&quot;body&quot;</span>,  </span><br><span class="line">            &#125;;  </span><br><span class="line">            <span class="keyword">var</span> setting = $.<span class="title function_">extend</span>(defaultSetting, option);  </span><br><span class="line">            <span class="keyword">var</span> getThis = <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;className&quot;</span>) !== <span class="string">&quot;&quot;</span> ? <span class="string">&quot;.&quot;</span> + <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;className&quot;</span>) : <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;id&quot;</span>) !== <span class="string">&quot;&quot;</span> ? <span class="string">&quot;#&quot;</span> +  </span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;id&quot;</span>) : <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;nodeName&quot;</span>);  </span><br><span class="line">            <span class="keyword">if</span> ($(<span class="string">&quot;.neko&quot;</span>).<span class="property">length</span> == <span class="number">0</span>) &#123;  </span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">after</span>(<span class="string">&quot;&lt;div class=\&quot;neko\&quot; id=&quot;</span> + setting.<span class="property">nekoname</span> + <span class="string">&quot; data-msg=\&quot;&quot;</span> + setting.<span class="property">hoverMsg</span> + <span class="string">&quot;\&quot;&gt;&lt;/div&gt;&quot;</span>);  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="keyword">let</span> basicInfo = <span class="title function_">getBasicInfo</span>();  </span><br><span class="line">            $(getThis)  </span><br><span class="line">                .<span class="title function_">css</span>(&#123;  </span><br><span class="line">                    <span class="string">&#x27;position&#x27;</span>: <span class="string">&#x27;fixed&#x27;</span>,  </span><br><span class="line">                    <span class="string">&#x27;width&#x27;</span>: setting.<span class="property">scroWidth</span>,  </span><br><span class="line">                    <span class="string">&#x27;top&#x27;</span>: setting.<span class="property">top</span>,  </span><br><span class="line">                    <span class="string">&#x27;height&#x27;</span>: basicInfo.<span class="property">Band_H</span> * setting.<span class="property">zoom</span> * basicInfo.<span class="property">ViewH</span> * <span class="number">0.01</span> + <span class="string">&#x27;px&#x27;</span>,  </span><br><span class="line">                    <span class="string">&#x27;z-index&#x27;</span>: setting.<span class="property">z_index</span>,  </span><br><span class="line">                    <span class="string">&#x27;background-color&#x27;</span>: setting.<span class="property">bgcolor</span>,  </span><br><span class="line">                    <span class="string">&quot;border-radius&quot;</span>: setting.<span class="property">borderRadius</span>,  </span><br><span class="line">                    <span class="string">&#x27;right&#x27;</span>: setting.<span class="property">right</span>,  </span><br><span class="line">                    <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;url(&#x27;</span> + setting.<span class="property">scImg</span> + <span class="string">&#x27;)&#x27;</span>,  </span><br><span class="line">                    <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)&#x27;</span>, <span class="string">&#x27;border-radius&#x27;</span>: <span class="string">&#x27;2em&#x27;</span>,  </span><br><span class="line">                    <span class="string">&#x27;background-size&#x27;</span>: <span class="string">&#x27;contain&#x27;</span>  </span><br><span class="line">                &#125;);  </span><br><span class="line">            $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)  </span><br><span class="line">                .<span class="title function_">css</span>(&#123;  </span><br><span class="line">                    <span class="string">&#x27;position&#x27;</span>: <span class="string">&#x27;fixed&#x27;</span>,  </span><br><span class="line">                    <span class="string">&#x27;top&#x27;</span>: basicInfo.<span class="property">Band_H</span> * setting.<span class="property">zoom</span> * basicInfo.<span class="property">ViewH</span> * <span class="number">0.01</span> - <span class="number">50</span> + <span class="string">&#x27;px&#x27;</span>,  </span><br><span class="line">                    <span class="string">&#x27;z-index&#x27;</span>: setting.<span class="property">z_index</span> * <span class="number">10</span>,  </span><br><span class="line">                    <span class="string">&#x27;right&#x27;</span>: setting.<span class="property">right</span>,  </span><br><span class="line">                    <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;url(&#x27;</span> + setting.<span class="property">nekoImg</span> + <span class="string">&#x27;)&#x27;</span>,  </span><br><span class="line">                &#125;);  </span><br><span class="line">            <span class="title function_">show</span>(<span class="title function_">getBasicInfo</span>());  </span><br><span class="line">            $(<span class="variable language_">window</span>)  </span><br><span class="line">                .<span class="title function_">scroll</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">                    <span class="keyword">let</span> basicInfo = <span class="title function_">getBasicInfo</span>();  </span><br><span class="line">                    <span class="title function_">show</span>(basicInfo);  </span><br><span class="line">                    $(getThis)  </span><br><span class="line">                        .<span class="title function_">css</span>(&#123;  </span><br><span class="line">                            <span class="string">&#x27;position&#x27;</span>: <span class="string">&#x27;fixed&#x27;</span>,  </span><br><span class="line">                            <span class="string">&#x27;width&#x27;</span>: setting.<span class="property">scroWidth</span>,  </span><br><span class="line">                            <span class="string">&#x27;top&#x27;</span>: setting.<span class="property">top</span>,  </span><br><span class="line">                            <span class="string">&#x27;height&#x27;</span>: basicInfo.<span class="property">Band_H</span> * setting.<span class="property">zoom</span> * basicInfo.<span class="property">ViewH</span> * <span class="number">0.01</span> + <span class="string">&#x27;px&#x27;</span>,  </span><br><span class="line">                            <span class="string">&#x27;z-index&#x27;</span>: setting.<span class="property">z_index</span>,  </span><br><span class="line">                            <span class="string">&#x27;background-color&#x27;</span>: setting.<span class="property">bgcolor</span>,  </span><br><span class="line">                            <span class="string">&quot;border-radius&quot;</span>: setting.<span class="property">borderRadius</span>,  </span><br><span class="line">                            <span class="string">&#x27;right&#x27;</span>: setting.<span class="property">right</span>,  </span><br><span class="line">                            <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;url(&#x27;</span> + setting.<span class="property">scImg</span> + <span class="string">&#x27;)&#x27;</span>,  </span><br><span class="line">                            <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)&#x27;</span>, <span class="string">&#x27;border-radius&#x27;</span>: <span class="string">&#x27;2em&#x27;</span>,  </span><br><span class="line">                            <span class="string">&#x27;background-size&#x27;</span>: <span class="string">&#x27;contain&#x27;</span>  </span><br><span class="line">                        &#125;);  </span><br><span class="line">                    $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)  </span><br><span class="line">                        .<span class="title function_">css</span>(&#123;  </span><br><span class="line">                            <span class="string">&#x27;position&#x27;</span>: <span class="string">&#x27;fixed&#x27;</span>,  </span><br><span class="line">                            <span class="string">&#x27;top&#x27;</span>: basicInfo.<span class="property">Band_H</span> * setting.<span class="property">zoom</span> * basicInfo.<span class="property">ViewH</span> * <span class="number">0.01</span> - <span class="number">50</span> + <span class="string">&#x27;px&#x27;</span>,  </span><br><span class="line">                            <span class="string">&#x27;z-index&#x27;</span>: setting.<span class="property">z_index</span> * <span class="number">10</span>,  </span><br><span class="line">                            <span class="string">&#x27;right&#x27;</span>: setting.<span class="property">right</span>,  </span><br><span class="line">                            <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;url(&#x27;</span> + setting.<span class="property">nekoImg</span> + <span class="string">&#x27;)&#x27;</span>,  </span><br><span class="line">                        &#125;);  </span><br><span class="line">                    <span class="keyword">if</span> (basicInfo.<span class="property">ScrollTop</span> == basicInfo.<span class="property">S_V</span>) &#123;  </span><br><span class="line">                        $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)  </span><br><span class="line">                            .<span class="title function_">addClass</span>(<span class="string">&quot;showMsg&quot;</span>)  </span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                        $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)  </span><br><span class="line">                            .<span class="title function_">removeClass</span>(<span class="string">&quot;showMsg&quot;</span>);  </span><br><span class="line">                        $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)  </span><br><span class="line">                            .<span class="title function_">attr</span>(<span class="string">&quot;data-msg&quot;</span>, setting.<span class="property">hoverMsg</span>);  </span><br><span class="line">                    &#125;  </span><br><span class="line">                &#125;);  </span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;  </span><br><span class="line">                btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>)  </span><br><span class="line">            &#125;);  </span><br><span class="line">            $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)  </span><br><span class="line">                .<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">                    btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>)  </span><br><span class="line">                &#125;);  </span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;)(jQuery);  </span><br><span class="line">  </span><br><span class="line">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">        <span class="comment">//部分自定义  </span></span><br><span class="line">        $(<span class="string">&quot;#myscoll&quot;</span>).<span class="title function_">nekoScroll</span>(&#123;  </span><br><span class="line">            <span class="attr">bgcolor</span>: <span class="string">&#x27;rgb(0 0 0 / .5)&#x27;</span>, <span class="comment">//背景颜色，没有绳子背景图片时有效  </span></span><br><span class="line">            <span class="attr">borderRadius</span>: <span class="string">&#x27;2em&#x27;</span>,  </span><br><span class="line">            <span class="attr">zoom</span>: <span class="number">0.9</span>  </span><br><span class="line">        &#125;  </span><br><span class="line">        );  </span><br><span class="line">        <span class="comment">//自定义（去掉以下注释，并注释掉其他的查看效果）  </span></span><br><span class="line">        <span class="comment">/*  </span></span><br><span class="line"><span class="comment">        $(&quot;#myscoll&quot;).nekoScroll(&#123;  </span></span><br><span class="line"><span class="comment">            nekoname:&#x27;neko1&#x27;, //nekoname，相当于id  </span></span><br><span class="line"><span class="comment">            nekoImg:&#x27;img/猫咪.png&#x27;, //neko的背景图片  </span></span><br><span class="line"><span class="comment">            scImg:&quot;img/绳1.png&quot;, //绳子的背景图片  </span></span><br><span class="line"><span class="comment">            bgcolor:&#x27;#1e90ff&#x27;, //背景颜色，没有绳子背景图片时有效  </span></span><br><span class="line"><span class="comment">            zoom:0.9, //绳子长度的缩放值  </span></span><br><span class="line"><span class="comment">            hoverMsg:&#x27;你好~喵&#x27;, //鼠标浮动到neko上方的对话框信息  </span></span><br><span class="line"><span class="comment">            right:&#x27;100px&#x27;, //距离页面右边的距离  </span></span><br><span class="line"><span class="comment">            fontFamily:&#x27;楷体&#x27;, //对话框字体  </span></span><br><span class="line"><span class="comment">            fontSize:&#x27;14px&#x27;, //对话框字体的大小  </span></span><br><span class="line"><span class="comment">            color:&#x27;#1e90ff&#x27;, //对话框字体颜色  </span></span><br><span class="line"><span class="comment">            scroWidth:&#x27;8px&#x27;, //绳子的宽度  </span></span><br><span class="line"><span class="comment">            z_index:100, //在页面上的层数</span></span><br><span class="line"><span class="comment">            during:1200, //从顶部到底部滑动的时长  </span></span><br><span class="line"><span class="comment">        &#125;);  </span></span><br><span class="line"><span class="comment">        */</span>  </span><br><span class="line">    &#125;)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]/node_modules/hexo-theme-butterfly/source/css</code>文件夹下新建一个<code>cat.css</code>，将以下代码复制到文件中<br>本人直接修改了源码，可以在css里自由调整显示的东西和位置</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"><span class="selector-tag">body</span>::-webkit-scrollbar &#123;  </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.neko</span> &#123;  </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">64px</span>;  </span><br><span class="line">    <span class="attribute">height</span>: <span class="number">64px</span>;  </span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;https://bu.dusays.com/2022/07/20/62d812db74be9.png&quot;</span>);  //猫猫图</span><br><span class="line">    <span class="attribute">position</span>: absolute;  </span><br><span class="line">    <span class="attribute">right</span>: <span class="number">32px</span>;  </span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;  </span><br><span class="line">    <span class="attribute">background-size</span>: contain;  </span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">50%</span>);  </span><br><span class="line">    <span class="attribute">cursor</span>: pointer;  </span><br><span class="line">    <span class="attribute">font-family</span>: tzy;  </span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;  </span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;  </span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#6f42c1</span>;  </span><br><span class="line">    <span class="attribute">display</span>: none;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.neko</span><span class="selector-pseudo">::after</span> &#123;  </span><br><span class="line">    <span class="attribute">display</span>: none;  </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;  </span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;  </span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;https://bu.dusays.com/2022/07/20/62d812d95e6f5.png&quot;</span>);  //触碰后显示</span><br><span class="line">    <span class="attribute">background-size</span>: contain;  </span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">9999</span>;  </span><br><span class="line">    <span class="attribute">position</span>: absolute;  </span><br><span class="line">    <span class="attribute">right</span>: <span class="number">50%</span>;  </span><br><span class="line">    <span class="attribute">text-align</span>: center;  </span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">100px</span>;  </span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">115%</span>;  </span><br><span class="line">  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.neko</span><span class="selector-class">.showMsg</span><span class="selector-pseudo">::after</span> &#123;  </span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-msg);  </span><br><span class="line">    <span class="attribute">display</span>: block;  </span><br><span class="line">    <span class="attribute">overflow</span>: hidden;  </span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.neko</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span> &#123;  </span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-msg);  </span><br><span class="line">    <span class="attribute">display</span>: block;  </span><br><span class="line">    <span class="attribute">overflow</span>: hidden;  </span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.neko</span><span class="selector-class">.fontColor</span><span class="selector-pseudo">::after</span> &#123;  </span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * @description: 滚动条样式  跟猫二选一  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">992px</span>) &#123;  </span><br><span class="line">    ::-webkit-scrollbar &#123;  </span><br><span class="line">        <span class="attribute">width</span>: <span class="number">8px</span> <span class="meta">!important</span>;  </span><br><span class="line">        <span class="attribute">height</span>: <span class="number">8px</span> <span class="meta">!important</span>  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    ::-webkit-scrollbar-track &#123;  </span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">2em</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    ::-webkit-scrollbar-thumb &#123;  </span><br><span class="line">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span> <span class="number">255</span> <span class="number">255</span> / .<span class="number">3</span>);  </span><br><span class="line">        <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.1</span>) <span class="number">25%</span>, transparent <span class="number">25%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.1</span>) <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.1</span>) <span class="number">75%</span>, transparent <span class="number">75%</span>, transparent);  </span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">2em</span>  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    ::-webkit-scrollbar-corner &#123;  </span><br><span class="line">        <span class="attribute">background-color</span>: transparent  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>中引入<code>cat.js</code>和<code>cat.css</code>，当然还有在bottom的最前面引入<code>jQuery</code>，因为<code>cat.js</code>的语法依赖<code>jQuery</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">head:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/cat.css&quot;&gt;</span>  </span><br><span class="line">  <span class="attr">bottom:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">src=&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/cat.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="右边按钮阅读进度"><a href="#右边按钮阅读进度" class="headerlink" title="右边按钮阅读进度"></a>右边按钮阅读进度</h2><ol><li><p>修改文件<code>[BlogRoot]\themes\butterfly\layout\includes\rightside.pug</code>，在最下面插入如下两行代码</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">button#go-up(type=&quot;button&quot; title=_p(&quot;rightside.back_to_top&quot;))  </span><br><span class="line">  i.fas.fa-arrow-up  </span><br><span class="line"><span class="addition">+  span#percent 0  </span></span><br><span class="line"><span class="addition">+    span %</span></span><br></pre></td></tr></table></figure></li><li><p>新建文件<code>[BlogRoot]\source\js\readPercent.js</code>，在自定义js文件中加入如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = percent;<span class="comment">// 执行函数  </span></span><br><span class="line"><span class="comment">// 页面百分比  </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">percent</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="keyword">let</span> a = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">window</span>.<span class="property">pageYOffset</span>, <span class="comment">// 卷去高度  </span></span><br><span class="line">        b = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>, <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollHeight</span>, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">offsetHeight</span>, <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">offsetHeight</span>, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span>, <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>) - <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>, <span class="comment">// 整个网页高度  </span></span><br><span class="line">        result = <span class="title class_">Math</span>.<span class="title function_">round</span>(a / b * <span class="number">100</span>), <span class="comment">// 计算百分比  </span></span><br><span class="line">        up = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#go-up&quot;</span>) <span class="comment">// 获取按钮  </span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (result &lt;= <span class="number">95</span>) &#123;  </span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>  </span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">1</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>  </span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">1</span>].<span class="property">innerHTML</span> = result;  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">1</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>  </span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>创建css文件<code>[BlogRoot]\source\css\readPercent.css</code>写入如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 返回顶部 */</span>  </span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">button</span><span class="selector-id">#go-up</span> <span class="selector-id">#percent</span> &#123;  </span><br><span class="line">    <span class="attribute">display</span>: none;  </span><br><span class="line">    <span class="attribute">font-weight</span>: bold;  </span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span> <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">button</span><span class="selector-id">#go-up</span> <span class="selector-tag">span</span> &#123;  </span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span><span class="meta">!important</span>;  </span><br><span class="line">    <span class="attribute">margin-right</span>: -<span class="number">1px</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* 鼠标滑动到按钮上时显示返回顶部图标 */</span>  </span><br><span class="line"><span class="selector-tag">button</span><span class="selector-id">#go-up</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">i</span> &#123;  </span><br><span class="line">    <span class="attribute">display</span>: block <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">button</span><span class="selector-id">#go-up</span><span class="selector-pseudo">:hover</span> <span class="selector-id">#percent</span> &#123;  </span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>引入js文件与css文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">head:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/readPercent.css&quot;&gt;</span>  </span><br><span class="line">  <span class="attr">bottom:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/readPercent.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="引入vue和Element"><a href="#引入vue和Element" class="headerlink" title="引入vue和Element"></a>引入vue和Element</h2><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>中 引入<code>Vue</code>和<code>Element</code>相关依赖：<br>为后续部分操作提供依赖</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">head:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css&quot;&gt;</span> <span class="comment"># 引入组件库(f12)  </span></span><br><span class="line">  <span class="attr">bottom:</span>      </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 引入VUE(f12)  </span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 引入ElementUI(f12)</span></span><br></pre></td></tr></table></figure><h2 id="直达底部按钮"><a href="#直达底部按钮" class="headerlink" title="直达底部按钮"></a>直达底部按钮</h2><ol><li>在<code>\butterfly\layout\includes\rightside.pug</code>做以下修改:<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">button#go-up(type=&quot;button&quot; title=_p(&quot;rightside.back_to_top&quot;))  </span><br><span class="line">  i.fas.fa-arrow-up  </span><br><span class="line">  </span><br><span class="line"><span class="addition">+button#go-down(type=&quot;button&quot; title=&quot;直达底部&quot; onclick=&quot;btf.scrollToDest(document.body.scrollHeight, 500)&quot;)  </span></span><br><span class="line"><span class="addition">+  i.fas.fa-arrow-down</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="统计图表页"><a href="#统计图表页" class="headerlink" title="统计图表页"></a>统计图表页</h2><p>还可以把统计图表部署到各个页面，见<a href="https://blog.eurkon.com/post/1213ef82.html">Hexo 博客文章统计图 | Eurkon</a></p><ol><li><p>新建 charts 页面</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page charts</span><br></pre></td></tr></table></figure></li><li><p>引入 ECharts.js<br>在 <code>[Blogroot]\_config.butterfly.yml</code> 的 <code>inject</code> 配置项中引入 <code>echart.js</code> 文件(全局引入)</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">head:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>在 <code>\butterfly\scripts\helpers\</code> 目录下新建 <code>charts.js</code> 文件，然后添加以下内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cheerio = <span class="built_in">require</span>(<span class="string">&#x27;cheerio&#x27;</span>)  </span><br><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>)  </span><br><span class="line">  </span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;after_render:html&#x27;</span>, <span class="keyword">function</span> (<span class="params">locals</span>) &#123;  </span><br><span class="line">  <span class="keyword">const</span> $ = cheerio.<span class="title function_">load</span>(locals)  </span><br><span class="line">  <span class="keyword">const</span> post = $(<span class="string">&#x27;#posts-chart&#x27;</span>)  </span><br><span class="line">  <span class="keyword">const</span> tag = $(<span class="string">&#x27;#tags-chart&#x27;</span>)  </span><br><span class="line">  <span class="keyword">const</span> category = $(<span class="string">&#x27;#categories-chart&#x27;</span>)  </span><br><span class="line">  <span class="keyword">const</span> htmlEncode = <span class="literal">false</span>  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (post.<span class="property">length</span> &gt; <span class="number">0</span> || tag.<span class="property">length</span> &gt; <span class="number">0</span> || category.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;  </span><br><span class="line">    <span class="keyword">if</span> (post.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; $(<span class="string">&#x27;#postsChart&#x27;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;  </span><br><span class="line">      <span class="keyword">if</span> (post.<span class="title function_">attr</span>(<span class="string">&#x27;data-encode&#x27;</span>) === <span class="string">&#x27;true&#x27;</span>) htmlEncode = <span class="literal">true</span>  </span><br><span class="line">      post.<span class="title function_">after</span>(<span class="title function_">postsChart</span>(post.<span class="title function_">attr</span>(<span class="string">&#x27;data-start&#x27;</span>)))  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (tag.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; $(<span class="string">&#x27;#tagsChart&#x27;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;  </span><br><span class="line">      <span class="keyword">if</span> (tag.<span class="title function_">attr</span>(<span class="string">&#x27;data-encode&#x27;</span>) === <span class="string">&#x27;true&#x27;</span>) htmlEncode = <span class="literal">true</span>  </span><br><span class="line">      tag.<span class="title function_">after</span>(<span class="title function_">tagsChart</span>(tag.<span class="title function_">attr</span>(<span class="string">&#x27;data-length&#x27;</span>)))  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (category.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; $(<span class="string">&#x27;#categoriesChart&#x27;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;  </span><br><span class="line">      <span class="keyword">if</span> (category.<span class="title function_">attr</span>(<span class="string">&#x27;data-encode&#x27;</span>) === <span class="string">&#x27;true&#x27;</span>) htmlEncode = <span class="literal">true</span>  </span><br><span class="line">      category.<span class="title function_">after</span>(<span class="title function_">categoriesChart</span>(category.<span class="title function_">attr</span>(<span class="string">&#x27;data-parent&#x27;</span>)))  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (htmlEncode) &#123;  </span><br><span class="line">      <span class="keyword">return</span> $.<span class="title function_">root</span>().<span class="title function_">html</span>().<span class="title function_">replace</span>(<span class="regexp">/&amp;amp;#/g</span>, <span class="string">&#x27;&amp;#&#x27;</span>)  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">      <span class="keyword">return</span> $.<span class="title function_">root</span>().<span class="title function_">html</span>()  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">    <span class="keyword">return</span> locals  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;, <span class="number">15</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">postsChart</span> (startMonth) &#123;  </span><br><span class="line">  <span class="keyword">const</span> startDate = <span class="title function_">moment</span>(startMonth || <span class="string">&#x27;2020-01&#x27;</span>)  </span><br><span class="line">  <span class="keyword">const</span> endDate = <span class="title function_">moment</span>()  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> monthMap = <span class="keyword">new</span> <span class="title class_">Map</span>()  </span><br><span class="line">  <span class="keyword">const</span> dayTime = <span class="number">3600</span> * <span class="number">24</span> * <span class="number">1000</span>  </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> time = startDate; time &lt;= endDate; time += dayTime) &#123;  </span><br><span class="line">    <span class="keyword">const</span> month = <span class="title function_">moment</span>(time).<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM&#x27;</span>)  </span><br><span class="line">    <span class="keyword">if</span> (!monthMap.<span class="title function_">has</span>(month)) &#123;  </span><br><span class="line">      monthMap.<span class="title function_">set</span>(month, <span class="number">0</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;  </span><br><span class="line">  hexo.<span class="property">locals</span>.<span class="title function_">get</span>(<span class="string">&#x27;posts&#x27;</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">post</span>) &#123;  </span><br><span class="line">    <span class="keyword">const</span> month = post.<span class="property">date</span>.<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM&#x27;</span>)  </span><br><span class="line">    <span class="keyword">if</span> (monthMap.<span class="title function_">has</span>(month)) &#123;  </span><br><span class="line">      monthMap.<span class="title function_">set</span>(month, monthMap.<span class="title function_">get</span>(month) + <span class="number">1</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;)  </span><br><span class="line">  <span class="keyword">const</span> monthArr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>([...monthMap.<span class="title function_">keys</span>()])  </span><br><span class="line">  <span class="keyword">const</span> monthValueArr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>([...monthMap.<span class="title function_">values</span>()])  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="string">`  </span></span><br><span class="line"><span class="string">  &lt;script id=&quot;postsChart&quot;&gt;  </span></span><br><span class="line"><span class="string">    var color = document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ? &#x27;#4c4948&#x27; : &#x27;rgba(255,255,255,0.7)&#x27;  </span></span><br><span class="line"><span class="string">    var postsChart = echarts.init(document.getElementById(&#x27;posts-chart&#x27;), &#x27;light&#x27;);  </span></span><br><span class="line"><span class="string">    var postsOption = &#123;  </span></span><br><span class="line"><span class="string">      title: &#123;  </span></span><br><span class="line"><span class="string">        text: &#x27;文章发布统计图&#x27;,  </span></span><br><span class="line"><span class="string">        x: &#x27;center&#x27;,  </span></span><br><span class="line"><span class="string">        textStyle: &#123;  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      tooltip: &#123;  </span></span><br><span class="line"><span class="string">        trigger: &#x27;axis&#x27;  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      xAxis: &#123;  </span></span><br><span class="line"><span class="string">        name: &#x27;日期&#x27;,  </span></span><br><span class="line"><span class="string">        type: &#x27;category&#x27;,  </span></span><br><span class="line"><span class="string">        boundaryGap: false,  </span></span><br><span class="line"><span class="string">        nameTextStyle: &#123;  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisTick: &#123;  </span></span><br><span class="line"><span class="string">          show: false  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisLabel: &#123;  </span></span><br><span class="line"><span class="string">          show: true,  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisLine: &#123;  </span></span><br><span class="line"><span class="string">          show: true,  </span></span><br><span class="line"><span class="string">          lineStyle: &#123;  </span></span><br><span class="line"><span class="string">            color: color  </span></span><br><span class="line"><span class="string">          &#125;  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;monthArr&#125;</span>  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      yAxis: &#123;  </span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,  </span></span><br><span class="line"><span class="string">        type: &#x27;value&#x27;,  </span></span><br><span class="line"><span class="string">        nameTextStyle: &#123;  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        splitLine: &#123;  </span></span><br><span class="line"><span class="string">          show: false  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisTick: &#123;  </span></span><br><span class="line"><span class="string">          show: false  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisLabel: &#123;  </span></span><br><span class="line"><span class="string">          show: true,  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisLine: &#123;  </span></span><br><span class="line"><span class="string">          show: true,  </span></span><br><span class="line"><span class="string">          lineStyle: &#123;  </span></span><br><span class="line"><span class="string">            color: color  </span></span><br><span class="line"><span class="string">          &#125;  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      series: [&#123;  </span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,  </span></span><br><span class="line"><span class="string">        type: &#x27;line&#x27;,  </span></span><br><span class="line"><span class="string">        smooth: true,  </span></span><br><span class="line"><span class="string">        lineStyle: &#123;  </span></span><br><span class="line"><span class="string">            width: 0  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        showSymbol: false,  </span></span><br><span class="line"><span class="string">        itemStyle: &#123;  </span></span><br><span class="line"><span class="string">          opacity: 1,  </span></span><br><span class="line"><span class="string">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;  </span></span><br><span class="line"><span class="string">            offset: 0,  </span></span><br><span class="line"><span class="string">            color: &#x27;rgba(128, 255, 165)&#x27;  </span></span><br><span class="line"><span class="string">          &#125;,  </span></span><br><span class="line"><span class="string">          &#123;  </span></span><br><span class="line"><span class="string">            offset: 1,  </span></span><br><span class="line"><span class="string">            color: &#x27;rgba(1, 191, 236)&#x27;  </span></span><br><span class="line"><span class="string">          &#125;])  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        areaStyle: &#123;  </span></span><br><span class="line"><span class="string">          opacity: 1,  </span></span><br><span class="line"><span class="string">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;  </span></span><br><span class="line"><span class="string">            offset: 0,  </span></span><br><span class="line"><span class="string">            color: &#x27;rgba(128, 255, 165)&#x27;  </span></span><br><span class="line"><span class="string">          &#125;, &#123;  </span></span><br><span class="line"><span class="string">            offset: 1,  </span></span><br><span class="line"><span class="string">            color: &#x27;rgba(1, 191, 236)&#x27;  </span></span><br><span class="line"><span class="string">          &#125;])  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;monthValueArr&#125;</span>,  </span></span><br><span class="line"><span class="string">        markLine: &#123;  </span></span><br><span class="line"><span class="string">          data: [&#123;  </span></span><br><span class="line"><span class="string">            name: &#x27;平均值&#x27;,  </span></span><br><span class="line"><span class="string">            type: &#x27;average&#x27;,  </span></span><br><span class="line"><span class="string">            label: &#123;  </span></span><br><span class="line"><span class="string">              color: color  </span></span><br><span class="line"><span class="string">            &#125;  </span></span><br><span class="line"><span class="string">          &#125;]  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;]  </span></span><br><span class="line"><span class="string">    &#125;;  </span></span><br><span class="line"><span class="string">    postsChart.setOption(postsOption);  </span></span><br><span class="line"><span class="string">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123;   </span></span><br><span class="line"><span class="string">      postsChart.resize();  </span></span><br><span class="line"><span class="string">    &#125;);  </span></span><br><span class="line"><span class="string">    postsChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;  </span></span><br><span class="line"><span class="string">      if (event.componentType === &#x27;series&#x27;) window.location.href = &#x27;/archives/&#x27; + event.name.replace(&#x27;-&#x27;, &#x27;/&#x27;);  </span></span><br><span class="line"><span class="string">    &#125;);  </span></span><br><span class="line"><span class="string">  &lt;/script&gt;`</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tagsChart</span> (len) &#123;  </span><br><span class="line">  <span class="keyword">const</span> tagArr = []  </span><br><span class="line">  hexo.<span class="property">locals</span>.<span class="title function_">get</span>(<span class="string">&#x27;tags&#x27;</span>).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">tag</span>) &#123;  </span><br><span class="line">    tagArr.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: tag.<span class="property">name</span>, <span class="attr">value</span>: tag.<span class="property">length</span>, <span class="attr">path</span>: tag.<span class="property">path</span> &#125;)  </span><br><span class="line">  &#125;)  </span><br><span class="line">  tagArr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">return</span> b.<span class="property">value</span> - a.<span class="property">value</span> &#125;)  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> dataLength = <span class="title class_">Math</span>.<span class="title function_">min</span>(tagArr.<span class="property">length</span>, len) || tagArr.<span class="property">length</span>  </span><br><span class="line">  <span class="keyword">const</span> tagNameArr = []  </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; dataLength; i++) &#123;  </span><br><span class="line">    tagNameArr.<span class="title function_">push</span>(tagArr[i].<span class="property">name</span>)  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="keyword">const</span> tagNameArrJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(tagNameArr)  </span><br><span class="line">  <span class="keyword">const</span> tagArrJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(tagArr)  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="string">`  </span></span><br><span class="line"><span class="string">  &lt;script id=&quot;tagsChart&quot;&gt;  </span></span><br><span class="line"><span class="string">    var color = document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ? &#x27;#4c4948&#x27; : &#x27;rgba(255,255,255,0.7)&#x27;  </span></span><br><span class="line"><span class="string">    var tagsChart = echarts.init(document.getElementById(&#x27;tags-chart&#x27;), &#x27;light&#x27;);  </span></span><br><span class="line"><span class="string">    var tagsOption = &#123;  </span></span><br><span class="line"><span class="string">      title: &#123;  </span></span><br><span class="line"><span class="string">        text: &#x27;Top <span class="subst">$&#123;dataLength&#125;</span> 标签统计图&#x27;,  </span></span><br><span class="line"><span class="string">        x: &#x27;center&#x27;,  </span></span><br><span class="line"><span class="string">        textStyle: &#123;  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      tooltip: &#123;&#125;,  </span></span><br><span class="line"><span class="string">      xAxis: &#123;  </span></span><br><span class="line"><span class="string">        name: &#x27;标签&#x27;,  </span></span><br><span class="line"><span class="string">        type: &#x27;category&#x27;,  </span></span><br><span class="line"><span class="string">        nameTextStyle: &#123;  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisTick: &#123;  </span></span><br><span class="line"><span class="string">          show: false  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisLabel: &#123;  </span></span><br><span class="line"><span class="string">          show: true,  </span></span><br><span class="line"><span class="string">          color: color,  </span></span><br><span class="line"><span class="string">          interval: 0  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisLine: &#123;  </span></span><br><span class="line"><span class="string">          show: true,  </span></span><br><span class="line"><span class="string">          lineStyle: &#123;  </span></span><br><span class="line"><span class="string">            color: color  </span></span><br><span class="line"><span class="string">          &#125;  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;tagNameArrJson&#125;</span>  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      yAxis: &#123;  </span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,  </span></span><br><span class="line"><span class="string">        type: &#x27;value&#x27;,  </span></span><br><span class="line"><span class="string">        splitLine: &#123;  </span></span><br><span class="line"><span class="string">          show: false  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        nameTextStyle: &#123;  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisTick: &#123;  </span></span><br><span class="line"><span class="string">          show: false  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisLabel: &#123;  </span></span><br><span class="line"><span class="string">          show: true,  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        axisLine: &#123;  </span></span><br><span class="line"><span class="string">          show: true,  </span></span><br><span class="line"><span class="string">          lineStyle: &#123;  </span></span><br><span class="line"><span class="string">            color: color  </span></span><br><span class="line"><span class="string">          &#125;  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      series: [&#123;  </span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,  </span></span><br><span class="line"><span class="string">        type: &#x27;bar&#x27;,  </span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;tagArrJson&#125;</span>,  </span></span><br><span class="line"><span class="string">        itemStyle: &#123;  </span></span><br><span class="line"><span class="string">          borderRadius: [5, 5, 0, 0],  </span></span><br><span class="line"><span class="string">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;  </span></span><br><span class="line"><span class="string">            offset: 0,  </span></span><br><span class="line"><span class="string">            color: &#x27;rgba(128, 255, 165)&#x27;  </span></span><br><span class="line"><span class="string">          &#125;,  </span></span><br><span class="line"><span class="string">          &#123;  </span></span><br><span class="line"><span class="string">            offset: 1,  </span></span><br><span class="line"><span class="string">            color: &#x27;rgba(1, 191, 236)&#x27;  </span></span><br><span class="line"><span class="string">          &#125;])  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        emphasis: &#123;  </span></span><br><span class="line"><span class="string">          itemStyle: &#123;  </span></span><br><span class="line"><span class="string">            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;  </span></span><br><span class="line"><span class="string">              offset: 0,  </span></span><br><span class="line"><span class="string">              color: &#x27;rgba(128, 255, 195)&#x27;  </span></span><br><span class="line"><span class="string">            &#125;,  </span></span><br><span class="line"><span class="string">            &#123;  </span></span><br><span class="line"><span class="string">              offset: 1,  </span></span><br><span class="line"><span class="string">              color: &#x27;rgba(1, 211, 255)&#x27;  </span></span><br><span class="line"><span class="string">            &#125;])  </span></span><br><span class="line"><span class="string">          &#125;  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        markLine: &#123;  </span></span><br><span class="line"><span class="string">          data: [&#123;  </span></span><br><span class="line"><span class="string">            name: &#x27;平均值&#x27;,  </span></span><br><span class="line"><span class="string">            type: &#x27;average&#x27;,  </span></span><br><span class="line"><span class="string">            label: &#123;  </span></span><br><span class="line"><span class="string">              color: color  </span></span><br><span class="line"><span class="string">            &#125;  </span></span><br><span class="line"><span class="string">          &#125;]  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;]  </span></span><br><span class="line"><span class="string">    &#125;;  </span></span><br><span class="line"><span class="string">    tagsChart.setOption(tagsOption);  </span></span><br><span class="line"><span class="string">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123;   </span></span><br><span class="line"><span class="string">      tagsChart.resize();  </span></span><br><span class="line"><span class="string">    &#125;);  </span></span><br><span class="line"><span class="string">    tagsChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;  </span></span><br><span class="line"><span class="string">      if(event.data.path) window.location.href = &#x27;/&#x27; + event.data.path;  </span></span><br><span class="line"><span class="string">    &#125;);  </span></span><br><span class="line"><span class="string">  &lt;/script&gt;`</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">categoriesChart</span> (dataParent) &#123;  </span><br><span class="line">  <span class="keyword">const</span> categoryArr = []  </span><br><span class="line">  <span class="keyword">let</span> categoryParentFlag = <span class="literal">false</span>  </span><br><span class="line">  hexo.<span class="property">locals</span>.<span class="title function_">get</span>(<span class="string">&#x27;categories&#x27;</span>).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">category</span>) &#123;  </span><br><span class="line">    <span class="keyword">if</span> (category.<span class="property">parent</span>) categoryParentFlag = <span class="literal">true</span>  </span><br><span class="line">    categoryArr.<span class="title function_">push</span>(&#123;  </span><br><span class="line">      <span class="attr">name</span>: category.<span class="property">name</span>,  </span><br><span class="line">      <span class="attr">value</span>: category.<span class="property">length</span>,  </span><br><span class="line">      <span class="attr">path</span>: category.<span class="property">path</span>,  </span><br><span class="line">      <span class="attr">id</span>: category.<span class="property">_id</span>,  </span><br><span class="line">      <span class="attr">parentId</span>: category.<span class="property">parent</span> || <span class="string">&#x27;0&#x27;</span>  </span><br><span class="line">    &#125;)  </span><br><span class="line">  &#125;)  </span><br><span class="line">  categoryParentFlag = categoryParentFlag &amp;&amp; dataParent === <span class="string">&#x27;true&#x27;</span>  </span><br><span class="line">  categoryArr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">return</span> b.<span class="property">value</span> - a.<span class="property">value</span> &#125;)  </span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">translateListToTree</span> (data, parent) &#123;  </span><br><span class="line">    <span class="keyword">let</span> tree = []  </span><br><span class="line">    <span class="keyword">let</span> temp  </span><br><span class="line">    data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;  </span><br><span class="line">      <span class="keyword">if</span> (data[index].<span class="property">parentId</span> == parent) &#123;  </span><br><span class="line">        <span class="keyword">let</span> obj = data[index];  </span><br><span class="line">        temp = <span class="title function_">translateListToTree</span>(data, data[index].<span class="property">id</span>);  </span><br><span class="line">        <span class="keyword">if</span> (temp.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;  </span><br><span class="line">          obj.<span class="property">children</span> = temp  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (tree.<span class="title function_">indexOf</span>())  </span><br><span class="line">          tree.<span class="title function_">push</span>(obj)  </span><br><span class="line">      &#125;  </span><br><span class="line">    &#125;)  </span><br><span class="line">    <span class="keyword">return</span> tree  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="keyword">const</span> categoryNameJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(categoryArr.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">category</span>) &#123; <span class="keyword">return</span> category.<span class="property">name</span> &#125;))  </span><br><span class="line">  <span class="keyword">const</span> categoryArrJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(categoryArr)  </span><br><span class="line">  <span class="keyword">const</span> categoryArrParentJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="title function_">translateListToTree</span>(categoryArr, <span class="string">&#x27;0&#x27;</span>))  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="string">`  </span></span><br><span class="line"><span class="string">  &lt;script id=&quot;categoriesChart&quot;&gt;  </span></span><br><span class="line"><span class="string">    var color = document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ? &#x27;#4c4948&#x27; : &#x27;rgba(255,255,255,0.7)&#x27;  </span></span><br><span class="line"><span class="string">    var categoriesChart = echarts.init(document.getElementById(&#x27;categories-chart&#x27;), &#x27;light&#x27;);  </span></span><br><span class="line"><span class="string">    var categoryParentFlag = <span class="subst">$&#123;categoryParentFlag&#125;</span>  </span></span><br><span class="line"><span class="string">    var categoriesOption = &#123;  </span></span><br><span class="line"><span class="string">      title: &#123;  </span></span><br><span class="line"><span class="string">        text: &#x27;文章分类统计图&#x27;,  </span></span><br><span class="line"><span class="string">        x: &#x27;center&#x27;,  </span></span><br><span class="line"><span class="string">        textStyle: &#123;  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      legend: &#123;  </span></span><br><span class="line"><span class="string">        top: &#x27;bottom&#x27;,  </span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;categoryNameJson&#125;</span>,  </span></span><br><span class="line"><span class="string">        textStyle: &#123;  </span></span><br><span class="line"><span class="string">          color: color  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      tooltip: &#123;  </span></span><br><span class="line"><span class="string">        trigger: &#x27;item&#x27;  </span></span><br><span class="line"><span class="string">      &#125;,  </span></span><br><span class="line"><span class="string">      series: []  </span></span><br><span class="line"><span class="string">    &#125;;  </span></span><br><span class="line"><span class="string">    categoriesOption.series.push(  </span></span><br><span class="line"><span class="string">      categoryParentFlag ?   </span></span><br><span class="line"><span class="string">      &#123;  </span></span><br><span class="line"><span class="string">        nodeClick :false,  </span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,  </span></span><br><span class="line"><span class="string">        type: &#x27;sunburst&#x27;,  </span></span><br><span class="line"><span class="string">        radius: [&#x27;15%&#x27;, &#x27;90%&#x27;],  </span></span><br><span class="line"><span class="string">        center: [&#x27;50%&#x27;, &#x27;55%&#x27;],  </span></span><br><span class="line"><span class="string">        sort: &#x27;desc&#x27;,  </span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;categoryArrParentJson&#125;</span>,  </span></span><br><span class="line"><span class="string">        itemStyle: &#123;  </span></span><br><span class="line"><span class="string">          borderColor: &#x27;#fff&#x27;,  </span></span><br><span class="line"><span class="string">          borderWidth: 2,  </span></span><br><span class="line"><span class="string">          emphasis: &#123;  </span></span><br><span class="line"><span class="string">            focus: &#x27;ancestor&#x27;,  </span></span><br><span class="line"><span class="string">            shadowBlur: 10,  </span></span><br><span class="line"><span class="string">            shadowOffsetX: 0,  </span></span><br><span class="line"><span class="string">            shadowColor: &#x27;rgba(255, 255, 255, 0.5)&#x27;  </span></span><br><span class="line"><span class="string">          &#125;  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;  </span></span><br><span class="line"><span class="string">      :  </span></span><br><span class="line"><span class="string">      &#123;  </span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,  </span></span><br><span class="line"><span class="string">        type: &#x27;pie&#x27;,  </span></span><br><span class="line"><span class="string">        radius: [30, 80],  </span></span><br><span class="line"><span class="string">        roseType: &#x27;area&#x27;,  </span></span><br><span class="line"><span class="string">        label: &#123;  </span></span><br><span class="line"><span class="string">          color: color,  </span></span><br><span class="line"><span class="string">          formatter: &#x27;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&#x27;  </span></span><br><span class="line"><span class="string">        &#125;,  </span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;categoryArrJson&#125;</span>,  </span></span><br><span class="line"><span class="string">        itemStyle: &#123;  </span></span><br><span class="line"><span class="string">          emphasis: &#123;  </span></span><br><span class="line"><span class="string">            shadowBlur: 10,  </span></span><br><span class="line"><span class="string">            shadowOffsetX: 0,  </span></span><br><span class="line"><span class="string">            shadowColor: &#x27;rgba(255, 255, 255, 0.5)&#x27;  </span></span><br><span class="line"><span class="string">          &#125;  </span></span><br><span class="line"><span class="string">        &#125;  </span></span><br><span class="line"><span class="string">      &#125;  </span></span><br><span class="line"><span class="string">    )  </span></span><br><span class="line"><span class="string">    categoriesChart.setOption(categoriesOption);  </span></span><br><span class="line"><span class="string">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123;   </span></span><br><span class="line"><span class="string">      categoriesChart.resize();  </span></span><br><span class="line"><span class="string">    &#125;);  </span></span><br><span class="line"><span class="string">    categoriesChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;  </span></span><br><span class="line"><span class="string">      if(event.data.path) window.location.href = &#x27;/&#x27; + event.data.path;  </span></span><br><span class="line"><span class="string">    &#125;);  </span></span><br><span class="line"><span class="string">  &lt;/script&gt;`</span>  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在新建的 <code>[Blogroot]\source\charts\index.md</code> 文件中添加以下内容：<br>可以自行调整参数</p></li></ol><ul><li><code>posts-chart</code> 的 <code>data-start=&quot;2021-01&quot;</code> 属性表示文章发布时间统计图仅显示 <code>2021-01</code> 及以后的文章数据</li><li><code>tags-chart</code> 的 <code>data-length=&quot;10&quot;</code> 属性表示仅显示排名前 <code>10</code> 的标签</li><li><code>categories-chart</code> 的 <code>data-parent=&quot;true&quot;</code> 属性表示 <code>有子分类</code> 时以旭日图显示分类，其他 <code>无子分类</code> 或 <code>设置为false</code> 或 <code>不设置该属性</code> 或 <code>设置为其他非true属性</code> 情况都以饼状图显示分类<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 文章发布时间统计图 --&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;posts-chart&quot;</span> <span class="attr">data-start</span>=<span class="string">&quot;2021-01&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!-- 文章标签统计图 --&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;tags-chart&quot;</span> <span class="attr">data-length</span>=<span class="string">&quot;10&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!-- 文章分类统计图 --&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;categories-chart&quot;</span> <span class="attr">data-parent</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><ol start="5"><li>可选适配明暗模式</li><li>可能遇到的问题见顶部链接内文章</li></ol><h2 id="文章加密"><a href="#文章加密" class="headerlink" title="文章加密"></a>文章加密</h2><ol><li><p>插件提供服务 </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure></li><li><p>配置front-matter</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---  </span><br><span class="line">password: password</span><br><span class="line">abstract: 有东西被加密了, 请输入密码查看.  </span><br><span class="line">message: &lt;提示信息&gt;</span><br><span class="line">theme: xray   </span><br><span class="line">wrong<span class="emphasis">_pass_</span>message: 抱歉, 这个密码看着不太对, 请再试试.  </span><br><span class="line"><span class="section">wrong<span class="emphasis">_hash_</span>message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.  </span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>theme预览：<a href="https://mhexo.github.io/2020/12/23/Theme-Test-Default/">Theme Test - Default · Hexo (mhexo.github.io)</a></p></li></ol><h2 id="明暗模式切换动画"><a href="#明暗模式切换动画" class="headerlink" title="明暗模式切换动画"></a>明暗模式切换动画</h2><ol><li><p>新建<code>[BlogRoot]\themes\butterfly\layout\includes\custom\sun_moon.pug</code>,这部分其实实质上就是一个svg文件，通过js操作它的旋转显隐，淡入淡出实现动画效果</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">svg(aria-hidden=&#x27;true&#x27;, style=&#x27;position:absolute; overflow:hidden; width:0; height:0&#x27;)  </span><br><span class="line">  symbol#icon-sun(viewBox=&#x27;0 0 1024 1024&#x27;)  </span><br><span class="line">    path(d=&#x27;M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z&#x27;, fill=&#x27;#FFD878&#x27;, p-id=&#x27;8420&#x27;)  </span><br><span class="line">    path(d=&#x27;M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z&#x27;, fill=&#x27;#FFE4A9&#x27;, p-id=&#x27;8421&#x27;)  </span><br><span class="line">    path(d=&#x27;M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8422&#x27;)  </span><br><span class="line">    path(d=&#x27;M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8423&#x27;)  </span><br><span class="line">  symbol#icon-moon(viewBox=&#x27;0 0 1024 1024&#x27;)  </span><br><span class="line">    path(d=&#x27;M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z&#x27;, fill=&#x27;#FFB531&#x27;, p-id=&#x27;11345&#x27;)  </span><br><span class="line">    path(d=&#x27;M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z&#x27;, fill=&#x27;#030835&#x27;, p-id=&#x27;11346&#x27;)</span><br></pre></td></tr></table></figure></li><li><p>新建<code>[BlogRoot]\themes\butterfly\source\css\_layout\sun_moon.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.Cuteen_DarkSky</span>,  </span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span><span class="selector-pseudo">:before</span>  </span><br><span class="line">  <span class="attribute">content</span> <span class="string">&#x27;&#x27;</span>  </span><br><span class="line">  <span class="attribute">position</span> fixed  </span><br><span class="line">  <span class="attribute">left</span> <span class="number">0</span>  </span><br><span class="line">  <span class="attribute">right</span> <span class="number">0</span>  </span><br><span class="line">  <span class="attribute">top</span> <span class="number">0</span>  </span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">0</span>  </span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">88888888</span>  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span>  </span><br><span class="line">  <span class="attribute">background</span> <span class="built_in">linear-gradient</span>(to top, <span class="number">#f8cd71</span> <span class="number">0</span>, <span class="number">#5bfde9</span> <span class="number">80%</span>)  </span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span>  </span><br><span class="line">    <span class="attribute">transition</span> <span class="number">2s</span> ease all  </span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0</span>  </span><br><span class="line">    <span class="attribute">background</span> <span class="built_in">linear-gradient</span>(to top, <span class="number">#30cfd0</span> <span class="number">0</span>, <span class="number">#330867</span> <span class="number">100%</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.DarkMode</span>  </span><br><span class="line">  <span class="selector-class">.Cuteen_DarkSky</span>  </span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span>  </span><br><span class="line">      <span class="attribute">opacity</span> <span class="number">1</span>  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.Cuteen_DarkPlanet</span>  </span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">99999999</span>  </span><br><span class="line">  <span class="attribute">position</span> fixed  </span><br><span class="line">  <span class="attribute">left</span> -<span class="number">50%</span>  </span><br><span class="line">  <span class="attribute">top</span> -<span class="number">50%</span>  </span><br><span class="line">  <span class="attribute">width</span> <span class="number">200%</span>  </span><br><span class="line">  <span class="attribute">height</span> <span class="number">200%</span>  </span><br><span class="line">  -webkit-<span class="attribute">animation</span> CuteenPlanetMove <span class="number">2s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)  </span><br><span class="line">  <span class="attribute">animation</span> CuteenPlanetMove <span class="number">2s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)  </span><br><span class="line">  <span class="attribute">transform-origin</span> center bottom  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> CuteenPlanetMove &#123;  </span><br><span class="line">  <span class="number">0%</span> &#123;  </span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);  </span><br><span class="line">  &#125;  </span><br><span class="line">  to &#123;  </span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">@keyframes</span> CuteenPlanetMove &#123;  </span><br><span class="line">  <span class="number">0%</span> &#123;  </span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);  </span><br><span class="line">  &#125;  </span><br><span class="line">  to &#123;  </span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.Cuteen_DarkPlanet</span>  </span><br><span class="line">  <span class="selector-id">#sun</span>  </span><br><span class="line">    <span class="attribute">position</span> absolute  </span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">100%</span>  </span><br><span class="line">    <span class="attribute">left</span> <span class="number">44%</span>  </span><br><span class="line">    <span class="attribute">top</span> <span class="number">30%</span>  </span><br><span class="line">    <span class="attribute">height</span> <span class="number">6rem</span>  </span><br><span class="line">    <span class="attribute">width</span> <span class="number">6rem</span>  </span><br><span class="line">    <span class="attribute">background</span> <span class="number">#ffee94</span>  </span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">40px</span> <span class="number">#ffee94</span>  </span><br><span class="line">    <span class="comment">// opacity 0  </span></span><br><span class="line">  </span><br><span class="line">  <span class="selector-id">#moon</span>  </span><br><span class="line">    <span class="attribute">position</span> absolute  </span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">100%</span>  </span><br><span class="line">    <span class="attribute">left</span> <span class="number">44%</span>  </span><br><span class="line">    <span class="attribute">top</span> <span class="number">30%</span>  </span><br><span class="line">    <span class="attribute">position</span> absolute  </span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">100%</span>  </span><br><span class="line">    <span class="attribute">height</span> <span class="number">6rem</span>  </span><br><span class="line">    <span class="attribute">width</span> <span class="number">6rem</span>  </span><br><span class="line">    <span class="attribute">box-shadow</span> -<span class="number">1.8em</span> <span class="number">1.8em</span> <span class="number">0</span> <span class="number">0.2em</span> <span class="number">#fff</span>  </span><br><span class="line">    <span class="comment">// opacity 1  </span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// &amp;:after  </span></span><br><span class="line">  <span class="comment">//   position absolute  </span></span><br><span class="line">  <span class="comment">//   left 42%  </span></span><br><span class="line">  <span class="comment">//   top 30%  </span></span><br><span class="line">  <span class="comment">//   width 6rem  </span></span><br><span class="line">  <span class="comment">//   height 6rem  </span></span><br><span class="line">  <span class="comment">//   border-radius 50%  </span></span><br><span class="line">  <span class="comment">//   content &#x27;&#x27;  </span></span><br><span class="line">  <span class="comment">//   background #ffef9e  </span></span><br><span class="line">  <span class="comment">//   box-shadow 0 0 30px #ffef9e  </span></span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.search</span>  </span><br><span class="line">  <span class="selector-tag">span</span>  </span><br><span class="line">    <span class="attribute">display</span> none  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.menus_item</span>  </span><br><span class="line">  <span class="selector-tag">a</span>  </span><br><span class="line">    <span class="attribute">text-decoration</span> none<span class="meta">!important</span>  </span><br><span class="line"><span class="comment">//按钮相关，对侧栏按钮做过魔改的可以调整这里的数值  </span></span><br><span class="line"><span class="comment">// .icon-V  </span></span><br><span class="line"><span class="comment">//   padding 5px</span></span><br></pre></td></tr></table></figure></li><li><p>新建<code>[BlogRoot]\themes\butterfly\source\js\sun_moon.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">switchNightMode</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;div class=&quot;Cuteen_DarkSky&quot;&gt;&lt;div class=&quot;Cuteen_DarkPlanet&quot;&gt;&lt;div id=&quot;sun&quot;&gt;&lt;/div&gt;&lt;div id=&quot;moon&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span>),  </span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;DarkMode&#x27;</span>) ? (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;0&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)) : (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;1&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)),  </span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">transition</span> = <span class="string">&#x27;opacity 3s&#x27;</span>;  </span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&#x27;0&#x27;</span>;  </span><br><span class="line">                    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">                        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="title function_">remove</span>();  </span><br><span class="line">                    &#125;, <span class="number">1e3</span>);  </span><br><span class="line">                &#125;, <span class="number">2e3</span>)  </span><br><span class="line">        &#125;)  </span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span>  </span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;  </span><br><span class="line">        <span class="comment">// 先设置太阳月亮透明度  </span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;  </span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;  </span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;  </span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;  </span><br><span class="line">        &#125;, <span class="number">1000</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="title function_">activateDarkMode</span>()  </span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)  </span><br><span class="line">        <span class="comment">// GLOBAL_CONFIG.Snackbar !== undefined &amp;&amp; btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)  </span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)  </span><br><span class="line">        <span class="comment">// 延时弹窗提醒  </span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;  </span><br><span class="line">                <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">                    <span class="variable language_">this</span>.$notify(&#123;  </span><br><span class="line">                        <span class="attr">title</span>: <span class="string">&quot;关灯啦🌙&quot;</span>,  </span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&quot;当前已成功切换至夜间模式！&quot;</span>,  </span><br><span class="line">                        <span class="attr">position</span>: <span class="string">&#x27;top-left&#x27;</span>,  </span><br><span class="line">                        <span class="attr">offset</span>: <span class="number">50</span>,  </span><br><span class="line">                        <span class="attr">showClose</span>: <span class="literal">true</span>,  </span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&quot;success&quot;</span>,  </span><br><span class="line">                        <span class="attr">duration</span>: <span class="number">5000</span>  </span><br><span class="line">                    &#125;);  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;)  </span><br><span class="line">        &#125;, <span class="number">2000</span>)  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        <span class="comment">// 先设置太阳月亮透明度  </span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;  </span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;  </span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;  </span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;  </span><br><span class="line">        &#125;, <span class="number">1000</span>);  </span><br><span class="line">          </span><br><span class="line">        <span class="title function_">activateLightMode</span>()  </span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)  </span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)  </span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;  </span><br><span class="line">                <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">                    <span class="variable language_">this</span>.$notify(&#123;  </span><br><span class="line">                        <span class="attr">title</span>: <span class="string">&quot;开灯啦🌞&quot;</span>,  </span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&quot;当前已成功切换至白天模式！&quot;</span>,  </span><br><span class="line">                        <span class="attr">position</span>: <span class="string">&#x27;top-left&#x27;</span>,  </span><br><span class="line">                        <span class="attr">offset</span>: <span class="number">50</span>,  </span><br><span class="line">                        <span class="attr">showClose</span>: <span class="literal">true</span>,  </span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&quot;success&quot;</span>,  </span><br><span class="line">                        <span class="attr">duration</span>: <span class="number">5000</span>  </span><br><span class="line">                    &#125;);  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;)  </span><br><span class="line">        &#125;, <span class="number">2000</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// handle some cases  </span></span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()  </span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()  </span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>修改<code>[BlogRoot]\themes\butterfly\layout\includes\head.pug</code>,在文件末位加上一行</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  //- global config  </span><br><span class="line">  !=partial(&#x27;includes/head/config&#x27;, &#123;&#125;, &#123;cache: true&#125;)  </span><br><span class="line">  </span><br><span class="line">  include ./head/config_site.pug  </span><br><span class="line">  include ./head/noscript.pug  </span><br><span class="line">  </span><br><span class="line">  !=fragment_cache(&#x27;injectHeadJs&#x27;, function()&#123;return inject_head_js()&#125;)  </span><br><span class="line">  </span><br><span class="line">  !=fragment_cache(&#x27;injectHead&#x27;, function()&#123;return injectHtml(theme.inject.head)&#125;)  </span><br><span class="line"><span class="addition">+ include ./custom/sun_moon.pug</span></span><br></pre></td></tr></table></figure></li><li><p>修改<code>[BlogRoot]\themes\butterfly\layout\includes\rightside.pug</code>,把原本的昼夜切换按钮替换掉</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  when &#x27;translate&#x27;  </span><br><span class="line">    if translate.enable  </span><br><span class="line">      button#translateLink(type=&quot;button&quot; title=_p(&#x27;rightside.translate_title&#x27;))= translate.default  </span><br><span class="line">  when &#x27;darkmode&#x27;  </span><br><span class="line">    if darkmode.enable &amp;&amp; darkmode.button  </span><br><span class="line"><span class="deletion">-     button#darkmode(type=&quot;button&quot; title=_p(&#x27;rightside.night_mode_title&#x27;))  </span></span><br><span class="line"><span class="deletion">-       i.fas.fa-adjust  </span></span><br><span class="line"><span class="addition">+     a.icon-V.hidden(onclick=&#x27;switchNightMode()&#x27;,  title=_p(&#x27;rightside.night_mode_title&#x27;))  </span></span><br><span class="line"><span class="addition">+       svg(width=&#x27;25&#x27;, height=&#x27;25&#x27;, viewBox=&#x27;0 0 1024 1024&#x27;)  </span></span><br><span class="line"><span class="addition">+         use#modeicon(xlink:href=&#x27;#icon-moon&#x27;)</span></span><br></pre></td></tr></table></figure></li><li><p>修改<code>[BlogRoot]\_config.butterfly.yml</code>,引入一下js </p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">bottom:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/sun_moon.js&quot;</span> <span class="string">async&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">+</span> <span class="string">```</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 自定义加载动画</span></span><br><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">修改</span> <span class="string">`themes/butterfly/layout/includes/loading/fullpage-loading.pug`</span></span><br><span class="line"><span class="string">```css</span></span><br><span class="line"><span class="comment">#loading-box(onclick=&#x27;document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)&#x27;)  </span></span><br><span class="line">  <span class="string">.loading-bg</span>  </span><br><span class="line">    <span class="string">div.loading-img</span>  </span><br><span class="line">    <span class="string">.loading-image-dot</span>  </span><br><span class="line">  </span><br><span class="line"><span class="string">script.</span>  </span><br><span class="line">  <span class="string">const</span> <span class="string">preloader</span> <span class="string">=</span> &#123;  </span><br><span class="line">    <span class="attr">endLoading:</span> <span class="string">()</span> <span class="string">=&gt;</span> &#123;  </span><br><span class="line">      <span class="string">document.body.style.overflow</span> <span class="string">=</span> <span class="string">&#x27;auto&#x27;</span><span class="string">;</span>  </span><br><span class="line">      <span class="string">document.getElementById(&#x27;loading-box&#x27;).classList.add(&quot;loaded&quot;)</span>  </span><br><span class="line">    &#125;,  </span><br><span class="line">    <span class="attr">initLoading:</span> <span class="string">()</span> <span class="string">=&gt;</span> &#123;  </span><br><span class="line">      <span class="string">document.body.style.overflow</span> <span class="string">=</span> <span class="string">&#x27;&#x27;</span><span class="string">;</span>  </span><br><span class="line">      <span class="string">document.getElementById(&#x27;loading-box&#x27;).classList.remove(&quot;loaded&quot;)</span>  </span><br><span class="line">  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="string">window.addEventListener(&#x27;load&#x27;,()=&gt;</span> &#123; <span class="string">preloader.endLoading()</span> &#125;<span class="string">)</span>  </span><br><span class="line">  </span><br><span class="line">  <span class="string">if</span> <span class="string">(!&#123;theme.pjax</span> <span class="string">&amp;&amp;</span> <span class="string">theme.pjax.enable&#125;)</span> &#123;  </span><br><span class="line">    <span class="string">document.addEventListener(&#x27;pjax:send&#x27;</span>, <span class="string">()</span> <span class="string">=&gt;</span> &#123; <span class="string">preloader.initLoading()</span> &#125;<span class="string">)</span>  </span><br><span class="line">    <span class="string">document.addEventListener(&#x27;pjax:complete&#x27;</span>, <span class="string">()</span> <span class="string">=&gt;</span> &#123; <span class="string">preloader.endLoading()</span> &#125;<span class="string">)</span>  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li><p>修改<code>themes/butterfly/layout/includes/loading/index.pug</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if theme.preloader.source === 1  </span><br><span class="line">  include ./fullpage-loading.pug  </span><br><span class="line">else if theme.preloader.source === 2  </span><br><span class="line">  include ./pace.pug  </span><br><span class="line">else  </span><br><span class="line">  include ./fullpage-loading.pug  </span><br><span class="line">  include ./pace.pug</span><br></pre></td></tr></table></figure></li><li><p>新建<code>source/css/progress_bg.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pace</span> &#123;  </span><br><span class="line">  -webkit-<span class="attribute">pointer-events</span>: none;  </span><br><span class="line">  <span class="attribute">pointer-events</span>: none;  </span><br><span class="line">  -webkit-user-select: none;  </span><br><span class="line">  -moz-user-select: none;  </span><br><span class="line">  user-select: none;  </span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;  </span><br><span class="line">  <span class="attribute">position</span>: fixed;  </span><br><span class="line">  <span class="attribute">margin</span>: auto;  </span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;  </span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;  </span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;  </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">4rem</span>;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eaecf2</span>;  </span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#e3e8f7</span>;  </span><br><span class="line">  <span class="attribute">overflow</span>: hidden;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.pace-inactive</span> <span class="selector-class">.pace-progress</span> &#123;  </span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span> ease-in;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;  </span><br><span class="line">  -webkit-<span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">  -moz-<span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">  -ms-<span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">  -o-<span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;  </span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">200px</span>;  </span><br><span class="line">  <span class="attribute">position</span>: absolute;  </span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;  </span><br><span class="line">  <span class="attribute">display</span>: block;  </span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">right</span>: <span class="number">100%</span>;  </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;  </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#ee7752</span>, <span class="number">#e73c7e</span>, <span class="number">#23a6d5</span>, <span class="number">#23d5ab</span>);  </span><br><span class="line">  <span class="attribute">animation</span>: gradient <span class="number">1.5s</span> ease infinite;  </span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">200%</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.pace</span><span class="selector-class">.pace-inactive</span> &#123;  </span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;  </span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;  </span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">8px</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">@keyframes</span> gradient &#123;  </span><br><span class="line">  <span class="number">0%</span> &#123;  </span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">100%</span> &#123;  </span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>修改<code>/butterfly/source/css/_layout/loading.styl</code>, 注意其中颜色代码<code>--color</code>等需自行替换为自己的色值</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader&#x27;</span>)  </span><br><span class="line">  <span class="selector-class">.loading-bg</span>  </span><br><span class="line">    <span class="attribute">display</span>: flex;  </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;  </span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;  </span><br><span class="line">    <span class="attribute">position</span>: fixed;  </span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--color);  </span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1001</span>;  </span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;  </span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span>;  </span><br><span class="line">  </span><br><span class="line">  <span class="selector-id">#loading-box</span>  </span><br><span class="line">    <span class="selector-class">.loading-img</span>  </span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100px</span>;  </span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100px</span>;  </span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;  </span><br><span class="line">      <span class="attribute">margin</span>: auto;  </span><br><span class="line">      <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#f0f0f2</span>;  </span><br><span class="line">      <span class="attribute">animation-duration</span>: .<span class="number">3s</span>;  </span><br><span class="line">      <span class="attribute">animation-name</span>: loadingAction;  </span><br><span class="line">      <span class="attribute">animation-iteration-count</span>: infinite;  </span><br><span class="line">      <span class="attribute">animation-direction</span>: alternate;  </span><br><span class="line">    <span class="selector-class">.loading-image-dot</span>  </span><br><span class="line">      <span class="attribute">width</span>: <span class="number">30px</span>;  </span><br><span class="line">      <span class="attribute">height</span>: <span class="number">30px</span>;  </span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#6bdf8f</span>;  </span><br><span class="line">      <span class="attribute">position</span>: absolute;  </span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;  </span><br><span class="line">      <span class="attribute">border</span>: <span class="number">6px</span> solid <span class="number">#fff</span>;  </span><br><span class="line">      <span class="attribute">top</span>: <span class="number">50%</span>;  </span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;  </span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">18px</span>, <span class="number">24px</span>);  </span><br><span class="line">    &amp;<span class="selector-class">.loaded</span>  </span><br><span class="line">      <span class="selector-class">.loading-bg</span>  </span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;  </span><br><span class="line">        <span class="attribute">z-index</span>: -<span class="number">1000</span>;  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">@keyframes</span> loadingAction  </span><br><span class="line">    <span class="number">0%</span> &#123;  </span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="number">100%</span> &#123;  </span><br><span class="line">        <span class="attribute">opacity</span>: .<span class="number">4</span>;  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>在custom.css里加入</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.loading-img</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&lt;头像网址&gt;</span>) no-repeat center center;  </span><br><span class="line">  <span class="attribute">background-size</span>: cover;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>最后修改<code>_config.butterfly.yml</code>中<code>preloader</code>选项, 改完以后<code>source: 1</code>为满屏加载无<code>pace胶囊</code>,<code>source: 2</code>为<code>pace胶囊</code>无满屏动画, <code>source: 3</code>是两者都启用。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Loading Animation (加载动画)  </span></span><br><span class="line"><span class="attr">preloader:</span>  </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  </span><br><span class="line">  <span class="comment"># source  </span></span><br><span class="line">  <span class="comment"># 1. fullpage-loading  </span></span><br><span class="line">  <span class="comment"># 2. pace (progress bar)  </span></span><br><span class="line">  <span class="comment"># else all  </span></span><br><span class="line">  <span class="attr">source:</span> <span class="number">3</span>  </span><br><span class="line">  <span class="comment"># pace theme (see https://codebyzach.github.io/pace/)  </span></span><br><span class="line">  <span class="attr">pace_css_url:</span> <span class="string">/css/progress_bg.css</span>  </span><br><span class="line">  <span class="attr">avatar:</span> <span class="comment"># 自定义头像</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="文章栏目布局修改"><a href="#文章栏目布局修改" class="headerlink" title="文章栏目布局修改"></a>文章栏目布局修改</h2><ol><li><p>修改<code>[BlogRoot]\themes\butterfly\layout\includes\mixins\post-ui.pug</code>,整个替换为下面的代码，这里可以引入彩色的图标，每个注释处都可以选择换上彩色图标，这里只需要替换成你自己的<code>图标名字</code>和调节相应的<code>大小</code>即可：<br> 本人懒得调js，就直接用fas的了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line">mixin postUI(posts)  </span><br><span class="line">  each article , index in page.posts.data  </span><br><span class="line">    .recent-post-item  </span><br><span class="line">      -  </span><br><span class="line">        let link = article.link || article.path  </span><br><span class="line">        let title = article.title || _p(&#x27;no_title&#x27;)  </span><br><span class="line">        const position = theme.cover.position  </span><br><span class="line">        let leftOrRight = position === &#x27;both&#x27;  </span><br><span class="line">          ? index%2 == 0 ? &#x27;left&#x27; : &#x27;right&#x27;  </span><br><span class="line">          : position === &#x27;left&#x27; ? &#x27;left&#x27; : &#x27;right&#x27;  </span><br><span class="line">        let post_cover = article.cover  </span><br><span class="line">        let no_cover = article.cover === false || !theme.cover.index_enable ? &#x27;no-cover&#x27; : &#x27;&#x27;  </span><br><span class="line">      -  </span><br><span class="line">      .recent-post-content(class=leftOrRight)  </span><br><span class="line">        .recent-post-cover  </span><br><span class="line">          img.article-cover(src=url_for(post_cover) onerror=`this.onerror=null;this.src=&#x27;`+ url_for(theme.error_img.post_page) + `&#x27;` alt=title)  </span><br><span class="line">        .recent-post-info  </span><br><span class="line">          a.article-title(href=url_for(link) title=title)  </span><br><span class="line">            .article-title-link= title  </span><br><span class="line">          .recent-post-meta                  </span><br><span class="line">            .article-meta-wrap  </span><br><span class="line">              if (is_home() &amp;&amp; (article.top || article.sticky &gt; 0))  </span><br><span class="line">                span.article-meta  </span><br><span class="line">                  i.fas.fa-thumbtack.sticky  </span><br><span class="line">                  //- svg.meta_icon(style=&quot;width:16px;height:16px;position:relative;top:3px&quot;).post-ui-icon  </span><br><span class="line">                    //- use(xlink:href=&#x27;#icon-tuding&#x27;)  </span><br><span class="line">                  span.sticky= _p(&#x27;sticky&#x27;)  </span><br><span class="line">                  span.article-meta-separator  |   </span><br><span class="line">              if (theme.post_meta.page.date_type)  </span><br><span class="line">                span.post-meta-date  </span><br><span class="line">                  if (theme.post_meta.page.date_type === &#x27;both&#x27;)  </span><br><span class="line">                    i.far.fa-calendar-alt  </span><br><span class="line">                    //- svg.meta_icon(style=&quot;width:21px;height:21px;position:relative;top:6px&quot;).post-ui-icon  </span><br><span class="line">                      //- use(xlink:href=&#x27;#icon-rili&#x27;)  </span><br><span class="line">                    span.article-meta-label=_p(&#x27;post.created&#x27;)  </span><br><span class="line">                    time.post-meta-date-created(datetime=date_xml(article.date) title=_p(&#x27;post.created&#x27;) + &#x27; &#x27; + full_date(article.date))=date(article.date, config.date_format)  </span><br><span class="line">                    span.article-meta-separator  |   </span><br><span class="line">                    i.fas.fa-history  </span><br><span class="line">                    //- svg.meta_icon(style=&quot;width:13px;height:13px;position:relative;top:2px&quot;).post-ui-icon  </span><br><span class="line">                      //- use(xlink:href=&#x27;#icon-gengxin1&#x27;)                      </span><br><span class="line">                    span.article-meta-label=_p(&#x27;post.updated&#x27;) + &quot; &quot;  </span><br><span class="line">                    time.post-meta-date-updated(datetime=date_xml(article.updated) title=_p(&#x27;post.updated&#x27;) + &#x27; &#x27; + full_date(article.updated))=date(article.updated, config.date_format)  </span><br><span class="line">                  else  </span><br><span class="line">                    - let data_type_updated = theme.post_meta.page.date_type === &#x27;updated&#x27;  </span><br><span class="line">                    - let date_type = data_type_updated ? &#x27;updated&#x27; : &#x27;date&#x27;  </span><br><span class="line">                    - let date_icon = data_type_updated ? &#x27;fas fa-history&#x27; :&#x27;far fa-calendar-alt&#x27;  </span><br><span class="line">                    - let date_title = data_type_updated ? _p(&#x27;post.updated&#x27;) : _p(&#x27;post.created&#x27;)  </span><br><span class="line">                    i(class=date_icon)  </span><br><span class="line">                    span.article-meta-label=date_title  </span><br><span class="line">                    time(datetime=date_xml(article[date_type]) title=date_title + &#x27; &#x27; + full_date(article[date_type]))=date(article[date_type], config.date_format)  </span><br><span class="line">              if (theme.post_meta.page.categories &amp;&amp; article.categories.data.length &gt; 0)  </span><br><span class="line">                span.article-meta  </span><br><span class="line">                  span.article-meta-separator  |   </span><br><span class="line">                  i.fas.fa-inbox  </span><br><span class="line">                  //- svg.meta_icon(style=&quot;width:12px;height:12px;position:relative;top:1px&quot;).post-ui-icon  </span><br><span class="line">                    //- use(xlink:href=&#x27;#icon-fenlei&#x27;)  </span><br><span class="line">                  each item, index in article.categories.data  </span><br><span class="line">                    a(href=url_for(item.path)).article-meta__categories #[=item.name]  </span><br><span class="line">                    if (index &lt; article.categories.data.length - 1)  </span><br><span class="line">                      i.fas.fa-angle-right.article-meta-link  </span><br><span class="line">              if (theme.post_meta.page.tags &amp;&amp; article.tags.data.length &gt; 0)  </span><br><span class="line">                span.article-meta.tags  </span><br><span class="line">                  span.article-meta-separator  |   </span><br><span class="line">                  i.fas.fa-tag  </span><br><span class="line">                  //- svg.meta_icon(style=&quot;width:13px;height:13px;position:relative;top:2px&quot;).post-ui-icon  </span><br><span class="line">                    //- use(xlink:href=&#x27;#icon-biaoqian&#x27;)  </span><br><span class="line">                  each item, index in article.tags.data  </span><br><span class="line">                    a(href=url_for(item.path)).article-meta__tags #[=item.name]  </span><br><span class="line">                    if (index &lt; article.tags.data.length - 1)  </span><br><span class="line">                      span.article-meta-link #[=&#x27; • &#x27;]  </span><br><span class="line">                </span><br><span class="line">              mixin countBlockInIndex  </span><br><span class="line">                - needLoadCountJs = true  </span><br><span class="line">                span.article-meta  </span><br><span class="line">                  span.article-meta-separator  |   </span><br><span class="line">                  i.fas.fa-comments  </span><br><span class="line">                  //- svg.meta_icon(style=&quot;width:13px;height:13px;position:relative;top:2px&quot;).post-ui-icon  </span><br><span class="line">                    //- use(xlink:href=&#x27;#icon-pinglun1&#x27;)  </span><br><span class="line">                  if block  </span><br><span class="line">                    block  </span><br><span class="line">                  span.article-meta-label= &#x27; &#x27; + _p(&#x27;card_post_count&#x27;)  </span><br><span class="line">                </span><br><span class="line">              if theme.comments.card_post_count  </span><br><span class="line">                case theme.comments.use[0]  </span><br><span class="line">                  when &#x27;Disqus&#x27;  </span><br><span class="line">                    +countBlockInIndex  </span><br><span class="line">                      a(href=full_url_for(link) + &#x27;#disqus_thread&#x27;)  </span><br><span class="line">                        i.fa-solid.fa-spinner.fa-spin  </span><br><span class="line">                  when &#x27;Disqusjs&#x27;  </span><br><span class="line">                    +countBlockInIndex  </span><br><span class="line">                      a(href=full_url_for(link) + &#x27;#disqusjs&#x27;)  </span><br><span class="line">                        span.disqus-comment-count(data-disqus-url=full_url_for(link))  </span><br><span class="line">                          i.fa-solid.fa-spinner.fa-spin  </span><br><span class="line">                  when &#x27;Valine&#x27;  </span><br><span class="line">                    +countBlockInIndex  </span><br><span class="line">                      a(href=url_for(link) + &#x27;#post-comment&#x27;)  </span><br><span class="line">                        span.valine-comment-count(data-xid=url_for(link))  </span><br><span class="line">                          i.fa-solid.fa-spinner.fa-spin  </span><br><span class="line">                  when &#x27;Waline&#x27;  </span><br><span class="line">                    +countBlockInIndex  </span><br><span class="line">                      a(href=url_for(link) + &#x27;#post-comment&#x27;)  </span><br><span class="line">                        span.waline-comment-count(id=url_for(link))  </span><br><span class="line">                          i.fa-solid.fa-spinner.fa-spin  </span><br><span class="line">                  when &#x27;Twikoo&#x27;  </span><br><span class="line">                    +countBlockInIndex  </span><br><span class="line">                      a.twikoo-count(href=url_for(link) + &#x27;#post-comment&#x27;)  </span><br><span class="line">                        i.fa-solid.fa-spinner.fa-spin  </span><br><span class="line">                  when &#x27;Facebook Comments&#x27;  </span><br><span class="line">                    +countBlockInIndex  </span><br><span class="line">                      a(href=url_for(link) + &#x27;#post-comment&#x27;)  </span><br><span class="line">                        span.fb-comments-count(data-href=urlNoIndex(article.permalink))  </span><br><span class="line">                  when &#x27;Remark42&#x27;  </span><br><span class="line">                    +countBlockInIndex  </span><br><span class="line">                      a(href=url_for(link) + &#x27;#post-comment&#x27;)  </span><br><span class="line">                        span.remark42__counter(data-url=urlNoIndex(article.permalink))  </span><br><span class="line">                          i.fa-solid.fa-spinner.fa-spin  </span><br><span class="line">                  when &#x27;Artalk&#x27;  </span><br><span class="line">                    +countBlockInIndex  </span><br><span class="line">                      a(href=url_for(link) + &#x27;#post-comment&#x27;)  </span><br><span class="line">                        span.artalk-count(data-page-key=url_for(link))  </span><br><span class="line">                          i.fa-solid.fa-spinner.fa-spin        </span><br><span class="line">        a.article-content(href=url_for(link) title=title)  </span><br><span class="line">          //- Display the article introduction on homepage  </span><br><span class="line">          case theme.index_post_content.method  </span><br><span class="line">            when false  </span><br><span class="line">              - break  </span><br><span class="line">            when 1  </span><br><span class="line">              .article-content-text!= article.description  </span><br><span class="line">            when 2  </span><br><span class="line">              if article.description  </span><br><span class="line">                .article-content-text!= article.description  </span><br><span class="line">              else  </span><br><span class="line">                - const content = strip_html(article.content)  </span><br><span class="line">                - let expert = content.substring(0, theme.index_post_content.length)   </span><br><span class="line">                - content.length &gt; theme.index_post_content.length ? expert += &#x27; ...&#x27; : &#x27;&#x27;  </span><br><span class="line">                .article-content-text!= expert  </span><br><span class="line">            default  </span><br><span class="line">              - const content = strip_html(article.content)  </span><br><span class="line">              - let expert = content.substring(0, theme.index_post_content.length)   </span><br><span class="line">              - content.length &gt; theme.index_post_content.length ? expert += &#x27; ...&#x27; : &#x27;&#x27;  </span><br><span class="line">              .article-content-text!= expert        </span><br><span class="line">        .recent-post-arrow  </span><br><span class="line">  </span><br><span class="line">    if theme.ad &amp;&amp; theme.ad.index  </span><br><span class="line">      if (index + 1) % 3 == 0  </span><br><span class="line">        .recent-post-item.ads-wrap!=theme.ad.index</span><br></pre></td></tr></table></figure></li><li><p>样式方案提供两种：</p></li></ol><ul><li>样式一：电脑端宽屏采用滑动卡片，平板宽度采用双栏布局，手机宽度采用单栏卡片</li><li>样式二：移除滑动卡片，按屏幕宽度依次应用三栏、双栏、单栏</li></ul><p>新建目录<code>\butterfly\source\css\_index_card_style\</code>,并在下面新建对应的文件<code>slidecard.styl</code>和<code>multicard.styl</code>并分别填入以下内容，可以根据自己的选择进行修改：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// slidecard</span></span><br><span class="line"><span class="comment">//default color:  </span></span><br><span class="line"><span class="selector-pseudo">:root</span>  </span><br><span class="line">  <span class="attr">--recent-post-bgcolor</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.9</span>)  <span class="comment">//默认背景  </span></span><br><span class="line">  <span class="attr">--article-content-bgcolor</span>: <span class="number">#49b1f5</span> <span class="comment">//描述版块背景  </span></span><br><span class="line">  <span class="attr">--recent-post-arrow</span>: <span class="number">#ffffff</span> <span class="comment">//箭头配色  </span></span><br><span class="line">  <span class="attr">--recent-post-cover-shadow</span>: <span class="number">#ffffff</span> <span class="comment">//封面遮罩层配色，建议和默认值的颜色相对应。  </span></span><br><span class="line">  <span class="attr">--recent-post-transition</span>: <span class="attribute">all</span> <span class="number">0.5s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.59</span>, <span class="number">0.01</span>, <span class="number">0.48</span>, <span class="number">1.17</span>)  //动画效果。不了解的不要改动  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span>  </span><br><span class="line">  <span class="attr">--recent-post-bgcolor</span>: <span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">35</span>,<span class="number">35</span>,<span class="number">0.5</span>)  </span><br><span class="line">  <span class="attr">--article-content-bgcolor</span>: <span class="number">#99999a</span>  </span><br><span class="line">  <span class="attr">--recent-post-arrow</span>: <span class="number">#37e2dd</span>  </span><br><span class="line">  <span class="attr">--recent-post-cover-shadow</span>: <span class="number">#232323</span>  </span><br><span class="line"><span class="comment">// 默认的首页卡片容器布局  </span></span><br><span class="line"><span class="selector-class">.recent-posts</span>  </span><br><span class="line">  <span class="attribute">padding</span> <span class="number">0</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">15px</span>  </span><br><span class="line">  <span class="attribute">height</span> fit-content  </span><br><span class="line">  <span class="selector-class">.recent-post-item</span>  </span><br><span class="line">    <span class="attribute">margin-bottom</span> <span class="number">15px</span>  </span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">    <span class="attribute">background</span> <span class="built_in">var</span>(--recent-post-bgcolor)  </span><br><span class="line">    <span class="attribute">overflow</span> hidden  </span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">15px</span>  </span><br><span class="line">    <span class="selector-class">.recent-post-content</span>  </span><br><span class="line">      <span class="attribute">display</span> flex  </span><br><span class="line">      <span class="attribute">background</span> <span class="built_in">var</span>(--recent-post-bgcolor)  </span><br><span class="line">      <span class="attribute">position</span> relative  </span><br><span class="line">      <span class="selector-class">.recent-post-cover</span>  </span><br><span class="line">        <span class="attribute">display</span> flex  </span><br><span class="line">        <span class="attribute">background</span> transparent  </span><br><span class="line">      <span class="selector-class">.recent-post-info</span>  </span><br><span class="line">        <span class="attribute">display</span> flex  </span><br><span class="line">        <span class="attribute">background</span> transparent  </span><br><span class="line">        <span class="attribute">flex-direction</span> column  </span><br><span class="line">        <span class="attribute">justify-content</span> center  </span><br><span class="line">        <span class="attribute">align-items</span> center  </span><br><span class="line">        <span class="selector-class">.article-title</span>  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">50%</span>  </span><br><span class="line">          <span class="attribute">display</span>: flex  </span><br><span class="line">          <span class="attribute">text-align</span>: center  </span><br><span class="line">          <span class="attribute">align-items</span>: center  </span><br><span class="line">          <span class="attribute">justify-content</span>: flex-end  </span><br><span class="line">          <span class="attribute">flex-direction</span>: column  </span><br><span class="line">          <span class="selector-class">.article-title-link</span>  </span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color)  </span><br><span class="line">            <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out  </span><br><span class="line">            <span class="attribute">display</span>: -webkit-box;  </span><br><span class="line">            -webkit-box-orient: vertical;  </span><br><span class="line">            <span class="attribute">overflow</span>: hidden;  </span><br><span class="line">            <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">              <span class="attribute">color</span>: <span class="variable">$text</span>-hover  </span><br><span class="line">        <span class="selector-class">.recent-post-meta</span>  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">50%</span>  </span><br><span class="line">          <span class="attribute">display</span>: flex  </span><br><span class="line">          <span class="attribute">text-align</span>: center  </span><br><span class="line">          <span class="attribute">align-items</span>: center  </span><br><span class="line">          <span class="attribute">justify-content</span>: flex-start  </span><br><span class="line">          <span class="attribute">flex-direction</span>: column  </span><br><span class="line">          <span class="selector-class">.article-meta-wrap</span>  </span><br><span class="line">            <span class="attribute">color</span> <span class="number">#969797</span>  </span><br><span class="line">            <span class="attribute">display</span>: -webkit-box;  </span><br><span class="line">            -webkit-box-orient: vertical;  </span><br><span class="line">            <span class="attribute">overflow</span>: hidden;  </span><br><span class="line">            <span class="selector-tag">a</span>  </span><br><span class="line">              <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color)  </span><br><span class="line">              <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out  </span><br><span class="line">              <span class="attribute">color</span> <span class="number">#969797</span>  </span><br><span class="line">              <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">                <span class="attribute">color</span>: <span class="variable">$text</span>-hover  </span><br><span class="line">      <span class="selector-class">.article-content</span>  </span><br><span class="line">        <span class="attribute">display</span> flex  </span><br><span class="line">        <span class="attribute">text-align</span>: center  </span><br><span class="line">        <span class="attribute">flex-direction</span> row  </span><br><span class="line">        <span class="attribute">align-items</span> center  </span><br><span class="line">        <span class="attribute">justify-content</span> center  </span><br><span class="line">        <span class="selector-class">.article-content-text</span>  </span><br><span class="line">          <span class="attribute">display</span> -webkit-box  </span><br><span class="line">          -webkit-box-orient vertical  </span><br><span class="line">          <span class="attribute">text-overflow</span>: ellipsis  </span><br><span class="line">          <span class="attribute">overflow</span> hidden  </span><br><span class="line">          <span class="attribute">color</span> <span class="number">#fff</span>  </span><br><span class="line">          <span class="attribute">text-shadow</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">3px</span> <span class="number">#000</span>  </span><br><span class="line">          <span class="selector-pseudo">&amp;::before</span>  </span><br><span class="line">            <span class="attribute">content</span> <span class="string">&quot;❝&quot;</span>  </span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">20px</span>  </span><br><span class="line">          <span class="selector-pseudo">&amp;::after</span>  </span><br><span class="line">            <span class="attribute">content</span> <span class="string">&quot;❞&quot;</span>  </span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">20px</span>  </span><br><span class="line">    &amp;<span class="selector-class">.ads-wrap</span>  </span><br><span class="line">      <span class="attribute">display</span>: block <span class="meta">!important</span>  </span><br><span class="line">      <span class="attribute">height</span>: auto <span class="meta">!important</span>  </span><br><span class="line"><span class="comment">// PC端滑动卡片样式  </span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">1069px</span>)  </span><br><span class="line">  .recent-posts  </span><br><span class="line">    padding <span class="number">0</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">15px</span>  </span><br><span class="line">    .recent-post-item  </span><br><span class="line">      .recent-post-content  </span><br><span class="line">        position relative  </span><br><span class="line">        <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">        transition var(--recent-post-transition)  </span><br><span class="line">        &amp;:<span class="attribute">hover</span>  </span><br><span class="line">          .recent-post-cover-shadow  </span><br><span class="line">            <span class="attribute">width</span> <span class="number">10.1%</span>  </span><br><span class="line">            transition var(--recent-post-transition)  </span><br><span class="line">          .recent-post-cover  </span><br><span class="line">            <span class="attribute">width</span> <span class="number">10%</span>  </span><br><span class="line">            transition var(--recent-post-transition)  </span><br><span class="line">          .article-content  </span><br><span class="line">            <span class="attribute">width</span> calc(<span class="number">30%</span> + <span class="number">80px</span>)  </span><br><span class="line">            transition var(--recent-post-transition)  </span><br><span class="line">            .article-content-text  </span><br><span class="line">              opacity <span class="number">1</span>  </span><br><span class="line">          .recent-post-arrow  </span><br><span class="line">            transition var(--recent-post-transition)  </span><br><span class="line">        .recent-post-cover-shadow  </span><br><span class="line">          z-index: <span class="number">1</span>  </span><br><span class="line">          transition var(--recent-post-transition)  </span><br><span class="line">          position: absolute  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">40%</span>  </span><br><span class="line">        .recent-post-cover  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">40%</span>  </span><br><span class="line">          transition var(--recent-post-transition)  </span><br><span class="line">          img  </span><br><span class="line">            <span class="attribute">height</span> <span class="number">100%</span>  </span><br><span class="line">            <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">            object-fit cover  </span><br><span class="line">  </span><br><span class="line">        .recent-post-info  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">          <span class="attribute">width</span> calc(<span class="number">60%</span> - <span class="number">80px</span>)  </span><br><span class="line">          .article-title  </span><br><span class="line">            margin: <span class="number">0px</span> <span class="number">40px</span>  </span><br><span class="line">            font-size <span class="number">24px</span>  </span><br><span class="line">            .article-title-link  </span><br><span class="line">              -webkit-line-clamp: <span class="number">2</span>;  </span><br><span class="line">          <span class="selector-class">.recent-post-meta</span>  </span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">20px</span>  </span><br><span class="line">            <span class="selector-class">.article-meta-wrap</span>  </span><br><span class="line">              <span class="attribute">font-size</span> <span class="number">12px</span>  </span><br><span class="line">              -webkit-line-clamp: <span class="number">3</span>;  </span><br><span class="line">        <span class="selector-class">.article-content</span>  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">90px</span>  </span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">var</span>(--article-content-bgcolor)  </span><br><span class="line">          <span class="attribute">transition</span> <span class="built_in">var</span>(--recent-post-transition)  </span><br><span class="line">          <span class="selector-class">.article-content-text</span>  </span><br><span class="line">            -webkit-line-clamp <span class="number">4</span>  </span><br><span class="line">            <span class="attribute">transition</span>: <span class="built_in">var</span>(--recent-post-transition)  </span><br><span class="line">            <span class="attribute">opacity</span> <span class="number">0</span>  </span><br><span class="line">        <span class="selector-class">.recent-post-arrow</span>  </span><br><span class="line">          <span class="attribute">transition</span> <span class="built_in">var</span>(--recent-post-transition)  </span><br><span class="line">          <span class="attribute">display</span> block  </span><br><span class="line">          <span class="attribute">position</span> absolute  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">20px</span>  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">8px</span>  </span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">var</span>(--recent-post-arrow)  </span><br><span class="line">        &amp;<span class="selector-class">.both</span>,  </span><br><span class="line">        &amp;<span class="selector-class">.right</span>  </span><br><span class="line">          <span class="selector-class">.recent-post-cover-shadow</span>  </span><br><span class="line">            <span class="attribute">left</span> <span class="number">0</span>  </span><br><span class="line">            <span class="attribute">background</span> <span class="built_in">linear-gradient</span>(to left, <span class="built_in">var</span>(--recent-post-cover-shadow), transparent)  </span><br><span class="line">          <span class="selector-class">.recent-post-cover</span>  </span><br><span class="line">            <span class="attribute">order</span>: <span class="number">1</span>  </span><br><span class="line">          <span class="selector-class">.recent-post-info</span>  </span><br><span class="line">            <span class="attribute">order</span>: <span class="number">2</span>  </span><br><span class="line">          <span class="selector-class">.article-content</span>  </span><br><span class="line">            <span class="attribute">order</span>: <span class="number">3</span>  </span><br><span class="line">            <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">50%</span>, <span class="number">80px</span> <span class="number">0</span>, <span class="number">100%</span> <span class="number">0</span>, <span class="number">100%</span> <span class="number">100%</span>, <span class="number">80px</span> <span class="number">100%</span>)  </span><br><span class="line">            <span class="selector-class">.article-content-text</span>  </span><br><span class="line">              <span class="attribute">margin</span> <span class="number">20px</span> <span class="number">40px</span> <span class="number">20px</span> <span class="number">80px</span>  </span><br><span class="line">          <span class="selector-class">.recent-post-arrow</span>  </span><br><span class="line">            <span class="attribute">order</span>: <span class="number">4</span>  </span><br><span class="line">            <span class="attribute">left</span> <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">80px</span>)  </span><br><span class="line">            <span class="attribute">top</span> <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">10px</span>)  </span><br><span class="line">            <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">10px</span>, <span class="number">8px</span> <span class="number">0</span>, <span class="number">8px</span> <span class="number">20px</span>)  </span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">            <span class="selector-class">.recent-post-arrow</span>  </span><br><span class="line">              <span class="attribute">left</span> <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">40px</span>)  </span><br><span class="line">        &amp;<span class="selector-class">.left</span>  </span><br><span class="line">          <span class="selector-class">.recent-post-cover-shadow</span>  </span><br><span class="line">            <span class="attribute">right</span> <span class="number">0</span>  </span><br><span class="line">            <span class="attribute">background</span> <span class="built_in">linear-gradient</span>(to right, <span class="built_in">var</span>(--recent-post-cover-shadow), transparent)  </span><br><span class="line">          <span class="selector-class">.recent-post-cover</span>  </span><br><span class="line">            <span class="attribute">order</span>: <span class="number">4</span>  </span><br><span class="line">          <span class="selector-class">.recent-post-info</span>  </span><br><span class="line">            <span class="attribute">order</span>: <span class="number">3</span>  </span><br><span class="line">          <span class="selector-class">.article-content</span>  </span><br><span class="line">            <span class="attribute">order</span>: <span class="number">2</span>  </span><br><span class="line">            <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">100%</span> <span class="number">50%</span>,<span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">80px</span>) <span class="number">100%</span>,<span class="number">0</span> <span class="number">100%</span>,<span class="number">0</span> <span class="number">0</span>,<span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">80px</span>) <span class="number">0</span>)  </span><br><span class="line">            <span class="selector-class">.article-content-text</span>  </span><br><span class="line">              <span class="attribute">margin</span> <span class="number">20px</span> <span class="number">80px</span> <span class="number">20px</span> <span class="number">40px</span>  </span><br><span class="line">          <span class="selector-class">.recent-post-arrow</span>  </span><br><span class="line">            <span class="attribute">order</span>: <span class="number">1</span>  </span><br><span class="line">            <span class="attribute">left</span> <span class="number">72px</span>  </span><br><span class="line">            <span class="attribute">top</span> <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">10px</span>)  </span><br><span class="line">            <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>, <span class="number">8px</span> <span class="number">10px</span>, <span class="number">0</span> <span class="number">20px</span>)  </span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">            <span class="selector-class">.recent-post-arrow</span>  </span><br><span class="line">              <span class="attribute">left</span> <span class="number">32px</span>  </span><br><span class="line"><span class="comment">// 双栏布局卡片自适应适配  </span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">572px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">1068px</span>)  </span><br><span class="line">  .recent-posts  </span><br><span class="line">    padding <span class="number">0</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">15px</span>  </span><br><span class="line">    display flex  </span><br><span class="line">    flex-direction row  </span><br><span class="line">    flex-wrap wrap  </span><br><span class="line">    .recent-post-item  </span><br><span class="line">      border-radius <span class="number">15px</span>  </span><br><span class="line">      overflow hidden  </span><br><span class="line">      <span class="attribute">width</span> <span class="number">47%</span>  </span><br><span class="line">      margin <span class="number">0px</span> <span class="number">3%</span> <span class="number">20px</span> <span class="number">0px</span>  </span><br><span class="line">    nav#pagination  </span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>  </span><br><span class="line">// 手机端单栏布局自适应适配  </span><br><span class="line">@media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">572px</span>)  </span><br><span class="line">  .recent-posts  </span><br><span class="line">    padding <span class="number">0</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">15px</span>  </span><br><span class="line">    .recent-post-item  </span><br><span class="line">      border-radius <span class="number">15px</span>  </span><br><span class="line">      overflow hidden  </span><br><span class="line">          </span><br><span class="line">// 手机端及双栏卡片样式  </span><br><span class="line">@media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">1068px</span>)  </span><br><span class="line">  .recent-posts  </span><br><span class="line">    .recent-post-item  </span><br><span class="line">      .recent-post-content  </span><br><span class="line">        flex-direction column  </span><br><span class="line">        flex-wrap nowrap  </span><br><span class="line">        align-items center  </span><br><span class="line">        <span class="attribute">max-height</span> <span class="number">350px</span>  </span><br><span class="line">        <span class="attribute">height</span>: auto   </span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">        .recent-post-cover  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">          clip-path polygon(<span class="number">0</span> <span class="number">130px</span>,<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">130px</span>,<span class="number">50%</span> <span class="number">100%</span>)  </span><br><span class="line">          img  </span><br><span class="line">            <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">            <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">            object-fit cover  </span><br><span class="line">        .recent-post-info  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">150px</span>  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">          padding <span class="number">0px</span> <span class="number">25px</span> <span class="number">5px</span> <span class="number">25px</span>  </span><br><span class="line">          .article-title  </span><br><span class="line">            margin: <span class="number">0px</span> <span class="number">40px</span>  </span><br><span class="line">            font-size <span class="number">18px</span>  </span><br><span class="line">            .article-title-link  </span><br><span class="line">              -webkit-line-clamp: <span class="number">2</span>;  </span><br><span class="line">          <span class="selector-class">.recent-post-meta</span>  </span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">20px</span>  </span><br><span class="line">            <span class="selector-class">.article-meta-wrap</span>  </span><br><span class="line">              <span class="attribute">font-size</span> <span class="number">12px</span>  </span><br><span class="line">              -webkit-line-clamp: <span class="number">3</span>;  </span><br><span class="line">        <span class="selector-class">.article-content</span>  </span><br><span class="line">          <span class="attribute">position</span> absolute  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">rgba</span>(<span class="number">25</span>,<span class="number">25</span>,<span class="number">25</span>,<span class="number">0.5</span>)  </span><br><span class="line">          <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">130px</span>,<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">130px</span>,<span class="number">50%</span> <span class="number">100%</span>)  </span><br><span class="line">          <span class="selector-class">.article-content-text</span>  </span><br><span class="line">            -webkit-line-clamp <span class="number">3</span>  </span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">16px</span>  </span><br><span class="line">            <span class="attribute">margin</span> <span class="number">0px</span> <span class="number">25px</span> <span class="number">30px</span> <span class="number">25px</span>  </span><br><span class="line">        <span class="selector-class">.recent-post-arrow</span>  </span><br><span class="line">          <span class="attribute">display</span> block  </span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">var</span>(--article-content-bgcolor)  </span><br><span class="line">          <span class="attribute">position</span> absolute  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">10px</span>  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">20px</span>  </span><br><span class="line">          <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">50%</span> <span class="number">100%</span>)  </span><br><span class="line">          <span class="attribute">top</span> <span class="number">20px</span></span><br></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// multicard</span></span><br><span class="line"><span class="selector-pseudo">:root</span>  </span><br><span class="line">  <span class="attr">--theme-color</span>:<span class="built_in">rgb</span>(<span class="number">57</span>, <span class="number">197</span>, <span class="number">187</span>)  </span><br><span class="line">  <span class="attr">--text-bg-hover</span>:<span class="built_in">rgba</span>(<span class="number">57</span>, <span class="number">197</span>, <span class="number">187</span>, <span class="number">0.7</span>)  </span><br><span class="line">    </span><br><span class="line"><span class="selector-class">.recent-posts</span>  </span><br><span class="line">  <span class="attribute">padding</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="number">5px</span>  </span><br><span class="line">  <span class="attribute">height</span> fit-content  </span><br><span class="line">  <span class="selector-class">.recent-post-item</span>  </span><br><span class="line">    <span class="attribute">margin-bottom</span> <span class="number">15px</span>  </span><br><span class="line">    <span class="attribute">overflow</span> hidden  </span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">15px</span>  </span><br><span class="line">    <span class="selector-class">.recent-post-content</span>  </span><br><span class="line">      <span class="attribute">display</span> flex  </span><br><span class="line">      <span class="attribute">position</span> relative  </span><br><span class="line">      <span class="selector-class">.recent-post-cover</span>  </span><br><span class="line">        <span class="attribute">display</span> flex  </span><br><span class="line">        <span class="attribute">background</span> transparent  </span><br><span class="line">      <span class="selector-class">.recent-post-info</span>  </span><br><span class="line">        <span class="attribute">display</span> flex  </span><br><span class="line">        <span class="attribute">background</span> transparent  </span><br><span class="line">        <span class="attribute">flex-direction</span> column  </span><br><span class="line">        <span class="attribute">justify-content</span> center  </span><br><span class="line">        <span class="attribute">align-items</span> center  </span><br><span class="line">        <span class="selector-class">.article-title</span>  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">50%</span>  </span><br><span class="line">          <span class="attribute">display</span>: flex  </span><br><span class="line">          <span class="attribute">text-align</span>: center  </span><br><span class="line">          <span class="attribute">align-items</span>: center  </span><br><span class="line">          <span class="attribute">justify-content</span>: flex-end  </span><br><span class="line">          <span class="attribute">flex-direction</span>: column  </span><br><span class="line">          <span class="selector-class">.article-title-link</span>  </span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color)  </span><br><span class="line">            <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out  </span><br><span class="line">            <span class="attribute">display</span>: -webkit-box;  </span><br><span class="line">            -webkit-box-orient: vertical;  </span><br><span class="line">            <span class="attribute">overflow</span>: hidden;  </span><br><span class="line">            <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">              <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color)  </span><br><span class="line">        <span class="selector-class">.recent-post-meta</span>  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">50%</span>  </span><br><span class="line">          <span class="attribute">display</span>: flex  </span><br><span class="line">          <span class="attribute">text-align</span>: center  </span><br><span class="line">          <span class="attribute">align-items</span>: center  </span><br><span class="line">          <span class="attribute">justify-content</span>: flex-start  </span><br><span class="line">          <span class="attribute">flex-direction</span>: column  </span><br><span class="line">          <span class="selector-class">.article-meta-wrap</span>  </span><br><span class="line">            <span class="attribute">color</span> <span class="number">#969797</span>  </span><br><span class="line">            <span class="attribute">display</span>: -webkit-box;  </span><br><span class="line">            -webkit-box-orient: vertical;  </span><br><span class="line">            <span class="attribute">overflow</span>: hidden;  </span><br><span class="line">            <span class="selector-tag">a</span>  </span><br><span class="line">              <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color)  </span><br><span class="line">              <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out  </span><br><span class="line">              <span class="attribute">color</span> <span class="number">#969797</span>  </span><br><span class="line">              <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">                <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color)  </span><br><span class="line">      <span class="selector-class">.article-content</span>  </span><br><span class="line">        <span class="attribute">display</span> flex  </span><br><span class="line">        <span class="attribute">text-align</span>: center  </span><br><span class="line">        <span class="attribute">flex-direction</span> row  </span><br><span class="line">        <span class="attribute">align-items</span> center  </span><br><span class="line">        <span class="attribute">justify-content</span> center  </span><br><span class="line">        <span class="selector-class">.article-content-text</span>  </span><br><span class="line">          <span class="attribute">display</span> -webkit-box  </span><br><span class="line">          -webkit-box-orient vertical  </span><br><span class="line">          <span class="attribute">text-overflow</span>: ellipsis  </span><br><span class="line">          <span class="attribute">overflow</span> hidden  </span><br><span class="line">          <span class="attribute">color</span> <span class="number">#fff</span>  </span><br><span class="line">          <span class="attribute">text-shadow</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">3px</span> <span class="number">#000</span>  </span><br><span class="line">          <span class="attribute">transition</span> transform <span class="number">0.6s</span>;  </span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span>  </span><br><span class="line">            <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);  </span><br><span class="line">    &amp;<span class="selector-class">.ads-wrap</span>  </span><br><span class="line">      <span class="attribute">display</span>: block <span class="meta">!important</span>  </span><br><span class="line">      <span class="attribute">height</span>: auto <span class="meta">!important</span>  </span><br><span class="line">  nav<span class="selector-id">#pagination</span>  </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>  </span><br><span class="line"><span class="comment">// 卡片单元布局样式  </span></span><br><span class="line"><span class="selector-class">.recent-posts</span>  </span><br><span class="line">  <span class="attribute">padding</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="number">5px</span>  </span><br><span class="line">  <span class="attribute">display</span> flex  </span><br><span class="line">  <span class="attribute">flex-direction</span> row  </span><br><span class="line">  <span class="attribute">flex-wrap</span> wrap  </span><br><span class="line">  <span class="selector-class">.recent-post-item</span>  </span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">15px</span>  </span><br><span class="line">    <span class="attribute">overflow</span> hidden  </span><br><span class="line">    <span class="selector-class">.recent-post-content</span>  </span><br><span class="line">      <span class="attribute">flex-direction</span> column  </span><br><span class="line">      <span class="attribute">flex-wrap</span> nowrap  </span><br><span class="line">      <span class="attribute">align-items</span> center  </span><br><span class="line">      <span class="attribute">max-height</span> <span class="number">350px</span>  </span><br><span class="line">      <span class="attribute">height</span>: auto  </span><br><span class="line">      <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">      <span class="selector-class">.recent-post-cover</span>  </span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">        <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">        <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">130px</span>,<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">130px</span>,<span class="number">50%</span> <span class="number">100%</span>)  </span><br><span class="line">        <span class="selector-tag">img</span>  </span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">          <span class="attribute">object-fit</span> cover  </span><br><span class="line">      <span class="selector-class">.recent-post-info</span>  </span><br><span class="line">        <span class="attribute">height</span> <span class="number">145px</span>  </span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">        <span class="attribute">padding</span> <span class="number">0px</span> <span class="number">25px</span> <span class="number">5px</span> <span class="number">25px</span>  </span><br><span class="line">        <span class="selector-class">.article-title</span>  </span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">40px</span>  </span><br><span class="line">          <span class="attribute">font-size</span> <span class="number">19px</span>  </span><br><span class="line">          <span class="selector-class">.article-title-link</span>  </span><br><span class="line">            -webkit-line-clamp: <span class="number">2</span>;  </span><br><span class="line">        <span class="selector-class">.recent-post-meta</span>  </span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">20px</span>  </span><br><span class="line">          <span class="selector-class">.article-meta-wrap</span>  </span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">13px</span>  </span><br><span class="line">            -webkit-line-clamp: <span class="number">3</span>;  </span><br><span class="line">      <span class="selector-class">.article-content</span>  </span><br><span class="line">        <span class="attribute">position</span> absolute  </span><br><span class="line">        <span class="attribute">height</span> <span class="number">200px</span>  </span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span>  </span><br><span class="line">        <span class="attribute">background</span> <span class="built_in">rgba</span>(<span class="number">25</span>,<span class="number">25</span>,<span class="number">25</span>,<span class="number">0.4</span>)  </span><br><span class="line">        <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">130px</span>,<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">130px</span>,<span class="number">50%</span> <span class="number">100%</span>)  </span><br><span class="line">        <span class="selector-class">.article-content-text</span>  </span><br><span class="line">          -webkit-line-clamp <span class="number">3</span>  </span><br><span class="line">          <span class="attribute">font-size</span> <span class="number">16px</span>  </span><br><span class="line">          <span class="attribute">margin</span> <span class="number">0px</span> <span class="number">25px</span> <span class="number">30px</span> <span class="number">25px</span>  </span><br><span class="line">          <span class="selector-pseudo">&amp;::before</span>  </span><br><span class="line">            <span class="attribute">content</span> <span class="string">&quot;「&quot;</span>  </span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">20px</span>  </span><br><span class="line">          <span class="selector-pseudo">&amp;::after</span>  </span><br><span class="line">            <span class="attribute">content</span> <span class="string">&quot;」&quot;</span>  </span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">20px</span>  </span><br><span class="line">      <span class="selector-class">.recent-post-arrow</span>  </span><br><span class="line">        <span class="attribute">display</span> block  </span><br><span class="line">        <span class="attribute">background</span> <span class="built_in">var</span>(--text-bg-hover)  </span><br><span class="line">        <span class="attribute">position</span> absolute  </span><br><span class="line">        <span class="attribute">height</span> <span class="number">10px</span>  </span><br><span class="line">        <span class="attribute">width</span> <span class="number">20px</span>  </span><br><span class="line">        <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">50%</span> <span class="number">100%</span>)  </span><br><span class="line"><span class="comment">// 三栏布局滑动卡片样式  </span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">1069px</span>)  </span><br><span class="line">  .recent-posts  </span><br><span class="line">    .recent-post-item  </span><br><span class="line">      <span class="attribute">width</span> <span class="number">32.3%</span>  </span><br><span class="line">      margin <span class="number">0px</span> <span class="number">1%</span> <span class="number">20px</span> <span class="number">0px</span>  </span><br><span class="line">      .recent-post-content  </span><br><span class="line">        .recent-post-info  </span><br><span class="line">          .article-title  </span><br><span class="line">            margin: <span class="number">0px</span> <span class="number">5px</span>  </span><br><span class="line">            .article-title-link  </span><br><span class="line">              -webkit-line-clamp: <span class="number">1</span>;  </span><br><span class="line">          <span class="selector-class">.recent-post-meta</span>  </span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">5px</span>  </span><br><span class="line">            <span class="selector-class">.article-meta-wrap</span>  </span><br><span class="line">              -webkit-line-clamp: <span class="number">2</span>;  </span><br><span class="line"><span class="comment">// 双栏布局卡片自适应适配  </span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">572px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">1068px</span>)  </span><br><span class="line">  .recent-posts  </span><br><span class="line">    .recent-post-item  </span><br><span class="line">      <span class="attribute">width</span> <span class="number">47%</span>  </span><br><span class="line">      margin <span class="number">0px</span> <span class="number">3%</span> <span class="number">20px</span> <span class="number">0px</span>  </span><br><span class="line">// 单栏布局卡片自适应适配  </span><br><span class="line">@media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">572px</span>)  </span><br><span class="line">  .recent-posts  </span><br><span class="line">    .recent-post-item  </span><br><span class="line">      <span class="attribute">width</span> <span class="number">100%</span></span><br></pre></td></tr></table></figure><ol start="3"><li><p>修改<code>[BlogRoot]\themes\butterfly\source\css\_page\homepage.styl</code>,将整文件内容替换为以下代码：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;index_card_style&#x27;</span>) == <span class="string">&#x27;slidecard&#x27;</span>  </span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&#x27;./_index_card_style/slidecard&#x27;</span>  </span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;index_card_style&#x27;</span>) == <span class="string">&#x27;multicard&#x27;</span>  </span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&#x27;./_index_card_style/multicard&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>然后在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>里新增配置项，这样我们就可以通过配置项自由切换使用哪款了：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主页卡片样式  </span></span><br><span class="line"><span class="comment"># Docs: https://akilar.top/posts/d6b69c49/  </span></span><br><span class="line"><span class="attr">index_card_style:</span> <span class="string">multicard</span> <span class="comment"># slidecard | multicard.styl </span></span><br></pre></td></tr></table></figure></li><li><p>考虑到不管是样式一还是样式二都存在一个布局突变的情况。为了不至于让首页的文章出现空缺，建议将首页生成的文章数量控制为1,2,3的公倍数。修改站点配置文件<code>[BlogRoot]\_config.yml</code>。找到以下配置项进行调整，注意这是站点配置文件本就有的配置项，不是新增配置项。建议是调整为12篇。如果你的侧边栏魔改内容特别多，那么建议改成18、24、30。务必确保文章卡片栏比侧栏完全展开要长，这样展示效果最好</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Home page setting  </span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = &#x27;&#x27;)  </span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)  </span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)  </span></span><br><span class="line"><span class="attr">index_generator:</span>  </span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span>  </span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">12</span>  </span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br></pre></td></tr></table></figure></li><li><p>查看主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>,找到配置项开启描述栏，建议选择2模式，这样同时可以自定义描述和封面</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Display the article introduction on homepage  </span></span><br><span class="line"><span class="comment"># 1: description  </span></span><br><span class="line"><span class="comment"># 2: both (if the description exists, it will show description, or show the auto_excerpt)  </span></span><br><span class="line"><span class="comment"># 3: auto_excerpt (default)  </span></span><br><span class="line"><span class="comment"># false: do not show the article introduction  </span></span><br><span class="line"><span class="attr">index_post_content:</span>  </span><br><span class="line">  <span class="attr">method:</span> <span class="number">2</span>  </span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> <span class="comment"># if you set method to 2 or 3, the length need to config</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="信息卡片背景图"><a href="#信息卡片背景图" class="headerlink" title="信息卡片背景图"></a>信息卡片背景图</h2><p>在<code>custom.css</code>中加入以下样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 个人信息卡片背景图 */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &#123;  </span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://sourcebucket.s3.ladydaily.com/img/snowflower.webp</span>);  </span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;  </span><br><span class="line">  <span class="attribute">background-attachment</span>: inherit;  </span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &#123;  </span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://sourcebucket.s3.ladydaily.com/img/aurora.webp</span>);  </span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;  </span><br><span class="line">  <span class="attribute">background-attachment</span>: inherit;  </span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>一个是白天模式，一个是夜晚模式，也可以直接只要一个，删除判断</li><li>图片最最好用渐变的，我比较懒，直接用的透明的</li></ul><h2 id="头像呼吸灯"><a href="#头像呼吸灯" class="headerlink" title="头像呼吸灯"></a>头像呼吸灯</h2><p>在<code>custom.css</code>添加如下代码，颜色和时间啥的可以根据自己的喜好调节</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 头像呼吸灯 */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.avatar-img</span> &#123;  </span><br><span class="line">  <span class="attribute">animation</span>: huxi_light <span class="number">4s</span> ease-in-out infinite;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.avatar-img</span> &#123;  </span><br><span class="line">  <span class="attribute">animation</span>: huxi_dark <span class="number">4s</span> ease-in-out infinite;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">@keyframes</span> huxi_light &#123;  </span><br><span class="line">  <span class="number">0%</span> &#123;  </span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">#e9f5fa</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">5px</span> <span class="number">5px</span> <span class="number">#e9f5fa</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">100%</span> &#123;  </span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">#e9f5fa</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">@keyframes</span> huxi_dark &#123;  </span><br><span class="line">  <span class="number">0%</span> &#123;  </span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">#39c5bb</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">50%</span> &#123;  </span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">5px</span> <span class="number">5px</span> <span class="number">#39c5bb</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="number">100%</span> &#123;  </span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">#39c5bb</span>;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>代码不难看懂，就是关键帧之间通过某个插值方法连续变样式而已</li><li>本人删除了白天和黑夜的判断，并增加了一些关键帧</li></ul><h2 id="网站变化标题"><a href="#网站变化标题" class="headerlink" title="网站变化标题"></a>网站变化标题</h2><ol><li>新建文件<code>[BlogRoot]\source\js\title.js</code>，写入以下内容：<br>可以使用emoji，win+.即可开始输入<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//动态标题  </span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">OriginTitile</span> = <span class="variable language_">document</span>.<span class="property">title</span>;  </span><br><span class="line"><span class="keyword">var</span> titleTime;  </span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">hidden</span>) &#123;  </span><br><span class="line">    <span class="comment">//离开当前页面时标签显示内容  </span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;ATRI沉睡中&#x27;</span>;  </span><br><span class="line">    <span class="built_in">clearTimeout</span>(titleTime);  </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">    <span class="comment">//返回当前页面时标签显示内容  </span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;你回来啦&#x27;</span>;  </span><br><span class="line">    <span class="comment">//两秒后变回正常标题  </span></span><br><span class="line">    titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitile</span>;  </span><br><span class="line">    &#125;, <span class="number">2000</span>);  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>在主题配置文件<code>_config.butterfly.yml</code>引入该文件：<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>   </span><br><span class="line">  <span class="attr">bottom:</span>   </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;/js/title.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 网站搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
            <tag> next </tag>
            
            <tag> fomalhaut </tag>
            
            <tag> design </tag>
            
            <tag> akilar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web-02 Github deploy</title>
      <link href="/2024/03/14/web-deploy/"/>
      <url>/2024/03/14/web-deploy/</url>
      
        <content type="html"><![CDATA[<p>网页放在本地服务器上肯定是毫无价值的，所以我们要将它发布到互联网上<br>方法有很多，最方便的就是白嫖github pages，缺点就是只能部署静态网页<br>后续可能会部署到树莓派上</p><h2 id="一键部署"><a href="#一键部署" class="headerlink" title="一键部署"></a>一键部署</h2><p>一键部署有很多方法，详细见文档<a href="https://hexo.io/zh-cn/docs/one-command-deployment">部署 | Hexo</a><br>我最喜欢的方法是使用git和一个插件</p><h3 id="前置工作"><a href="#前置工作" class="headerlink" title="前置工作"></a>前置工作</h3><ul><li>git相关<ul><li>git全局信息设置</li><li>ssh 和 git-credential</li><li>http和https可能需要关闭验证机制</li></ul></li><li>安装插件<ul><li>在根目录使用命令<code>npm install hexo-deployer-git --save</code>一键安装</li></ul></li></ul><h3 id="配置网站"><a href="#配置网站" class="headerlink" title="配置网站"></a>配置网站</h3><h4 id="首先要修改一些框架的配置"><a href="#首先要修改一些框架的配置" class="headerlink" title="首先要修改一些框架的配置"></a>首先要修改一些框架的配置</h4><p>找到框架_config.yml里的deploy项，修改为：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span>  </span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span>  </span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&lt;repository</span> <span class="string">url&gt;</span> <span class="comment"># 你的项目地址，注意不是下载地址，是下载地址去掉.git  </span></span><br><span class="line">  <span class="attr">branch:</span> [<span class="string">branch</span>]  <span class="comment"># 决定上传到哪一分支</span></span><br><span class="line">  <span class="attr">message:</span> [<span class="string">message</span>] <span class="comment"># 可选，上传的message</span></span><br></pre></td></tr></table></figure><h4 id="配置个人仓库"><a href="#配置个人仓库" class="headerlink" title="配置个人仓库"></a>配置个人仓库</h4><p><strong>个人仓库只能有一个</strong><br>在github上创建一个repo，取名为<code>&lt;username&gt;.github.io</code><br>然后就不用管了，把地址复制下来，这时的地址带有.git后缀，可以选择不复制</p><p>将地址填入框架配置文件里，并将branch设置为master（默认在这个分支创建网页）<br>当然也可以设置为其他branch，这就需要在github再进行一次配置</p><h4 id="配置项目仓库"><a href="#配置项目仓库" class="headerlink" title="配置项目仓库"></a>配置项目仓库</h4><p><strong>项目仓库可以有无数个</strong><br>在github上随便创造一个repo，随便取名<br>然后就不用管了，但是地址还是要复制下来，注意还是不需要.git后缀</p><p>将地址填入框架配置文件里，并将branch设置为gh-pages（默认在这个分支创建网页）<br><strong>配置网址</strong><br>一般来说网址只要配置相应的url即可</p><h4 id="推送到github"><a href="#推送到github" class="headerlink" title="推送到github"></a>推送到github</h4><p>因为我们使用了方便的插件，所以操作很简单</p><ul><li>首先使用<code>hexo clean</code>&#x2F;<code>hexo cl</code>清理工作目录，这有利于一些变动的应用，可以多多使用，如果你发现某个改变没有应用上，就清理后再生成</li><li>然后<code>hexo g</code>生成网页</li><li>再然后你可以使用<code>hexo s</code>审视一下自己的网站，也可以不看</li><li>最后使用<code>hexo d</code>一键推送到github</li></ul><h3 id="github设置"><a href="#github设置" class="headerlink" title="github设置"></a>github设置</h3><p>来到github就能发现文件已经被上传到了仓库中，这时可以进行一些操作</p><ul><li>在仓库的settings里点击Pages，可以调整一些网页生成的选项<ul><li>修改生成依赖的分支</li><li>修改生成依赖的目录（如果你想把框架也上传到同一个仓库）</li><li>设置自定义域名（前提是你买了）</li></ul></li><li>在仓库的Actions中可以看到网页生成的进度和历史，如果网页生成出错了，错误报告也到这里看</li></ul><h3 id="后续工作"><a href="#后续工作" class="headerlink" title="后续工作"></a>后续工作</h3><p>如果熟练的话可以选择将框架也放在仓库中<br>因为很容易发现实际上框架根目录下有一个文件夹<code>.deploy_git</code>,其实这就是上传的内容<br>但是由于deploy命令具有覆盖性，所以必须要把框架放在另一个branch里<br>比如创建一个framework的branch，专门保存框架<br>但是正如之前所言，git的branch不应该完全不同，不然还不如开两个仓库</p><p>最好开另一个仓库保存框架，这样命令行用起来舒服<br>并且后续可以通过GitHub actions自动部署</p>]]></content>
      
      
      <categories>
          
          <category> 网站搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> git </tag>
            
            <tag> pages </tag>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web-01 hexo框架</title>
      <link href="/2024/03/12/web-frame/"/>
      <url>/2024/03/12/web-frame/</url>
      
        <content type="html"><![CDATA[<h1 id="git学习"><a href="#git学习" class="headerlink" title="git学习"></a>git学习</h1><p>由于github是基于git的网站，所以熟练运用git是必不可少的<br>无论你使用什么框架，最后还是要用git上传和部署</p><h1 id="hexo框架安装"><a href="#hexo框架安装" class="headerlink" title="hexo框架安装"></a>hexo框架安装</h1><p>考虑到与时俱进，直接去hexo官网看文档就行，反正也有中文<br><a href="https://hexo.io/zh-cn/docs/index.html">文档 | Hexo</a></p><ul><li>注意前置安装node.js和附属的npm</li></ul><h1 id="hexo框架部署"><a href="#hexo框架部署" class="headerlink" title="hexo框架部署"></a>hexo框架部署</h1><h2 id="部署hexo"><a href="#部署hexo" class="headerlink" title="部署hexo"></a>部署hexo</h2><ul><li>hexo作为一个框架可以非常方便地根据设计数据生成网站并上传到github</li><li>应当将hexo视为一个生成器，可以为其安排一个repo，但是最好不要放在GitHub pages 的repo里，虽然可以指定一个branch生成页面，但是两个branch完全不同是违背git的初衷的，可以考虑为这个框架单独开一个repo</li></ul><p>依旧讲究与时俱进，看文档吧 <a href="https://hexo.io/zh-cn/docs/setup">建站 | Hexo</a></p><ul><li>该文档内介绍了hexo框架下的部分文件夹的作用</li></ul><h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><ul><li>在电脑上挑个喜欢的位置，准备创建一个文件夹储存框架</li><li>打开命令行，开始操作<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">跳转到目录位置</span></span><br><span class="line">cd &quot;&lt;file folder you&#x27;d like to put the folder in&gt;&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建工作目录</span></span><br><span class="line">hexo init &lt;folder&gt; # hexo初始化</span><br><span class="line">cd &lt;folder&gt;</span><br><span class="line">npm install # 安装npm</span><br></pre></td></tr></table></figure></li></ul><h2 id="配置hexo"><a href="#配置hexo" class="headerlink" title="配置hexo"></a>配置hexo</h2><p><strong>可以自定义配置很多内容，这里只挑出现问题的讲</strong><br>本质上不用急着配置，到时候准备好设计网站的时候再一起配置<br><a href="https://hexo.io/zh-cn/docs/configuration">配置 | Hexo</a></p><h3 id="配置网址"><a href="#配置网址" class="headerlink" title="配置网址"></a>配置网址</h3><blockquote><p>众所周知的是github pages创建的静态网站域名有固定的设置，即<br>&lt;username&gt;.github.io<br>如果你想要分开部署多个网站，github并不提供三级域名，像<br>&lt;another name&gt;.&lt;username&gt;.github.io<br>而是通过域名下级目录的形式实现，即<br>&lt;username&gt;.github.io&#x2F;&lt;repo name&gt;</p></blockquote><ul><li>如果我们依旧以最初仓库的方法部署这个项目仓库的github pages，将会导致css等文件无法读取，网页渲染只剩下字和链接，格式全没了；</li><li>而且链接的格式也是错误的，当你点击链接时，会发现原本应该是<br>…&#x2F;&lt;repo name&gt;&#x2F;…&#x2F;index.html 的链接其实是<br>…&#x2F;…&#x2F;index.html，根本就没有到项目目录下寻找文件</li></ul><p>所以我们需要设置网址相关参数</p><ul><li>url: 改为指定的github pages的域名</li><li>root: 可以不改，目的是解决网站没有部署在根目录上的问题</li></ul><h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><h3 id="方法1——npm-推荐"><a href="#方法1——npm-推荐" class="headerlink" title="方法1——npm(推荐)"></a>方法1——npm(推荐)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure><p>hexo的主题文件夹将被放在node_modules里</p><h3 id="方法2——git"><a href="#方法2——git" class="headerlink" title="方法2——git"></a>方法2——git</h3><p><a href="https://hexo.io/themes/">Themes | Hexo</a><br><strong>hexo的主题就放在框架目录的themes里面</strong><br>一般来说主题的发布者都会非常善良地让你一条命令解决问题<br>只需要呆在根目录，输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &lt;branch and url&gt; themes/&lt;name&gt;</span><br></pre></td></tr></table></figure><p>如果要更新主题，进入主题的文件夹然后git pull即可</p><p><strong>安装主题和下载文件没有本质区别，你可以下载多个主题一个一个尝试</strong><br>当你想要使用某个主题时，只要到hexo框架的_config.yml里修改theme参数即可<br>这个参数本质上是你下载到themes文件夹里的文件夹名，可以自己取名</p><h3 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h3><p>在项目的根目录下复制一个butterfly的_config.yml文件并重命名为_config.butterfly.yml<br>框架将会优先读取根目录下的config,这样方便升级主题版本</p><h1 id="hexo框架使用"><a href="#hexo框架使用" class="headerlink" title="hexo框架使用"></a>hexo框架使用</h1><p>现在终于可以开始创建第一个网站了，当然现在还只是部署在本地</p><h2 id="开始写作"><a href="#开始写作" class="headerlink" title="开始写作"></a>开始写作</h2><p><a href="https://hexo.io/zh-cn/docs/writing">写作 | Hexo</a><br>hexo写作本质上只是给md（或者其他格式的）文件添加了一些标识而已，在掌握了基本法则后你并没有太大必要调用命令行去生成一个文件再去修改，你可以自己创建文件然后写标识<br><strong>俗话说，条条大路通罗马，只要结果一样，怎么做是自己的自由</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">基本方法</span></span><br><span class="line">hexo new [layout] title</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">layout默认为post</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这个命令将会在相应的目录生成一个对应layout的文件</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">layout本质上就是指定scaffolds文件夹里的模板，这个模板我们可以自己设计</span></span><br></pre></td></tr></table></figure><p><strong>不同的主题有不同的编写方式和显示逻辑，建议多看看主题的文档</strong></p><h2 id="生成网页"><a href="#生成网页" class="headerlink" title="生成网页"></a>生成网页</h2><p>通过命令<code>hexo generate</code>或者<code>hexo g</code>生成网页</p><h2 id="展示网页"><a href="#展示网页" class="headerlink" title="展示网页"></a>展示网页</h2><p>通过命令<code>hexo server</code>或<code>hexo s</code>启用本地服务器展示网页<br>默认的访问网址为<code>http://localhost:4000/</code>，ctrl+点击即可打开<br>当然当你[[web-01 框架学习#配置网址|配置了特殊网址]]时，这个网址也会随之变化</p>]]></content>
      
      
      <categories>
          
          <category> 网站搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> frame </tag>
            
            <tag> hexo </tag>
            
            <tag> git </tag>
            
            <tag> pages </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
